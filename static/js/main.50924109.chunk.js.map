{"version":3,"sources":["reportWebVitals.ts","Store/selectors/app-selectors.ts","Store/reducers/app-reducer.ts","Utils/lang.ts","Components/Header/HeaderLang.tsx","Store/reducers/editor-reducer.ts","Store/reducers/workspace-reducer.tsx","Store/reducers/text-reducer.tsx","Components/Header/Header.tsx","Components/common/PageNotFound.tsx","Components/Main/CreateNew/CreateNewItemGraph.tsx","Components/Main/CreateNew/CreateNewItem.tsx","Components/common/RenderTextField.tsx","Store/selectors/editor-selectors.ts","Components/Main/CreateNew/CreateNewCustom.tsx","Components/Main/CreateNew/CreateNew.tsx","Components/Main/Editor/MainSidebar/MainSidebar.tsx","Utils/CONST.ts","Components/Main/Editor/SecondarySidebar/SecondarySidebarTitle.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/BackgroundTabs.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Color/SetColorButton.tsx","Components/common/SelectColorPopover.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Color/SelectColorButton.tsx","Types/types.ts","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Color/Color.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Gradient/GradientStyleButton.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Gradient/GradientStyle.tsx","Components/common/SelectColorButtonCustom.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Gradient/GradientColor.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Gradient/Gradient.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Image/ImageTabs.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Image/MyImages/MyImagesItem.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Image/MyImages/MyImages.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Image/Settings/SettingsAlignButton.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Image/Settings/SettingsAlign.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Image/Settings/SettingsScaleMode.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Image/Settings/Settings.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Image/Image.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/BackgroundBorder.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Background.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarText/Text.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebar.tsx","Store/selectors/workspace-selectors.ts","Components/Main/Editor/Toolbar/ToolbarZoom.tsx","Components/Main/Editor/Toolbar/ToolbarZoomPlus.tsx","Components/Main/Editor/Toolbar/ToolbarZoomMinus.tsx","Components/Main/Editor/Toolbar/ToolbarDownload.tsx","Utils/validators.ts","Components/Main/Editor/Toolbar/DownloadDialog/FileNameForm.tsx","Components/Main/Editor/Toolbar/DownloadDialog/JpegQuality.tsx","Components/common/RenderTextFieldStartAdornment.tsx","Components/Main/Editor/Toolbar/DownloadDialog/LinkForm.tsx","Components/Main/Editor/Toolbar/DownloadDialog/DownloadDialog.tsx","Components/Main/Editor/Toolbar/Toolbar.tsx","Components/Main/Editor/Banner/BannerCanvas/BannerCanvasBorder.tsx","Store/selectors/text-selectors.ts","Components/Main/Editor/Banner/BannerCSS/BannerTextForm.tsx","DragAndDrop/Dnd.ts","Components/Main/Editor/Banner/BannerCSS/BannerCSSText.tsx","Components/Main/Editor/Banner/BannerCSS/BannerCSSTexts.tsx","Components/Main/Editor/Banner/BannerCanvas/BannerCanvasBackground.tsx","Components/Main/Editor/Banner/BannerCanvas/BannerCanvasTexts.tsx","Components/Main/Editor/Banner/BannerCanvas/BannerCanvasWrapper.tsx","Components/Main/Editor/Workspace/LeftPanel/LeftPanelText/ButtonFontStyle.tsx","Components/Main/Editor/Workspace/LeftPanel/LeftPanelText/ButtonLowerCase.tsx","Components/Main/Editor/Workspace/LeftPanel/LeftPanelText/ButtonUpperCase.tsx","Components/Main/Editor/Workspace/LeftPanel/LeftPanelText/LeftPanelText.tsx","Components/Main/Editor/Workspace/LeftPanel/LeftPanelColor.tsx","Components/Main/Editor/Workspace/LeftPanel/LeftPanel.tsx","Components/Main/Editor/Workspace/Workspace.tsx","Components/common/Alarm.tsx","Components/Main/Editor/Editor.tsx","Components/Main/Main.tsx","App.tsx","Store/store.ts","Components/common/ErrorBoundary.tsx","AppContainer.tsx","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","getLang","state","app","lang","getIsCreated","isCreated","initialState","appAC","type","appReducer","action","Lang","translate","phrase","rus","eng","HeaderLang","classes","useStyles","dispatch","useDispatch","useSelector","React","useState","anchorEl","setAnchorEl","title","englishLabel","handleClick","event","currentTarget","handleClose","handleCloseRus","handleCloseEng","useHeaderLang","Tooltip","placement","tooltip","arrow","Button","className","button","startIcon","endIcon","aria-controls","aria-haspopup","onClick","Menu","id","keepMounted","open","Boolean","onClose","MenuItem","selected","makeStyles","color","marginRight","textTransform","backgroundColor","size","width","height","mainSidebarItem","showSecondSidebar","secondarySidebarBackgroundTabIndex","backgroundStyle","useBorder","borderColor","backgroundStyleColor","backgroundStyleGradient","gradientStyle","colorStart","colorEnd","backgroundStyleImage","images","currentImage","scaleMode","align","imageTabIndex","canvasUrl","background","border","text","isLoading","editorAC","src","name","layer","url","editorReducer","find","el","length","readUploadedFileAsUrl","inputFile","reader","FileReader","Promise","resolve","reject","onerror","abort","DOMException","onload","result","readAsDataURL","zoom","downloadCase","jpegQuality","refLeftPanel","isDownloadDialogOpen","fileName","fileNameFormIsValid","link","linkFormIsValid","workspaceReducer","workspaceAC","texts","selectedTextId","showAlarm","textReducer","content","element","fontSize","top","position","left","fontStyle","fontFamily","lowerCase","upperCase","hover","editParameters","editText","map","difference","y","x","filter","textAC","Header","logo","createNewLabel","onCreateNewHandler","useHeader","header","toolBar","Typography","variant","noWrap","component","RouterLink","to","brown","zIndex","maxWidth","margin","boxSizing","padding","flexGrow","PageNotFound","pageNotFoundLabel","usePageNotFound","CreateNewItemGraph","props","w","h","graph","indigo","CreateNewItem","sizeLabel","onClickHandler","useCreateNewItem","Card","root","elevation","CardActionArea","cardActionArea","CardContent","cardContent","description","gutterBottom","grey","display","flexDirection","justifyContent","alignItems","RenderTextField","icon","label","input","meta","touched","invalid","error","custom","styles","iconLeft","TextField","InputProps","placeholder","helperText","transform","getSize","editor","getMainSidebarItem","getShowSecondSidebar","getSecondarySidebarBackgroundTabIndex","getBackgroundStyle","getBackgroundStyleColor","getUseBorder","getBorderColor","getGradientStyle","getColorStart","getColorEnd","getImageTabIndex","getImages","getCurrentImage","getScaleMode","getAlign","getCanvasUrl","ReduxForm","reduxForm","form","handleSubmit","onChangeHandler","setTimeout","submit","widthLabel","heightLabel","useStylesForm","parseHandler","value","replace","useForm","onSubmit","Field","field1","parse","onChange","field2","CreateNewCustom","viewForm","setViewForm","buttonLabel","customSizeLabel","disabled","onSubmitHandler","useCreateNewCustom","formWrapper","buttonWrapper","fullWidth","marginBottom","right","bottom","CreateNew","CreateNewElements","index","createNew","wrapper","maxHeight","flexWrap","MainSidebar","labels","changeHandler","newValue","useMainSidebar","icons","Tabs","indicator","orientation","Tab","tabRoot","labelIcon","theme","paddingLeft","paddingTop","paddingRight","paddingBottom","marginLeft","minWidth","minHeight","secondSidebarWidth","SecondarySidebarTitle","titleLabel","useSecondarySidebarTitle","typography","IconButton","BackgroundTabs","useSecondarySidebarBackgroundTabs","indicatorColor","textColor","tabs","borderBottom","Div","styled","div","SetColorButton","colorTitle","useSetColorButton","SelectColorPopover","onPickColor","propsColor","setColor","onAcceptHandler","useSelectColorPopover","marginTop","MainSidebarItemEnum","BackgroundTabIndexEnum","ImageTabIndexEnum","SelectColorButton","onPickColorHandler","useSelectColorButton","anchorOrigin","vertical","horizontal","transformOrigin","Color","colors","defaultPresetsLabel","useColor","pickColorButtonElements","scndSdbrBckgrndColor","colorsBlock","gridGap","gridTemplateColumns","GradientStyleButton","gradientStyleFromState","useGradientStyleButton","clsx","gradientStyleButton","radial","borderRadius","outline","GradientStyle","enable","SelectColorButtonCustom","tipTitle","anchorOriginVertical","anchorOriginHorizontal","transformOriginVertical","transformOriginHorizontal","headerLabel","tipTitleLabel","useSelectColorButtonCustom","GradientDiv","GradientColor","onSelectColorStartHandler","onSelectColorEndHandler","useGradientColor","gradientColor","buttons","Gradient","gradient","ImageTabs","useImageTabs","MyImagesItem","image","imgSrc","useMyImagesItem","alt","img","useImageMyImages","ref","useRef","imgCardElements","onChangeHandle","e","target","files","file","a","console","log","message","loadImage","current","click","MyImages","imageMyImages","accept","multiple","htmlFor","imagesWrapper","subWrapper","overflow","gridRowGap","SettingsAlignButton","ownAlign","onClickHandle","useAlignButton","alignButton","cursor","SettingsAlign","alignLabel","alignButtonsElements","useAlign","alignButtonWrapper","SettingsScaleMode","optionElements","scaleModeLabel","useScaleMode","Select","native","select","inputProps","Settings","Image","myImage","imageSetting","WhiteCheckbox","withStyles","Checkbox","BackgroundBorder","borderLabel","useBorderLabel","onSelectHandler","useBackgroundBorder","selectColorBlock","FormControlLabel","control","checked","formControlLabel","borderTop","checkbox","Background","Text","useSecondSidebarText","label1","label2","label3","lineHeight","SecondarySidebar","secondarySidebar","getZoom","workspace","getDownloadCase","getRefLeftPanel","getIsDownloadDialogOpen","getFileName","getFileNameFormIsValid","getJpegQuality","getLink","getLinkFormIsValid","ToolbarZoom","zoomlabel","listItemElements","ListItem","useToolbarZoom","List","ToolbarZoomPlus","zoomArray","findIndex","useToolbarZoomPlus","ToolbarZoomMinus","useToolbarZoomMinus","ToolbarDownload","downloadLabel","i","listItem","ListItemIcon","listItemIcon","ListItemText","primary","listItemText","useToolbarDownload","popover","fontWeight","required","undefined","shouldNotBeEmpty","test","valid","useEffect","autoFocus","field","validate","FileNameForm","initialValues","useFileNameForm","JpegQuality","marks","useJpegQuality","Slider","slider","min","max","step","valueLabelDisplay","RenderTextFieldStartAdornment","startAdornment","InputAdornment","LinkForm","DownloadDialog","contentLabel","nameLabel","cancelLabel","canvasAllUrl","download","linkLabel","copyLabel","canvasAll","document","createElement","ctxAll","getContext","imgBackground","drawImage","imgBorder","imgText","toDataURL","html","textareaRef","onCloseHandler","onCopyHandler","execCommand","useDownloadDialog","Dialog","DialogTitle","dialogTitle","DialogContent","DialogContentText","dialogContentText","textarea","rows","DialogActions","Link","underline","href","resize","Toolbar","editorToolbar","centerBlock","rightBlock","gridColumnGap","BannerCanvasBorder","canvasRef","canvasCtxRef","ctx","clearRect","strokeStyle","lineWidth","strokeRect","useBannerCanvasBackground","bannerCanvasBorder","style","getTexts","getSelectedTextId","getShowAlarm","onBlurHandler","onBlur","BannerTextForm","useBannerTextForm","blue","hide","ItemTypes","Span","span","useBannerText","wrapperRef","onOutsideClickHandler","contains","addEventListener","removeEventListener","useDrag","item","collect","monitor","isDragging","dragRef","toLowerCase","toUpperCase","onMouseEnterHandler","onMouseLeaveHandler","onMouseDownHandler","onMouseUpHandler","onDoubleClickHandler","BannerCSSText","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onDoubleClick","clicked","protect","BannerCSSTexts","textElements","BannerCanvasBackground","fillStyle","fillRect","createLinearGradient","createRadialGradient","Math","sqrt","addColorStop","cw","ch","cx","cy","ix","iy","iw","ih","ch1","cw1","iw1","ih1","bannerCanvasBackground","BannerCanvasBackgroundMemo","memo","BannerCanvasTexts","font","fillText","textBaseline","useBannerCanvasTexts","bannerCanvasTexts","BannerCanvasTextsMemo","BannerCanvasWrapper","useDrop","drop","positionCursorDifference","getDifferenceFromInitialOffset","posDiffZoom","dropRef","useBannerCanvasWrapper","ButtonFontStyle","useButtonFontStyle","ButtonLowerCase","ButtonUpperCase","useButtonUpperCase","LeftPanelText","textLabel","fontSizeLabel","values","push","handleChange","onChangeSelectHandle","useLeftPanelText","formControlWrapper","FormControl","formControl","fontStyleBlock","LeftPanelColor","newColor","useLeftPanelColor","leftPanelColor","colorPicker","LeftPanel","leftPanelIndex","setLeftPanelIndex","colorLabel","deleteLabel","useLeftPanel","leftPanel","list","iconSelected","Row1","Div1","Div2","Row2","Div3","WorkspaceDiv","Workspace","leftPanelIsShow","useEditorWorkspace","Alarm","useAlarm","Editor","mainSidebar","secondSidebarWrapper","secondSidebarWrapperHide","secondSidebar","flexShrink","transition","Main","main","exact","path","render","App","catchAllUnhandledErrors","alert","window","useApp","rootReducer","combineReducers","formReducer","middleware","thunkMiddleware","store","createStore","composeWithDevTools","applyMiddleware","ErrorBoundary","errorInfo","this","setState","whiteSpace","toString","children","Component","AppContainer","CssBaseline","DndProvider","backend","HTML5Backend","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.50924109.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {StateType} from \"../store\";\r\n\r\nexport const getLang = (state: StateType) => state.app.lang;\r\nexport const getIsCreated = (state: StateType) => state.app.isCreated;\r\n\r\n","import {GetActionsType} from \"../store\";\r\nimport {LangType} from \"../../Types/types\";\r\n\r\nlet initialState = {\r\n    lang: 'eng' as LangType, // язык приложения\r\n    isCreated: false // создан или нет проект\r\n};\r\n\r\nconst appReducer = (state = initialState, action: AppActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'BANNER_CREATOR/APP/SET_LANG':\r\n            return {...state, lang: action.lang}\r\n        case 'BANNER_CREATOR/APP/SET_IS_CREATED': {\r\n            return {...state, isCreated: action.isCreated}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const appAC = {\r\n    setLang: (lang: LangType) => ({type: 'BANNER_CREATOR/APP/SET_LANG', lang} as const),\r\n    setIsCreated: (isCreated: boolean) => ({type: 'BANNER_CREATOR/APP/SET_IS_CREATED', isCreated} as const),\r\n};\r\n\r\nexport default appReducer;\r\n\r\n//============== TYPE ==================\r\nexport type InitialStateType = typeof initialState;\r\nexport type AppActionsType = GetActionsType<typeof appAC>;","import {LangType} from \"../Types/types\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport React from \"react\";\r\nimport {Typography} from \"@material-ui/core\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle/DialogTitle\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\n\r\n\r\nexport const Lang: LangObjectType = {\r\n    'English': {\r\n        'eng': 'English',\r\n        'rus': 'Русский'\r\n    },\r\n    'Change language': {\r\n        'eng': 'Change language',\r\n        'rus': 'Сменить язык'\r\n    },\r\n    'Banner creator': {\r\n        'eng': 'Banner creator',\r\n        'rus': 'Редактор баннеров'\r\n    },\r\n    'Create new': {\r\n        'eng': 'Create new',\r\n        'rus': 'Создать новый'\r\n    },\r\n    'Width': {\r\n        'eng': 'Width',\r\n        'rus': 'Ширина'\r\n    },\r\n    'Height': {\r\n        'eng': 'Height',\r\n        'rus': 'Высота'\r\n    },\r\n    'Create': {\r\n        'eng': 'Create',\r\n        'rus': 'Создать'\r\n    },\r\n    'Custom Size': {\r\n        'eng': 'Custom Size',\r\n        'rus': 'Задать размер'\r\n    },\r\n    'Background': {\r\n        'eng': 'Background',\r\n        'rus': 'Задний фон'\r\n    },\r\n    'Text': {\r\n        'eng': 'Text',\r\n        'rus': 'Текст'\r\n    },\r\n    'Color': {\r\n        'eng': 'Color',\r\n        'rus': 'Цвет'\r\n    },\r\n    'Gradient': {\r\n        'eng': 'Gradient',\r\n        'rus': 'Градиент'\r\n    },\r\n    'Texture': {\r\n        'eng': 'Texture',\r\n        'rus': 'Текстура'\r\n    },\r\n    'Image': {\r\n        'eng': 'Image',\r\n        'rus': 'Картинка'\r\n    },\r\n    'Default presets': {\r\n        'eng': 'Default presets',\r\n        'rus': 'Стандартные цвета'\r\n    },\r\n    'Border': {\r\n        'eng': 'Border',\r\n        'rus': 'Рамка'\r\n    },\r\n    'Use border': {\r\n        'eng': 'Use border',\r\n        'rus': 'С рамкой'\r\n    },\r\n    'Select color': {\r\n        'eng': 'Select color',\r\n        'rus': 'Выберите цвет'\r\n    },\r\n    'Select background color': {\r\n        'eng': 'Select background color',\r\n        'rus': 'Выберите цвет заднего фона'\r\n    },\r\n    'Select border color': {\r\n        'eng': 'Select border color',\r\n        'rus': 'Выберите цвет рамки'\r\n    },\r\n    'Select start color': {\r\n        'eng': 'Select start color',\r\n        'rus': 'Выберите начальный цвет'\r\n    },\r\n    'Select end color': {\r\n        'eng': 'Select end color',\r\n        'rus': 'Выберите конечный цвет'\r\n    },\r\n    'My images': {\r\n        'eng': 'My images',\r\n        'rus': 'Мои'\r\n    },\r\n    'Stock photos': {\r\n        'eng': 'Stock photos',\r\n        'rus': 'Стоковые'\r\n    },\r\n    'Settings': {\r\n        'eng': 'Settings',\r\n        'rus': 'Настройки'\r\n    },\r\n    'Scale mode': {\r\n        'eng': 'Scale mode',\r\n        'rus': 'Масштабирование'\r\n    },\r\n    'Align': {\r\n        'eng': 'Align',\r\n        'rus': 'Выравнивание'\r\n    },\r\n    'Exact fit': {\r\n        'eng': 'Exact fit',\r\n        'rus': 'Непропорционально вписать'\r\n    },\r\n    'Scale crop': {\r\n        'eng': 'Scale crop',\r\n        'rus': 'Пропорционально заполнить'\r\n    },\r\n    'No scale': {\r\n        'eng': 'No scale',\r\n        'rus': 'Заполнить без масштабирования'\r\n    },\r\n    'Maintain aspect': {\r\n        'eng': 'Maintain aspect',\r\n        'rus': 'Пропорционально вписать'\r\n    },\r\n    'Download': {\r\n        'eng': 'Download',\r\n        'rus': 'Скачать'\r\n    },\r\n    'Add text': {\r\n        'eng': 'Add text',\r\n        'rus': 'Добавить текст'\r\n    },\r\n    'Add header': {\r\n        'eng': 'Add header',\r\n        'rus': 'Заголовок'\r\n    },\r\n    'Add subheader': {\r\n        'eng': 'Add subheader',\r\n        'rus': 'Подзаголовок'\r\n    },\r\n    'Add body text': {\r\n        'eng': 'Add body text',\r\n        'rus': 'Обычный текст'\r\n    },\r\n    'Font size (px)': {\r\n        'eng': 'Font size (px)',\r\n        'rus': 'Размер шрифта (пикс)'\r\n    },\r\n    'Delete': {\r\n        'eng': 'Delete',\r\n        'rus': 'Удалить'\r\n    },\r\n    'Download created banner as': {\r\n        'eng': 'Download created banner as',\r\n        'rus': 'Загрузить созданный баннер как'\r\n    },\r\n    'Enter a file name:': {\r\n        'eng': 'Enter a file name:',\r\n        'rus': 'Введите имя файла:'\r\n    },\r\n    'Enter a link:': {\r\n        'eng': 'Enter a link:',\r\n        'rus': 'Введите ссылку:'\r\n    },\r\n    'Cancel': {\r\n        'eng': 'Cancel',\r\n        'rus': 'Закрыть'\r\n    },\r\n    'Copy': {\r\n        'eng': 'Copy',\r\n        'rus': 'Копировать'\r\n    },\r\n    'Quality of jpeg': {\r\n        'eng': 'Quality of jpeg',\r\n        'rus': 'Качество jpeg'\r\n    },\r\n    'Maximum count of text': {\r\n        'eng': 'Maximum count of text',\r\n        'rus': 'Максимальное количество строк'\r\n    },\r\n    'Maximum count of text in trial version of banner creator is 3.': {\r\n        'eng': 'Maximum count of text in trial version of banner creator is 3.',\r\n        'rus': 'Максимальное количество строк в ознакомительной версии программы равно 3.'\r\n    },\r\n};\r\n\r\n// const lang = useSelector(getLang);\r\n// translate(lang, '')\r\n\r\nexport const translate = (lang: LangType, phrase: string): string => {\r\n    return lang === 'rus' ? Lang[phrase].rus : Lang[phrase].eng\r\n};\r\n\r\ntype LangObjectType = {\r\n    [key: string]: {\r\n        'eng': string\r\n        'rus': string\r\n    }\r\n}\r\n\r\n","import Button from \"@material-ui/core/Button\";\r\nimport React, {ReactElement} from \"react\";\r\nimport LanguageIcon from '@material-ui/icons/Language';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport {getLang} from \"../../Store/selectors/app-selectors\";\r\nimport {appAC} from \"../../Store/reducers/app-reducer\";\r\nimport {translate} from \"../../Utils/lang\";\r\n\r\n\r\n//================= CUSTOM HOOK =========================\r\nconst useHeaderLang = () => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const lang = useSelector(getLang);\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    const handleCloseRus = () => {\r\n        dispatch(appAC.setLang('rus'));\r\n        setAnchorEl(null);\r\n    };\r\n    const handleCloseEng = () => {\r\n        dispatch(appAC.setLang('eng'));\r\n        setAnchorEl(null);\r\n    };\r\n    const title = translate(lang, 'Change language');\r\n    const englishLabel = translate(lang, 'English')\r\n    return {classes, lang, anchorEl, title, englishLabel,\r\n        handleClick, handleClose, handleCloseRus,\r\n        handleCloseEng}\r\n}\r\n\r\n//======================= COMPONENT ===============================\r\nconst HeaderLang: React.FC<{}> = (): ReactElement => {\r\n    const {classes, lang, anchorEl, title, englishLabel,\r\n        handleClick, handleClose, handleCloseRus,\r\n        handleCloseEng} = useHeaderLang();\r\n\r\n    return (\r\n        <>\r\n            <Tooltip title={title} placement=\"bottom-start\"\r\n                     classes={{\r\n                         tooltip: classes.tooltip,\r\n                         arrow: classes.arrow\r\n                     }}>\r\n                <Button\r\n                    className={classes.button}\r\n                    startIcon={<LanguageIcon/>}\r\n                    endIcon={<ExpandMoreIcon/>}\r\n                    aria-controls=\"simple-menu\"\r\n                    aria-haspopup=\"true\"\r\n                    onClick={handleClick}\r\n                >\r\n                    {englishLabel}\r\n                </Button>\r\n            </Tooltip>\r\n            <Menu\r\n                id=\"simple-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n            >\r\n                <MenuItem onClick={handleCloseEng}\r\n                          selected={lang === 'eng'}\r\n                >\r\n                    English\r\n                </MenuItem>\r\n                <MenuItem onClick={handleCloseRus}\r\n                          selected={lang === 'rus'}\r\n                >\r\n                    Русский\r\n                </MenuItem>\r\n            </Menu>\r\n        </>\r\n    )\r\n};\r\nexport default HeaderLang;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        color: 'white',\r\n        marginRight: 50,\r\n        textTransform: 'none'\r\n    },\r\n    tooltip: {\r\n        backgroundColor: '#000'\r\n    },\r\n    arrow: {\r\n        color: '#000'\r\n    }\r\n})","import {BaseThunkType, GetActionsType} from \"../store\";\r\nimport {\r\n    BackgroundStyleColorType,\r\n    BackgroundStyleType, GradientStyleType,\r\n    MainSidebarItemEnum, ScaleModeType,\r\n    BackgroundTabIndexEnum,\r\n    SizeType,\r\n    AlignType, ImageTabIndexEnum, ImageType\r\n} from \"../../Types/types\";\r\nimport {AppActionsType} from \"./app-reducer\";\r\nimport {workspaceAC, WorkspaceActionsType} from \"./workspace-reducer\";\r\n\r\nconst initialState = {\r\n    size: { // размер баннера\r\n        width: null as null | number,\r\n        height: null as null | number,\r\n    },\r\n    mainSidebarItem: 0 as MainSidebarItemEnum, // пункт главной боковой панели\r\n    showSecondSidebar: true, // показать или скрыть вспомогательную боковую панель\r\n    secondarySidebarBackgroundTabIndex: 0 as BackgroundTabIndexEnum, // индекс активной вкладки на вспомогательной боковой панели 'Background'\r\n    backgroundStyle: 'color' as BackgroundStyleType,\r\n    useBorder: false, // есть ли рамка\r\n    borderColor: '#000', // цвет рамки\r\n    backgroundStyleColor: { // параметры монохромного заднего фона\r\n        color: '#fff'\r\n    } as BackgroundStyleColorType,\r\n    backgroundStyleGradient: { // параметры градиентного заднего фона\r\n        gradientStyle: 'horizontal' as GradientStyleType,\r\n        colorStart: '#000',\r\n        colorEnd: '#FFF'\r\n    },\r\n    backgroundStyleImage: {\r\n        images: [] as Array<ImageType>,\r\n        currentImage: null as null | ImageType,\r\n        scaleMode: 'Maintain aspect' as ScaleModeType,\r\n        align: 'center' as AlignType\r\n    },\r\n    imageTabIndex: 0 as ImageTabIndexEnum,\r\n    canvasUrl: { // урлы отрисованных канвасов для экспорта\r\n        background: null as null | string,\r\n        border: null as null | string,\r\n        text: null as null | string,\r\n    },\r\n    isLoading: false\r\n};\r\n//=================== REDUCER ===========================\r\nconst editorReducer = (state = initialState, action: EditorActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'EDITOR/SET_SIZE': {\r\n            return {...state, size: action.size}\r\n        }\r\n        case 'EDITOR/SET_MAIN_SIDEBAR_ITEM': {\r\n            return {...state, mainSidebarItem: action.mainSidebarItem}\r\n        }\r\n        case 'EDITOR/SET_SHOW_SECOND_SIDEBAR': {\r\n            return {...state, showSecondSidebar: action.showSecondSidebar}\r\n        }\r\n        case 'EDITOR/SET_SECONDARY_SIDEBAR_BACKGROUND_TAB_INDEX': {\r\n            return {...state, secondarySidebarBackgroundTabIndex: action.secondarySidebarBackgroundTabIndex}\r\n        }\r\n        case 'EDITOR/SET_BACKGROUND_STYLE': {\r\n            return {...state, backgroundStyle: action.backgroundStyle}\r\n        }\r\n        case 'EDITOR/SET_BACKGROUND_STYLE_COLOR': {\r\n            return {...state, backgroundStyleColor: action.backgroundStyleColor}\r\n        }\r\n        case 'EDITOR/SET_USE_BORDER': {\r\n            return {...state, useBorder: action.useBorder}\r\n        }\r\n        case 'EDITOR/SET_BORDER_COLOR': {\r\n            return {...state, borderColor: action.borderColor}\r\n        }\r\n        case 'EDITOR/SET_GRADIENT_STYLE': {\r\n            return {\r\n                ...state,\r\n                backgroundStyleGradient: {\r\n                    ...state.backgroundStyleGradient,\r\n                    gradientStyle: action.gradientStyle\r\n                }\r\n            }\r\n        }\r\n        case 'EDITOR/SET_COLOR_START': {\r\n            return {\r\n                ...state,\r\n                backgroundStyleGradient: {\r\n                    ...state.backgroundStyleGradient,\r\n                    colorStart: action.colorStart\r\n                }\r\n            }\r\n        }\r\n        case 'EDITOR/SET_COLOR_END': {\r\n            return {\r\n                ...state,\r\n                backgroundStyleGradient: {\r\n                    ...state.backgroundStyleGradient,\r\n                    colorEnd: action.colorEnd\r\n                }\r\n            }\r\n        }\r\n        case 'EDITOR/SET_REPLACE_COLOR': {\r\n            const colorStart = state.backgroundStyleGradient.colorStart;\r\n            const colorEnd = state.backgroundStyleGradient.colorEnd;\r\n            return {\r\n                ...state,\r\n                backgroundStyleGradient: {\r\n                    ...state.backgroundStyleGradient,\r\n                    colorEnd: colorStart,\r\n                    colorStart: colorEnd\r\n                }\r\n            }\r\n        }\r\n        case 'EDITOR/ADD_IMAGE': { // добавить и установить текущим\r\n            if (state.backgroundStyleImage.images.find(//\r\n                el => el.name === action.name\r\n            )) {\r\n                return state\r\n            } else {\r\n                const length = state.backgroundStyleImage.images.length\r\n                const id = length === 0 ? 1 : state.backgroundStyleImage.images[length - 1].id + 1;\r\n                return {\r\n                    ...state,\r\n                    backgroundStyleImage: {\r\n                        ...state.backgroundStyleImage,\r\n                        images: [\r\n                            ...state.backgroundStyleImage.images,\r\n                            {\r\n                                id: id,\r\n                                src: action.src,\r\n                                name: action.name\r\n                            }\r\n                        ],\r\n                        currentImage: {\r\n                            id: id,\r\n                            src: action.src,\r\n                            name: action.name\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        case 'EDITOR/SET_CURRENT_IMAGE': {\r\n            const currentImage = state.backgroundStyleImage.images.find(el => el.id === action.id) as ImageType;\r\n            return {\r\n                ...state,\r\n                backgroundStyleImage: {\r\n                    ...state.backgroundStyleImage,\r\n                    currentImage: currentImage\r\n                }\r\n            }\r\n        }\r\n        case 'EDITOR/SET_IMAGE_TAB_INDEX': {\r\n            return {...state, imageTabIndex: action.imageTabIndex}\r\n        }\r\n        case 'EDITOR/SET_SCALE_MODE': {\r\n            return {\r\n                ...state,\r\n                backgroundStyleImage: {\r\n                    ...state.backgroundStyleImage,\r\n                    scaleMode: action.scaleMode\r\n                }\r\n            }\r\n        }\r\n        case 'EDITOR/SET_ALIGN': {\r\n            return {\r\n                ...state,\r\n                backgroundStyleImage: {\r\n                    ...state.backgroundStyleImage,\r\n                    align: action.align\r\n                }\r\n            }\r\n        }\r\n        case 'EDITOR/SET_CANVAS_URL': {\r\n            return {\r\n                ...state,\r\n                canvasUrl: {\r\n                    ...state.canvasUrl,\r\n                    [action.layer]: action.url\r\n                }\r\n            }\r\n        }\r\n        case 'EDITOR/SET_IS_LOADING': {\r\n            return {...state, isLoading: action.isLoading}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n//=================== ACTION-CREATORS =====================\r\nexport const editorAC = {\r\n    setSize: (size: SizeType) => ({type: 'EDITOR/SET_SIZE', size} as const),\r\n    setMainSidebarItem: (mainSidebarItem: MainSidebarItemEnum) => ({\r\n        type: 'EDITOR/SET_MAIN_SIDEBAR_ITEM',\r\n        mainSidebarItem\r\n    } as const),\r\n    setShowSecondSidebar: (showSecondSidebar: boolean) => ({\r\n        type: 'EDITOR/SET_SHOW_SECOND_SIDEBAR',\r\n        showSecondSidebar\r\n    } as const),\r\n    setSecondarySidebarBackgroundTabIndex: (secondarySidebarBackgroundTabIndex: BackgroundTabIndexEnum) => ({\r\n        type: 'EDITOR/SET_SECONDARY_SIDEBAR_BACKGROUND_TAB_INDEX',\r\n        secondarySidebarBackgroundTabIndex\r\n    } as const),\r\n    setBackgroundStyle: (backgroundStyle: BackgroundStyleType) => ({\r\n        type: 'EDITOR/SET_BACKGROUND_STYLE',\r\n        backgroundStyle\r\n    } as const),\r\n    setBackgroundStyleColor: (backgroundStyleColor: BackgroundStyleColorType) => ({\r\n        type: 'EDITOR/SET_BACKGROUND_STYLE_COLOR',\r\n        backgroundStyleColor\r\n    } as const),\r\n    setUseBorder: (useBorder: boolean) => ({type: 'EDITOR/SET_USE_BORDER', useBorder} as const),\r\n    setBorderColor: (borderColor: string) => ({type: 'EDITOR/SET_BORDER_COLOR', borderColor} as const),\r\n    setGradientStyle: (gradientStyle: GradientStyleType) => ({\r\n        type: 'EDITOR/SET_GRADIENT_STYLE',\r\n        gradientStyle\r\n    } as const),\r\n    setColorStart: (colorStart: string) => ({\r\n        type: 'EDITOR/SET_COLOR_START',\r\n        colorStart\r\n    } as const),\r\n    setColorEnd: (colorEnd: string) => ({\r\n        type: 'EDITOR/SET_COLOR_END',\r\n        colorEnd\r\n    } as const),\r\n    replaceColor: () => ({type: 'EDITOR/SET_REPLACE_COLOR'} as const),\r\n    addImage: (src: string, name: string) => ({type: 'EDITOR/ADD_IMAGE', src, name} as const),\r\n    setImageTabIndex: (imageTabIndex: ImageTabIndexEnum) => ({\r\n        type: 'EDITOR/SET_IMAGE_TAB_INDEX',\r\n        imageTabIndex\r\n    } as const),\r\n    setScaleMode: (scaleMode: ScaleModeType) => ({type: 'EDITOR/SET_SCALE_MODE', scaleMode} as const),\r\n    setAlign: (align: AlignType) => ({type: 'EDITOR/SET_ALIGN', align} as const),\r\n    setCurrentImage: (id: number) => ({type: 'EDITOR/SET_CURRENT_IMAGE', id} as const),\r\n    setCanvasUrl: (layer: 'background' | 'border' | 'text', url: null |string) => ({\r\n        type: 'EDITOR/SET_CANVAS_URL',\r\n        layer,\r\n        url\r\n    } as const),\r\n    setIsLoading: (isLoading: boolean) => ({type: 'EDITOR/SET_IS_LOADING', isLoading} as const),\r\n};\r\nexport default editorReducer;\r\n\r\n//====================== THUNK-CREATORS =========================\r\nconst readUploadedFileAsUrl = (inputFile: File) => {\r\n    const reader = new FileReader();\r\n\r\n    return new Promise<null | string | ArrayBuffer>((resolve, reject) => {\r\n        reader.onerror = () => {\r\n            reader.abort();\r\n            reject(new DOMException(\"Problem parsing input file.\"));\r\n        };\r\n\r\n        reader.onload = () => {\r\n\r\n            resolve(reader.result);\r\n        };\r\n        reader.readAsDataURL(inputFile);\r\n    });\r\n};\r\n\r\nexport const loadImage = (file: File): ThunkType => async (dispatch) => {\r\n    try {\r\n        const src = await readUploadedFileAsUrl(file);\r\n        const name = file.name;\r\n\r\n        if (typeof src === 'string') {\r\n            dispatch(editorAC.addImage(src, name));\r\n            dispatch(editorAC.setBackgroundStyle('image'));\r\n            //dispatch(workspaceAC.setZoom(100));\r\n        }\r\n\r\n    } catch(e) {\r\n        console.log(e.message)\r\n    }\r\n\r\n}\r\n\r\n//============== TYPE ==================\r\nexport type InitialStateType = typeof initialState;\r\nexport type EditorActionsType = GetActionsType<typeof editorAC>;\r\ntype ThunkType = BaseThunkType<EditorActionsType | AppActionsType | WorkspaceActionsType>","import {DownloadCaseType, ZoomType} from \"../../Types/types\";\r\nimport {GetActionsType} from \"../store\";\r\n\r\nconst initialState = {\r\n    zoom: 100 as ZoomType, // масштаб рабочей области\r\n    downloadCase: 'PNG' as DownloadCaseType, // сохранить как\r\n    jpegQuality: 0.8, // качество jpeg изображения\r\n    refLeftPanel: null as null | React.MutableRefObject<null>,\r\n    isDownloadDialogOpen: false, // открыто или закрыто диалоговое окно сохранения баннера\r\n    fileName: 'my-banner',\r\n    fileNameFormIsValid: true,\r\n    link: 'test.com',\r\n    linkFormIsValid: true,\r\n};\r\n\r\n//=================== REDUCER ===========================\r\nconst workspaceReducer = (state = initialState, action: WorkspaceActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'BANNER_CREATOR/WORKSPACE/SET_ZOOM': {\r\n            return {...state, zoom: action.zoom}\r\n        }\r\n        case 'BANNER_CREATOR/WORKSPACE/SET_REF': {\r\n            return {...state, refLeftPanel: action.refLeftPanel}\r\n        }\r\n        case 'BANNER_CREATOR/WORKSPACE/SET_DOWNLOAD_CASE': {\r\n            return {...state, downloadCase: action.downloadCase}\r\n        }\r\n        case 'BANNER_CREATOR/WORKSPACE/SET_IS_DOWNLOAD_DIALOG_OPEN': {\r\n            return {...state, isDownloadDialogOpen: action.isDownloadDialogOpen}\r\n        }\r\n        case 'BANNER_CREATOR/WORKSPACE/SET_FILE_NAME': {\r\n            return {...state, fileName: action.fileName}\r\n        }\r\n        case 'BANNER_CREATOR/WORKSPACE/SET_LINK': {\r\n            return {...state, link: action.link}\r\n        }\r\n        case 'BANNER_CREATOR/WORKSPACE/SET_FILE_NAME_FORM_IS_VALID': {\r\n            return {...state, fileNameFormIsValid: action.fileNameFormIsValid}\r\n        }\r\n        case 'BANNER_CREATOR/WORKSPACE/SET_LINK_FORM_IS_VALID': {\r\n            return {...state, linkFormIsValid: action.linkFormIsValid}\r\n        }\r\n        case 'BANNER_CREATOR/WORKSPACE/SET_JPEG_QUALITY': {\r\n            return {...state, jpegQuality: action.jpegQuality}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport default workspaceReducer;\r\n\r\n//=================== ACTION-CREATORS =====================\r\nexport const workspaceAC = {\r\n    setZoom: (zoom: ZoomType) => ({type: 'BANNER_CREATOR/WORKSPACE/SET_ZOOM', zoom} as const),\r\n    setRefLeftPanel: (refLeftPanel: null | React.MutableRefObject<null>) => ({\r\n        type: 'BANNER_CREATOR/WORKSPACE/SET_REF',\r\n        refLeftPanel\r\n    } as const),\r\n    setDownloadCase: (downloadCase: DownloadCaseType) => ({\r\n        type: 'BANNER_CREATOR/WORKSPACE/SET_DOWNLOAD_CASE',\r\n        downloadCase\r\n    } as const),\r\n    setIsDownloadDialogOpen: (isDownloadDialogOpen: boolean) => ({\r\n        type: 'BANNER_CREATOR/WORKSPACE/SET_IS_DOWNLOAD_DIALOG_OPEN',\r\n        isDownloadDialogOpen\r\n    } as const),\r\n    setFileName: (fileName: string) => ({type: 'BANNER_CREATOR/WORKSPACE/SET_FILE_NAME', fileName} as const),\r\n    setFileNameFormIsValid: (fileNameFormIsValid: boolean) => ({type: 'BANNER_CREATOR/WORKSPACE/SET_FILE_NAME_FORM_IS_VALID', fileNameFormIsValid} as const),\r\n    setJpegQuality: (jpegQuality: number) => ({type: 'BANNER_CREATOR/WORKSPACE/SET_JPEG_QUALITY', jpegQuality} as const),\r\n    setLink: (link: string) => ({type: 'BANNER_CREATOR/WORKSPACE/SET_LINK', link} as const),\r\n    setLinkFormIsValid: (linkFormIsValid: boolean) => ({type: 'BANNER_CREATOR/WORKSPACE/SET_LINK_FORM_IS_VALID', linkFormIsValid} as const),\r\n};\r\n\r\n//============== TYPE ==================\r\nexport type InitialStateType = typeof initialState;\r\nexport type WorkspaceActionsType = GetActionsType<typeof workspaceAC>;","import {elementType, TextType} from \"../../Types/types\";\r\nimport {GetActionsType} from \"../store\";\r\nimport {XYCoord} from \"react-dnd\";\r\n\r\n\r\nconst initialState = {\r\n    texts: [] as Array<TextType>,\r\n    selectedTextId: null as null | number, // id выделенного текста\r\n    showAlarm: false // показывать сообщение о предельно допустимом количестве строк текста\r\n};\r\n\r\n//=================== REDUCER ===========================\r\nconst textReducer = (state = initialState, action: textActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'BANNER_CREATOR/TEXT/ADD_TEXT': {\r\n            if (state.texts.length < 3) {\r\n                const id = state.texts.length ? state.texts[state.texts.length - 1].id + 1 : 1;\r\n                const content = action.element === 'header' ? 'Header' : action.element === 'subheader' ? 'Subheader' : 'Body text';\r\n                const fontSize = action.element === 'header' ? 32 : action.element === 'subheader' ? 24 : 16;\r\n                const top = action.element === 'header' ? 10 : action.element === 'subheader' ? 52 : 86;\r\n                return {\r\n                    ...state,\r\n                    texts: [\r\n                        ...state.texts,\r\n                        {\r\n                            id: id,\r\n                            content: content,\r\n                            position: {\r\n                                top: top,\r\n                                left: 10\r\n                            },\r\n                            fontSize: fontSize,\r\n                            fontStyle: 'normal',\r\n                            fontFamily: 'arial',\r\n                            color: '#000',\r\n                            lowerCase: false,\r\n                            upperCase: false,\r\n                            hover: false,\r\n                            selected: false,\r\n                            editParameters: false,\r\n                            editText: false,\r\n                        }\r\n                    ]\r\n                }\r\n            } else {\r\n                return {...state, showAlarm: true}\r\n            }\r\n\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_HOVER': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                hover: action.hover\r\n                            })\r\n                        }\r\n\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_SELECTED': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                selected: action.selected\r\n                            })\r\n                        }\r\n\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_EDIT_PARAMETERS': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                editParameters: action.editParameters\r\n                            })\r\n                        }\r\n\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_EDIT_TEXT': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                editText: action.editText\r\n                            })\r\n                        }\r\n\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_FONT_SIZE': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                fontSize: action.fontSize\r\n                            })\r\n                        }\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_FONT_STYLE': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                fontStyle: action.fontStyle\r\n                            })\r\n                        }\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_POSITION': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                position: {\r\n                                    top: el.position.top + action.difference.y,\r\n                                    left: el.position.left + action.difference.x\r\n                                }\r\n                            })\r\n                        }\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_COLOR': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                color: action.color\r\n                            })\r\n                        }\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_LOWER_CASE': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                lowerCase: action.lowerCase\r\n                            })\r\n                        }\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_UPPER_CASE': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                upperCase: action.upperCase\r\n                            })\r\n                        }\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_CONTENT': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                content: action.content\r\n                            })\r\n                        }\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_SELECTED_TEXT_ID': {\r\n            return {\r\n                ...state, selectedTextId: action.selectedTextId\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/REMOVE_TEXT': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.filter(el => el.id !== action.id)\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/REMOVE_TEXT_ALL': {\r\n            return {\r\n                ...state, texts: []\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_SHOW_ALARM': {\r\n            return {...state, showAlarm: action.showAlarm}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport default textReducer;\r\n\r\n//=================== ACTION-CREATORS =====================\r\nexport const textAC = {\r\n    addText: (element: elementType) => ({type: 'BANNER_CREATOR/TEXT/ADD_TEXT', element} as const),\r\n    removeText: (id: number) => ({type: 'BANNER_CREATOR/TEXT/REMOVE_TEXT', id} as const),\r\n    removeTextAll: () => ({type: 'BANNER_CREATOR/TEXT/REMOVE_TEXT_ALL'} as const),\r\n    setHover: (id: number, hover: boolean) => ({type: 'BANNER_CREATOR/TEXT/SET_HOVER', id, hover} as const),\r\n    setSelected: (id: number, selected: boolean) => ({type: 'BANNER_CREATOR/TEXT/SET_SELECTED', id, selected} as const),\r\n    setFontSize: (id: number, fontSize: number) => ({type: 'BANNER_CREATOR/TEXT/SET_FONT_SIZE', id, fontSize} as const),\r\n    setFontStyle: (id: number, fontStyle: 'normal' | 'italic') => ({type: 'BANNER_CREATOR/TEXT/SET_FONT_STYLE', id, fontStyle} as const),\r\n    setLowerCase: (id: number, lowerCase: boolean) => ({type: 'BANNER_CREATOR/TEXT/SET_LOWER_CASE', id, lowerCase} as const),\r\n    setUpperCase: (id: number, upperCase: boolean) => ({type: 'BANNER_CREATOR/TEXT/SET_UPPER_CASE', id, upperCase} as const),\r\n    setPosition: (id: number, difference: XYCoord) => ({type: 'BANNER_CREATOR/TEXT/SET_POSITION', id, difference} as const),\r\n    setColor: (id: number, color: string) => ({type: 'BANNER_CREATOR/TEXT/SET_COLOR', id, color} as const),\r\n    setContent: (id: number, content: string) => ({type: 'BANNER_CREATOR/TEXT/SET_CONTENT', id, content} as const),\r\n    setEditParameters: (id: number, editParameters: boolean) => ({type: 'BANNER_CREATOR/TEXT/SET_EDIT_PARAMETERS', id, editParameters} as const),\r\n    setEditText: (id: number, editText: boolean) => ({type: 'BANNER_CREATOR/TEXT/SET_EDIT_TEXT', id, editText} as const),\r\n    setSelectedTextId: (selectedTextId: number) => ({type: 'BANNER_CREATOR/TEXT/SET_SELECTED_TEXT_ID', selectedTextId} as const),\r\n    setShowAlarm: (showAlarm: boolean) => ({type: 'BANNER_CREATOR/TEXT/SET_SHOW_ALARM', showAlarm} as const),\r\n};\r\n\r\n//============== TYPE ==================\r\nexport type InitialStateType = typeof initialState;\r\nexport type textActionsType = GetActionsType<typeof textAC>;","import React, {ReactElement} from 'react';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport HeaderLang from \"./HeaderLang\";\r\nimport {translate} from \"../../Utils/lang\";\r\nimport {getLang} from \"../../Store/selectors/app-selectors\";\r\nimport brown from \"@material-ui/core/colors/brown\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport {Link as RouterLink} from 'react-router-dom';\r\nimport {Button} from \"@material-ui/core\";\r\nimport {editorAC} from \"../../Store/reducers/editor-reducer\";\r\nimport {workspaceAC} from \"../../Store/reducers/workspace-reducer\";\r\nimport {textAC} from \"../../Store/reducers/text-reducer\";\r\n\r\n//================= CUSTOM HOOK =========================\r\nconst useHeader = () => {\r\n    const classes = useStyles();\r\n    const lang = useSelector(getLang);\r\n    const logo = translate(lang, 'Banner creator');\r\n    const createNewLabel = translate(lang, 'Create new');\r\n    const dispatch = useDispatch();\r\n    const onCreateNewHandler = () => {\r\n        dispatch(editorAC.setSize({\r\n            width: null,\r\n            height: null\r\n        }));\r\n        dispatch(editorAC.setBackgroundStyle('color'));\r\n        dispatch(editorAC.setBackgroundStyleColor({color: '#FFF'}));\r\n        dispatch(editorAC.setUseBorder(false));\r\n        dispatch(workspaceAC.setZoom(100));\r\n        dispatch(textAC.removeTextAll());\r\n        dispatch(editorAC.setMainSidebarItem(0));\r\n        dispatch(editorAC.setSecondarySidebarBackgroundTabIndex(0));\r\n        dispatch(editorAC.setImageTabIndex(0));\r\n        dispatch(editorAC.setBorderColor('#000'));\r\n    };\r\n    return {\r\n        classes, logo, createNewLabel, onCreateNewHandler\r\n    }\r\n};\r\n\r\n//======================= COMPONENT ===============================\r\nconst Header: React.FC<{}> = (): ReactElement => {\r\n    const {\r\n        classes, logo, createNewLabel, onCreateNewHandler\r\n    } = useHeader();\r\n\r\n    return (\r\n        <div className={classes.header}>\r\n            <Toolbar className={classes.toolBar}>\r\n                <Typography variant=\"h6\" noWrap className={classes.logo}>\r\n                    {logo}\r\n                </Typography>\r\n                <HeaderLang/>\r\n                <Button color=\"inherit\"\r\n                        variant='contained'\r\n                        startIcon={<AddIcon />}\r\n                        className={classes.button}\r\n                        onClick={onCreateNewHandler}\r\n                        component={RouterLink}\r\n                        to='/'>\r\n                    {createNewLabel}\r\n                </Button>\r\n            </Toolbar>\r\n        </div>\r\n    );\r\n};\r\nexport default Header;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    header: {\r\n        backgroundColor: brown[900],\r\n        height: 64,\r\n        zIndex: 100\r\n    },\r\n    toolBar: {\r\n        maxWidth: 1000,\r\n        width: '100%',\r\n        height: '100%',\r\n        margin: '0 auto',\r\n        boxSizing: 'border-box',\r\n        padding: '0 10px',\r\n    },\r\n    logo: {\r\n        flexGrow: 1,\r\n        color: 'white'\r\n    },\r\n    button: {\r\n        textTransform: 'none'\r\n    },\r\n});\r\n\r\n\r\n","import React, {ReactElement} from \"react\";\r\nimport {Typography} from \"@material-ui/core\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getLang} from \"../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../Utils/lang\";\r\n\r\n//================= CUSTOM HOOK =========================\r\nconst usePageNotFound = () => {\r\n    const lang = useSelector(getLang);\r\n    const pageNotFoundLabel = translate(lang, 'Page not found')\r\n    return {pageNotFoundLabel}\r\n};\r\n\r\n//======================= COMPONENT ===============================\r\nconst PageNotFound: React.FC<{}> = (): ReactElement => {\r\n    const {pageNotFoundLabel} = usePageNotFound();\r\n\r\n    return (\r\n        <Typography align='center'\r\n                    color='secondary'\r\n                    variant='h6'>\r\n            {pageNotFoundLabel}\r\n        </Typography>\r\n    )\r\n\r\n};\r\nexport default PageNotFound;\r\n\r\n\r\n","import React from \"react\";\r\nimport {ReactElement} from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport indigo from \"@material-ui/core/colors/indigo\";\r\n\r\n//================= COMPONENTS ========================\r\nconst CreateNewItemGraph: React.FC<PropsType> = (props): ReactElement => {\r\n    const {width, height} = props;\r\n    let w = 130;\r\n    let h = height * w / width;\r\n    if (h > 68) {\r\n        h = 68;\r\n        w = h * width / height;\r\n    }\r\n    const useStyles = makeStyles({\r\n        graph: {\r\n            width: w,\r\n            height: h,\r\n            border: '3px solid darkblue',\r\n            boxSizing: 'border-box',\r\n            backgroundColor: indigo[400]\r\n        },\r\n    });\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <div className={classes.graph}/>\r\n    )\r\n};\r\nexport default CreateNewItemGraph;\r\n\r\n//============== TYPE ====================\r\ntype PropsType = {\r\n    width: number\r\n    height: number\r\n}","import React from \"react\";\r\nimport {Card} from \"@material-ui/core\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Link as RouterLink} from \"react-router-dom\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {editorAC} from \"../../../Store/reducers/editor-reducer\";\r\nimport CreateNewItemGraph from \"./CreateNewItemGraph\";\r\nimport grey from \"@material-ui/core/colors/grey\";\r\nimport {appAC} from \"../../../Store/reducers/app-reducer\";\r\n\r\n//================= CUSTOM HOOK =========================\r\nconst useCreateNewItem = (width: number, height: number) => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = () => {\r\n        dispatch(editorAC.setSize({width, height}));\r\n        dispatch(appAC.setIsCreated(true));\r\n    };\r\n    return {\r\n        classes, onClickHandler\r\n    }\r\n};\r\n\r\n//======================= COMPONENT ===============================\r\nconst CreateNewItem: React.FC<PropsType> = (props) => {\r\n    const {sizeLabel, width, height} = props;\r\n    const {\r\n        classes, onClickHandler\r\n    } = useCreateNewItem(width, height);\r\n\r\n    return (\r\n        <Card className={classes.root} elevation={6}>\r\n            <CardActionArea component={RouterLink}\r\n                            className={classes.cardActionArea}\r\n                            onClick={onClickHandler}\r\n                            to='/editor'>\r\n                <CardContent className={classes.cardContent}>\r\n                    <div className={classes.graph}>\r\n                        <CreateNewItemGraph width={width} height={height}/>\r\n                    </div>\r\n                    <div className={classes.description}>\r\n                        <Typography gutterBottom variant=\"subtitle2\" component=\"h6\" align='center'>\r\n                            {sizeLabel}\r\n                        </Typography>\r\n                        <Typography gutterBottom variant=\"body2\" component=\"h6\" align='center'>\r\n                            {`${width} x ${height} px`}\r\n                        </Typography>\r\n                    </div>\r\n                </CardContent>\r\n            </CardActionArea>\r\n        </Card>\r\n    )\r\n};\r\nexport default CreateNewItem;\r\n\r\n//=================== TYPE ==============\r\ntype PropsType = {\r\n    sizeLabel: string\r\n    width: number\r\n    height: number\r\n}\r\n\r\n//================= STYLES ================\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        width: 150,\r\n        height: 150,\r\n        margin: 5,\r\n        '&:hover': {\r\n            backgroundColor: grey[200]\r\n        }\r\n    },\r\n    cardActionArea: {\r\n        height: '100%'\r\n    },\r\n    cardContent: {\r\n        padding: 0,\r\n        '&:last-child': {\r\n            //paddingBottom: 5\r\n        },\r\n        height: '100%',\r\n        display: 'flex',\r\n        flexDirection: 'column'\r\n    },\r\n    graph: {\r\n        flexGrow: 1,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    description: {\r\n        padding: 5,\r\n    }\r\n});","import {OutlinedInputProps, TextField} from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nconst RenderTextField: React.FC<PropsType> = (props) => {\r\n    const {icon, label, input, meta: {touched, invalid, error}, classes, ...custom} = props;\r\n    const styles = useStyles();\r\n\r\n    return (\r\n        <div className={styles.root}>\r\n            {icon &&\r\n            <div className={styles.iconLeft}>\r\n                {icon}\r\n            </div>}\r\n            <TextField\r\n                InputProps={classes ? {classes} as Partial<OutlinedInputProps> : null}\r\n                variant=\"outlined\"\r\n                label={label}\r\n                placeholder={label}\r\n                error={touched && invalid}\r\n                helperText={touched && error}\r\n                {...input}\r\n                {...custom}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RenderTextField;\r\n\r\n//======================= TYPES =====================\r\ntype PropsType = {\r\n    icon: React.ReactElement\r\n    label: string\r\n    input: any\r\n    meta: {\r\n        touched: boolean\r\n        invalid: boolean\r\n        error: string\r\n    }\r\n    classes?: any\r\n}\r\n//========================= STYLES ===================\r\nconst useStyles = makeStyles({\r\n        root: {\r\n            position: 'relative',\r\n            width: '100%',\r\n            '& .MuiFormLabel-root': {\r\n                backgroundColor: 'white',\r\n            }\r\n        },\r\n        label: {\r\n            backgroundColor: 'white'\r\n        },\r\n        iconLeft: {\r\n            position: 'absolute',\r\n            left: -5,\r\n            top: '50%',\r\n            transform: 'translate(-100%, -50%)'\r\n        }\r\n    }\r\n);\r\n\r\n\r\n","import {StateType} from \"../store\";\r\nexport const getSize = (state: StateType) => state.editor.size;\r\nexport const getMainSidebarItem = (state: StateType) => state.editor.mainSidebarItem;\r\nexport const getShowSecondSidebar = (state: StateType) => state.editor.showSecondSidebar;\r\nexport const getSecondarySidebarBackgroundTabIndex = (state: StateType) => state.editor.secondarySidebarBackgroundTabIndex;\r\nexport const getBackgroundStyle = (state: StateType) => state.editor.backgroundStyle;\r\nexport const getBackgroundStyleColor = (state: StateType) => state.editor.backgroundStyleColor;\r\nexport const getUseBorder = (state: StateType) => state.editor.useBorder;\r\nexport const getBorderColor = (state: StateType) => state.editor.borderColor;\r\nexport const getGradientStyle = (state: StateType) => state.editor.backgroundStyleGradient.gradientStyle;\r\nexport const getColorStart = (state: StateType) => state.editor.backgroundStyleGradient.colorStart;\r\nexport const getColorEnd = (state: StateType) => state.editor.backgroundStyleGradient.colorEnd;\r\nexport const getImageTabIndex = (state: StateType) => state.editor.imageTabIndex;\r\nexport const getImages = (state: StateType) => state.editor.backgroundStyleImage.images;\r\nexport const getCurrentImage = (state: StateType) => state.editor.backgroundStyleImage.currentImage;\r\nexport const getScaleMode = (state: StateType) => state.editor.backgroundStyleImage.scaleMode;\r\nexport const getAlign = (state: StateType) => state.editor.backgroundStyleImage.align;\r\nexport const getCanvasUrl = (state: StateType) => state.editor.canvasUrl;\r\nexport const getIsLoading = (state: StateType) => state.editor.isLoading;","import React, {ReactElement, useState} from \"react\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport {Link as RouterLink} from \"react-router-dom\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {Card} from \"@material-ui/core\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getLang} from \"../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../Utils/lang\";\r\nimport {reduxForm, Field, InjectedFormProps, submit} from \"redux-form\";\r\nimport RenderTextField from \"../../common/RenderTextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {editorAC} from \"../../../Store/reducers/editor-reducer\";\r\nimport {getSize} from \"../../../Store/selectors/editor-selectors\";\r\nimport {appAC} from \"../../../Store/reducers/app-reducer\";\r\n\r\n//================= CUSTOM HOOK =========================\r\nconst useForm = () => {\r\n    const lang = useSelector(getLang);\r\n    const dispatch = useDispatch();\r\n    const onChangeHandler = () => {\r\n        setTimeout(() => dispatch(submit('size')));\r\n    };\r\n    const widthLabel = translate(lang, 'Width');\r\n    const heightLabel = translate(lang, 'Height');\r\n    const classes = useStylesForm();\r\n    const parseHandler = (value: string) => {\r\n        return value.replace(/\\D/ig, '')\r\n    };\r\n    return {\r\n        onChangeHandler, widthLabel, heightLabel,\r\n        classes, parseHandler\r\n    }\r\n}\r\n\r\n//========================== FORM =======================================\r\nconst Form: React.FC<FormPropsType> = ({handleSubmit}) => {\r\n    const {\r\n        onChangeHandler, widthLabel, heightLabel,\r\n        classes, parseHandler\r\n    } = useForm();\r\n    return (\r\n        <form onSubmit={handleSubmit}\r\n              className={classes.form}\r\n        >\r\n            <div>\r\n                <Field name='width'\r\n                       className={classes.field1}\r\n                       component={RenderTextField}\r\n                       parse={parseHandler}\r\n                       label={widthLabel}\r\n                       size='small'\r\n                       onChange={onChangeHandler}\r\n                />\r\n                <Field name='height'\r\n                       className={classes.field2}\r\n                       component={RenderTextField}\r\n                       label={heightLabel}\r\n                       size='small'\r\n                       onChange={onChangeHandler}\r\n                />\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\n//================================== REDUX-FORM ======================================\r\nconst ReduxForm = reduxForm<FormParamsType, FormOwnPropsType>({\r\n    form: 'size',\r\n})(Form);\r\n\r\n//======================== CUSTOM HOOK =========================\r\nconst useCreateNewCustom = () => {\r\n    const classes = useStyles();\r\n    const [viewForm, setViewForm] = useState(false);\r\n    const onClickHandler = () => {\r\n        setViewForm(true);\r\n    };\r\n    const dispatch = useDispatch();\r\n    const onSubmitHandler = (value: FormParamsType) => {\r\n        dispatch(editorAC.setSize({\r\n            width: +value.width,\r\n            height: +value.height\r\n        }));\r\n        dispatch(appAC.setIsCreated(true));\r\n    };\r\n    const lang = useSelector(getLang);\r\n    const buttonLabel = translate(lang, 'Create');\r\n    const customSizeLabel = translate(lang, 'Custom Size');\r\n    const size = useSelector(getSize);\r\n    const disabled = !(size && size.width && size.height)\r\n    return {\r\n        classes, viewForm, onClickHandler, disabled,\r\n        onSubmitHandler, buttonLabel, customSizeLabel\r\n    }\r\n};\r\n\r\n//========================= COMPONENT =======================\r\nconst CreateNewCustom: React.FC<{}> = (): ReactElement => {\r\n    const {\r\n        classes, viewForm, onClickHandler, disabled,\r\n        onSubmitHandler, buttonLabel, customSizeLabel\r\n    } = useCreateNewCustom();\r\n\r\n    return (\r\n        <Card className={classes.root} elevation={6}>\r\n            {\r\n                !viewForm\r\n                    ? <CardActionArea\r\n                        className={classes.cardActionArea}\r\n                        component='button'\r\n                        onClick={onClickHandler}\r\n                    >\r\n                        <div className={classes.graph}>\r\n                            <AddIcon className={classes.icon}/>\r\n                        </div>\r\n                        <div className={classes.description}>\r\n                            <Typography gutterBottom variant=\"subtitle2\" component=\"h6\" align='center'>\r\n                                {customSizeLabel}\r\n                            </Typography>\r\n                        </div>\r\n                    </CardActionArea>\r\n                    : <div className={classes.formWrapper}>\r\n                        <ReduxForm onSubmit={onSubmitHandler}/>\r\n                        <div className={classes.buttonWrapper}>\r\n                            <Button className={classes.button}\r\n                                    disabled={disabled}\r\n                                    component={RouterLink}\r\n                                    to='/editor'\r\n                                    variant='contained'\r\n                                    color='primary'\r\n                                    size='small'\r\n                                    fullWidth\r\n                            >\r\n                                {buttonLabel}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n            }\r\n        </Card>\r\n    )\r\n};\r\nexport default CreateNewCustom;\r\n\r\n//=================== TYPE ==============\r\ntype FormPropsType =\r\n    InjectedFormProps<FormParamsType, FormOwnPropsType>\r\n    & FormOwnPropsType;\r\ntype FormParamsType = {\r\n    width: string\r\n    height: string\r\n}\r\ntype FormOwnPropsType = {};\r\n\r\n//================= STYLES ================\r\nconst useStylesForm = makeStyles({\r\n    field1: {\r\n        backgroundColor: 'white',\r\n        marginBottom: 10,\r\n    },\r\n    field2: {\r\n        backgroundColor: 'white',\r\n    },\r\n    form: {\r\n        padding: '10px 10px 0 10px',\r\n    }\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        width: 150,\r\n        height: 150,\r\n        margin: 5,\r\n    },\r\n    cardActionArea: {\r\n        height: '100%',\r\n        //display: 'flex',\r\n        //flexDirection: 'column',\r\n        //justifyContent: 'flex-end',\r\n        position: 'relative'\r\n    },\r\n    icon: {\r\n        transform: 'scale(3)'\r\n    },\r\n    graph: {\r\n        width: '100%',\r\n        //flexGrow: 1,\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: 110\r\n    },\r\n    description: {\r\n        padding: 5,\r\n        height: 40,\r\n        position: 'absolute',\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0\r\n    },\r\n    formWrapper: {\r\n        height: '100%',\r\n        display: 'flex',\r\n        flexDirection: 'column'\r\n    },\r\n    buttonWrapper: {\r\n        flexGrow: 1,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        padding: '0 10px'\r\n    },\r\n    button: {\r\n        textTransform: 'none'\r\n    }\r\n});","import React, {ReactElement} from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport CreateNewItem from \"./CreateNewItem\";\r\nimport CreateNewCustom from \"./CreateNewCustom\";\r\n\r\n//================= CUSTOM HOOK =========================\r\nconst useCreateNew = () => {\r\n    const classes = useStyles();\r\n    return {\r\n        classes,\r\n    }\r\n};\r\n\r\n//======================= COMPONENT ===============================\r\nconst CreateNew: React.FC<{}> = (): ReactElement => {\r\n    const {classes} = useCreateNew();\r\n\r\n    const sizes = [\r\n        {\r\n            label: 'Large Rectangle',\r\n            width: 336,\r\n            height: 280\r\n        },\r\n        {\r\n            label: 'Medium Rectangle',\r\n            width: 300,\r\n            height: 250\r\n        },\r\n        {\r\n            label: 'Leaderboard',\r\n            width: 728,\r\n            height: 90\r\n        },\r\n        {\r\n            label: 'Large Mobile',\r\n            width: 320,\r\n            height: 100\r\n        },\r\n        {\r\n            label: 'Main Banner',\r\n            width: 468,\r\n            height: 60\r\n        },\r\n        {\r\n            label: 'Half Page',\r\n            width: 300,\r\n            height: 600\r\n        },\r\n        {\r\n            label: 'Square',\r\n            width: 250,\r\n            height: 250\r\n        },\r\n        {\r\n            label: 'Half Banner',\r\n            width: 234,\r\n            height: 60\r\n        },\r\n        {\r\n            label: 'Vertical Banner',\r\n            width: 120,\r\n            height: 240\r\n        },\r\n        {\r\n            label: 'Small Rectangle',\r\n            width: 180,\r\n            height: 150\r\n        },\r\n        {\r\n            label: 'Mobile Banner',\r\n            width: 300,\r\n            height: 50\r\n        },\r\n    ];\r\n    const CreateNewElements = sizes.map(\r\n        (el, index) => <CreateNewItem key={index}\r\n                                      sizeLabel={el.label}\r\n                                      width={el.width}\r\n                                      height={el.height}\r\n        />\r\n    );\r\n\r\n    return (\r\n        <div className={classes.createNew}>\r\n            <div className={classes.wrapper}>\r\n                <CreateNewCustom/>\r\n                {CreateNewElements}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default CreateNew\r\n\r\n//================= STYLES ================\r\nconst useStyles = makeStyles({\r\n    createNew: {\r\n        maxWidth: 1000,\r\n        width: '100%',\r\n        margin: '0 auto',\r\n        height: 'calc(100vh - 64px)',\r\n        padding: 10\r\n    },\r\n    wrapper: {\r\n        maxHeight: '100%',\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'center'\r\n    }\r\n});","import React, {ReactElement} from \"react\";\r\nimport ViewComfyIcon from '@material-ui/icons/ViewComfy';\r\nimport TextFieldsSharpIcon from '@material-ui/icons/TextFieldsSharp';\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {Theme} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getLang} from \"../../../../Store/selectors/app-selectors\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport {getMainSidebarItem} from \"../../../../Store/selectors/editor-selectors\";\r\nimport {editorAC} from \"../../../../Store/reducers/editor-reducer\";\r\nimport {translate} from \"../../../../Utils/lang\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport brown from \"@material-ui/core/colors/brown\";\r\nimport grey from \"@material-ui/core/colors/grey\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useMainSidebar = () => {\r\n    const classes = useStyles();\r\n    const lang = useSelector(getLang);\r\n    const labels = [];\r\n    labels[0] = translate(lang, 'Background');\r\n    labels[1] = translate(lang, 'Text');\r\n    const mainSidebarItem = useSelector(getMainSidebarItem);\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = () => {\r\n        dispatch(editorAC.setShowSecondSidebar(true))\r\n    };\r\n    const changeHandler = (event: React.ChangeEvent<{}>, newValue: number) => {\r\n        dispatch(editorAC.setMainSidebarItem(newValue));\r\n    };\r\n    return {\r\n        classes, mainSidebarItem, onClickHandler,\r\n        changeHandler, labels\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst MainSidebar: React.FC<{}> = (): ReactElement => {\r\n    const {\r\n        classes, mainSidebarItem, onClickHandler,\r\n        changeHandler, labels\r\n    } = useMainSidebar();\r\n    const icons = [\r\n        <ViewComfyIcon/>,\r\n        <TextFieldsSharpIcon/>\r\n    ];\r\n\r\n    return (\r\n        <Tabs\r\n            classes={{\r\n                indicator: classes.indicator\r\n            }}\r\n            orientation=\"vertical\"\r\n            value={mainSidebarItem}\r\n            onChange={changeHandler}\r\n        >\r\n            <Tab\r\n                label={labels[0]}\r\n                onClick={onClickHandler}\r\n                icon={icons[0]}\r\n                classes={{\r\n                    wrapper: classes.wrapper,\r\n                    selected: classes.selected,\r\n                    root: classes.tabRoot,\r\n                    labelIcon: classes.labelIcon\r\n                }}/>\r\n            <Tab label={labels[1]}\r\n                 onClick={onClickHandler}\r\n                 icon={icons[1]}\r\n                 classes={{\r\n                     wrapper: classes.wrapper,\r\n                     selected: classes.selected,\r\n                     root: classes.tabRoot,\r\n                     labelIcon: classes.labelIcon\r\n                 }}/>\r\n        </Tabs>\r\n    )\r\n};\r\nexport default MainSidebar;\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    cardContent: {\r\n        paddingLeft: 5,\r\n        paddingTop: 5,\r\n        paddingRight: 5,\r\n        '&:last-child': {\r\n            paddingBottom: 5\r\n        }\r\n    },\r\n    indicator: {\r\n        width: 3,\r\n        left: 'auto',\r\n        right: 0,\r\n        backgroundColor: 'white'\r\n    },\r\n    wrapper: {\r\n        fontSize: 12,\r\n        textTransform: 'none',\r\n        '& > *:first-child': {\r\n            marginBottom: '0!important'\r\n        }\r\n    },\r\n    selected: {\r\n        color: grey[50],\r\n        backgroundColor: brown[600]\r\n    },\r\n    tabRoot: {\r\n        padding: 0,\r\n        marginLeft: 0,\r\n        color: 'white',\r\n        maxWidth: '100%',\r\n        minWidth: '100%',\r\n    },\r\n    labelIcon: {\r\n        minHeight: 50,\r\n    }\r\n}));","export const mainSidebarWidth = 80;\r\nexport const secondSidebarWidth = 250;\r\nexport const editorToolbarHeight = 50;","import ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getLang} from \"../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../Utils/lang\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport React from \"react\";\r\nimport {IconButton} from \"@material-ui/core\";\r\nimport {getShowSecondSidebar} from \"../../../../Store/selectors/editor-selectors\";\r\nimport {editorAC} from \"../../../../Store/reducers/editor-reducer\";\r\n\r\n//================= CUSTOM HOOK =====================\r\nconst useSecondarySidebarTitle = (title: string) => {\r\n    const classes = useStyles();\r\n    const lang = useSelector(getLang);\r\n    const dispatch = useDispatch();\r\n    const showSecondSidebar = useSelector(getShowSecondSidebar);\r\n    const titleLabel = translate(lang, title);\r\n    const onClickHandler = () => {\r\n        dispatch(editorAC.setShowSecondSidebar(!showSecondSidebar));\r\n    };\r\n    return {\r\n        classes, titleLabel, onClickHandler\r\n    }\r\n};\r\n\r\n//================= COMPONENT ======================\r\nconst SecondarySidebarTitle: React.FC<PropsType> = ({title})  => {\r\n    const {\r\n        classes, titleLabel, onClickHandler\r\n    } = useSecondarySidebarTitle(title);\r\n\r\n    return (\r\n        <div className={classes.title}>\r\n            <Typography variant='h6'\r\n                        className={classes.typography}\r\n            >\r\n                {titleLabel}\r\n            </Typography>\r\n            <IconButton onClick={onClickHandler}\r\n                        className={classes.icon}\r\n                        size='small'\r\n            >\r\n                <ArrowBackIcon />\r\n            </IconButton>\r\n        </div>\r\n    )\r\n};\r\nexport default SecondarySidebarTitle;\r\n\r\n//============= TYPE ===============\r\ntype PropsType = {\r\n    title: string\r\n};\r\n\r\n//============ STYLES =================\r\nconst useStyles = makeStyles({\r\n    title: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        paddingLeft: 10\r\n    },\r\n    typography: {\r\n        color: 'white'\r\n    },\r\n    icon: {\r\n        color: 'white'\r\n    }\r\n});","import {Tabs, Theme} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getSecondarySidebarBackgroundTabIndex} from \"../../../../../Store/selectors/editor-selectors\";\r\nimport React from \"react\";\r\nimport {editorAC} from \"../../../../../Store/reducers/editor-reducer\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {getLang} from \"../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../Utils/lang\";\r\n\r\n//====================== CUSTOM HOOK ====================\r\nconst useSecondarySidebarBackgroundTabs = () => {\r\n    const secondarySidebarBackgroundTabIndex = useSelector(getSecondarySidebarBackgroundTabIndex)\r\n    const dispatch = useDispatch();\r\n    const onChangeHandler = (event: React.ChangeEvent<{}>, newValue: number) => {\r\n        dispatch(editorAC.setSecondarySidebarBackgroundTabIndex(newValue))\r\n    };\r\n    const lang = useSelector(getLang);\r\n    const labels = [];\r\n    labels[0] = translate(lang, 'Color');\r\n    labels[1] = translate(lang, 'Gradient');\r\n    labels[2] = translate(lang, 'Image');\r\n    const classes = useStyles();\r\n    return {\r\n        secondarySidebarBackgroundTabIndex,\r\n        onChangeHandler, classes, labels\r\n    }\r\n}\r\n\r\n//======================= COMPONENT ====================\r\nconst BackgroundTabs: React.FC<{}> = () => {\r\n    const {\r\n        secondarySidebarBackgroundTabIndex,\r\n        onChangeHandler, classes, labels\r\n    } = useSecondarySidebarBackgroundTabs()\r\n    return (\r\n        <Tabs\r\n            value={secondarySidebarBackgroundTabIndex}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            onChange={onChangeHandler}\r\n            classes={{\r\n                indicator: classes.indicator\r\n            }}\r\n            className={classes.tabs}\r\n        >\r\n            <Tab label={labels[0]}\r\n                 classes={{\r\n                     wrapper: classes.wrapper,\r\n                     selected: classes.selected,\r\n                     root: classes.tabRoot,\r\n                 }}\r\n            />\r\n            <Tab label={labels[1]}\r\n                 classes={{\r\n                     wrapper: classes.wrapper,\r\n                     selected: classes.selected,\r\n                     root: classes.tabRoot,\r\n                 }}\r\n            />\r\n            <Tab label={labels[2]}\r\n                 classes={{\r\n                     wrapper: classes.wrapper,\r\n                     selected: classes.selected,\r\n                     root: classes.tabRoot,\r\n                 }}\r\n            />\r\n        </Tabs>\r\n    )\r\n};\r\nexport default BackgroundTabs;\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    tabs: {\r\n        margin: '0 10px',\r\n        minHeight: 0,\r\n        borderBottom: `1px solid #aaa`,\r\n        '& .MuiTabs-flexContainer': {\r\n            justifyContent: 'space-between'\r\n        }\r\n    },\r\n    indicator: {\r\n        height: 3,\r\n        backgroundColor: 'white'\r\n    },\r\n    wrapper: {\r\n        fontSize: 12,\r\n        color: 'white',\r\n        textTransform: 'none',\r\n        '& > *:first-child': {\r\n            marginBottom: '0!important'\r\n        }\r\n    },\r\n    selected: {\r\n        color: 'white'\r\n    },\r\n    tabRoot: {\r\n        flexGrow: 1,\r\n        marginLeft: 0,\r\n        color: 'white',\r\n        maxWidth: 'auto',\r\n        minWidth: 'auto',\r\n        padding: 5,\r\n        minHeight: 0\r\n    },\r\n}));","import React, {ReactElement} from \"react\";\r\nimport styled from 'styled-components';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {editorAC} from \"../../../../../../Store/reducers/editor-reducer\";\r\nimport {Tooltip} from \"@material-ui/core\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\n\r\nconst Div = styled.div`\r\n  background: ${(props) => props.color};\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n`;\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useSetColorButton = (color: string) => {\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = () => {\r\n        dispatch(editorAC.setBackgroundStyleColor({color}));\r\n        dispatch(editorAC.setBackgroundStyle('color'));\r\n    };\r\n    const classes = useStyles();\r\n    return {\r\n        onClickHandler, classes\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst SetColorButton: React.FC<PropsType> = (props): ReactElement => {\r\n    const { color, colorTitle } = props;\r\n    const {\r\n        onClickHandler, classes\r\n    } = useSetColorButton(color);\r\n    return (\r\n        <Tooltip title={colorTitle} placement=\"right\" arrow\r\n                 classes={{\r\n                     tooltip: classes.tooltip,\r\n                     arrow: classes.arrow\r\n                 }}>\r\n            <Div color={color}\r\n                 onClick={onClickHandler}\r\n            />\r\n        </Tooltip>\r\n    )\r\n};\r\nexport default SetColorButton;\r\n\r\n//========================== TYPE =======================\r\ntype PropsType = {\r\n    color: string\r\n    colorTitle: string\r\n}\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    tooltip: {\r\n        backgroundColor: '#000'\r\n    },\r\n    arrow: {\r\n        color: '#000'\r\n    }\r\n});\r\n","import React, {useState} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport {HexColorPicker} from \"react-colorful\";\r\nimport './../../css/styles.css'\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport styled from \"styled-components\";\r\n\r\n//===================== CUSTOM HOOK ===================\r\nconst useSelectColorPopover = (\r\n    onPickColor: (color: string) => void,\r\n    handleClose: () => void,\r\n    propsColor: string\r\n) => {\r\n    const [color, setColor] = useState(propsColor);\r\n    const onAcceptHandler = () => {\r\n        onPickColor(color);\r\n        handleClose();\r\n    };\r\n    const classes = useStyles();\r\n    return {\r\n        color, setColor,\r\n        onAcceptHandler, classes\r\n    }\r\n};\r\n\r\n//==================== STYLED =========================\r\nconst Div = styled.div`\r\n        width:  ${(props: {width: number}) => `${props.width}px`};\r\n        padding: 15px;\r\n`;\r\n\r\n//==================== COMPONENT ======================\r\nconst SelectColorPopover: React.FC<PropsType> = (props) => {\r\n    const {header, onPickColor, handleClose, propsColor, width = 230} = props;\r\n    const {\r\n        color, setColor,\r\n        onAcceptHandler, classes\r\n    } = useSelectColorPopover(onPickColor, handleClose, propsColor);\r\n    return (\r\n        <Div width={width}>\r\n            <Typography variant='subtitle2' className={classes.title}>\r\n                {header}\r\n            </Typography>\r\n\r\n            <HexColorPicker color={color} onChange={setColor}/>\r\n            <Button variant='contained'\r\n                    color='primary'\r\n                    fullWidth\r\n                    className={classes.button}\r\n                    onClick={onAcceptHandler}\r\n            >\r\n                Select\r\n            </Button>\r\n\r\n        </Div>\r\n    )\r\n};\r\nexport default SelectColorPopover;\r\n\r\n//=========================== TYPE =======================\r\ntype PropsType = {\r\n    header: string\r\n    onPickColor: (color: string) => void\r\n    handleClose: () => void\r\n    propsColor: string\r\n    width?: number\r\n}\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        marginTop: 10,\r\n        textTransform: 'none'\r\n    },\r\n    title: {\r\n        marginBottom: 10\r\n    }\r\n});","import makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport React from \"react\";\r\nimport styled from 'styled-components';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {editorAC} from \"../../../../../../Store/reducers/editor-reducer\";\r\nimport {Tooltip} from \"@material-ui/core\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport {getLang} from \"../../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../../Utils/lang\";\r\nimport SelectColorPopover from \"../../../../../common/SelectColorPopover\";\r\nimport Popover from \"@material-ui/core/Popover/Popover\";\r\n\r\nconst Div = styled.div`\r\n  background: #fff;\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content:center;\r\n  align-items: center;\r\n`;\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useSelectColorButton = () => {\r\n    const lang = useSelector(getLang);\r\n    const title = translate(lang, 'Select color');\r\n    const header = translate(lang, 'Select background color');\r\n    const dispatch = useDispatch();\r\n    const onPickColorHandler = (color: string) => {\r\n        dispatch(editorAC.setBackgroundStyleColor({color}))\r\n    };\r\n    const [anchorEl, setAnchorEl] = React.useState<HTMLElement | null>(null);\r\n    const open = Boolean(anchorEl);\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    const onClickHandler = (event: React.MouseEvent<HTMLElement>) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const classes = useStyles();\r\n    return {\r\n        title, onPickColorHandler, header,\r\n        onClickHandler, open, anchorEl,\r\n        handleClose, classes\r\n    }\r\n}\r\n\r\n//============== COMPONENT =================\r\nconst SelectColorButton: React.FC<{}> = () => {\r\n    const {\r\n        title, onPickColorHandler, header,\r\n        onClickHandler, open, anchorEl,\r\n        handleClose, classes\r\n    } = useSelectColorButton();\r\n    return (\r\n        <>\r\n            <Tooltip title={title} placement=\"right\" arrow\r\n                     classes={{\r\n                         tooltip: classes.tooltip,\r\n                         arrow: classes.arrow\r\n                     }}>\r\n                <Div onClick={onClickHandler}\r\n                >\r\n                    <AddIcon fontSize='large'/>\r\n                </Div>\r\n            </Tooltip>\r\n            <Popover\r\n                open={open}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'left',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'left',\r\n                }}\r\n            >\r\n                <SelectColorPopover header={header}\r\n                                    onPickColor={onPickColorHandler}\r\n                                    handleClose={handleClose}\r\n                                    propsColor='#FFF'\r\n                />\r\n            </Popover>\r\n\r\n        </>\r\n    )\r\n};\r\nexport default SelectColorButton;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    tooltip: {\r\n        backgroundColor: '#000'\r\n    },\r\n    arrow: {\r\n        color: '#000'\r\n    }\r\n});\r\n\r\n\r\n\r\n\r\n\r\n","export type LangType = 'eng' | 'rus'\r\nexport type SizeType = {\r\n    width: number | null\r\n    height: number | null\r\n}\r\nexport enum MainSidebarItemEnum {\r\n    background = 0,\r\n    text = 1,\r\n}\r\nexport type BackgroundStyleType = 'color' | 'gradient' | 'texture' | 'image'\r\nexport enum BackgroundTabIndexEnum {\r\n    color = 0,\r\n    gradient = 1,\r\n    image = 2\r\n}\r\nexport type BackgroundStyleColorType = {\r\n    color: string\r\n}\r\nexport type GradientStyleType = 'horizontal' | 'vertical' | 'radial'\r\nexport type ScaleModeType = 'Exact fit' | 'Scale crop' | 'No scale' | 'Maintain aspect'\r\nexport type AlignType = 'left-top' | 'center-top' | 'right-top' |\r\n    'left-center' | 'center' | 'right-center' |\r\n    'left-bottom' | 'center-bottom' | 'right-bottom'\r\nexport enum ImageTabIndexEnum {\r\n    myImage = 0,\r\n    imageSetting = 1\r\n}\r\nexport type ImageType = {\r\n    id: number\r\n    src: string\r\n    name: string\r\n}\r\nexport type ZoomType = 10 | 25 | 50 | 75 | 100 | 150 | 200 | 300 | 400\r\nexport type DownloadCaseType = 'PNG' | 'JPEG' | 'HTML'\r\nexport type elementType = 'header' | 'subheader' | 'body'\r\nexport type TextType = {\r\n    id: number\r\n    content: string\r\n    position: {\r\n        top: number\r\n        left: number\r\n    }\r\n    fontSize: number\r\n    fontStyle: 'normal' | 'italic'\r\n    fontFamily: string\r\n    color: string\r\n    lowerCase: boolean\r\n    upperCase: boolean\r\n    hover: boolean\r\n    selected: boolean\r\n    editParameters: boolean\r\n    editText: boolean\r\n\r\n}","import makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport React, {ReactElement} from \"react\";\r\nimport SetColorButton from \"./SetColorButton\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getLang} from \"../../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../../Utils/lang\";\r\nimport {Typography} from \"@material-ui/core\";\r\nimport SelectColorButton from \"./SelectColorButton\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useColor = () => {\r\n    const classes = useStyles();\r\n    const colors = [\r\n        {color: '#f44336', colorTitle: 'Red'},\r\n        {color: '#e91e63', colorTitle: 'Pink'},\r\n        {color: '#9c27b0', colorTitle: 'Purple'},\r\n        {color: '#673ab7', colorTitle: 'Deep Purple'},\r\n        {color: '#3f51b5', colorTitle: 'Indigo'},\r\n        {color: '#2196f3', colorTitle: 'Blue'},\r\n        {color: '#03a9f4', colorTitle: 'Light Blue'},\r\n        {color: '#00bcd4', colorTitle: 'Cyan'},\r\n        {color: '#009688', colorTitle: 'Teal'},\r\n        {color: '#4caf50', colorTitle: 'Green'},\r\n        {color: '#8bc34a', colorTitle: 'Light Green'},\r\n        {color: '#cddc39', colorTitle: 'Lime'},\r\n        {color: '#ffeb3b', colorTitle: 'Yellow'},\r\n        {color: '#ffc107', colorTitle: 'Amber'},\r\n        {color: '#ff9800', colorTitle: 'Orange'},\r\n        {color: '#ff5722', colorTitle: 'Deep Orange'},\r\n        {color: '#795548', colorTitle: 'Brown'},\r\n        {color: '#9e9e9e', colorTitle: 'Grey'},\r\n        {color: '#607d8b', colorTitle: 'Blue Grey'},\r\n    ];\r\n    const lang = useSelector(getLang);\r\n    const defaultPresetsLabel = translate(lang, 'Default presets');\r\n\r\n    return {\r\n        classes, colors, defaultPresetsLabel,\r\n\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst Color: React.FC<{}> = (): ReactElement => {\r\n    const {\r\n        classes, colors, defaultPresetsLabel,\r\n    } = useColor();\r\n    const pickColorButtonElements = colors.map(\r\n        el => <SetColorButton key={el.color}\r\n                              color={el.color}\r\n                              colorTitle={el.colorTitle}\r\n        />\r\n    );\r\n    return (\r\n        <div className={classes.scndSdbrBckgrndColor}>\r\n            <div className={classes.colorsBlock}>\r\n                <SelectColorButton />\r\n                <SetColorButton color='#fff' colorTitle='White'/>\r\n                <SetColorButton color='#858585' colorTitle='Grey'/>\r\n                <SetColorButton color='#000' colorTitle='Black' />\r\n            </div>\r\n            <Typography variant='body2' className={classes.typography}>\r\n                {defaultPresetsLabel}\r\n            </Typography>\r\n            <div className={classes.colorsBlock}>\r\n                {pickColorButtonElements}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\nexport default Color;\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    scndSdbrBckgrndColor: {\r\n        margin: '20px 10px',\r\n        flexGrow: 1\r\n    },\r\n    colorsBlock: {\r\n        display: 'grid',\r\n        gridGap: 10,\r\n        gridTemplateColumns: 'repeat(4, 1fr)'\r\n    },\r\n    typography: {\r\n        color: '#fff',\r\n        margin: '20px 0 10px'\r\n    }\r\n});\r\n\r\n","import makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport React from \"react\";\r\nimport {GradientStyleType} from \"../../../../../../Types/types\";\r\nimport clsx from \"clsx\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {editorAC} from \"../../../../../../Store/reducers/editor-reducer\";\r\nimport {getBackgroundStyle, getGradientStyle} from \"../../../../../../Store/selectors/editor-selectors\";\r\nimport {getZoom} from \"../../../../../../Store/selectors/workspace-selectors\";\r\nimport {workspaceAC} from \"../../../../../../Store/reducers/workspace-reducer\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useGradientStyleButton = (gradientStyle: GradientStyleType) => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const gradientStyleFromState = useSelector(getGradientStyle);\r\n    const backgroundStyle = useSelector(getBackgroundStyle);\r\n\r\n    const onClickHandler = () => {\r\n        dispatch(editorAC.setBackgroundStyle('gradient'));\r\n        dispatch(editorAC.setGradientStyle(gradientStyle));\r\n    };\r\n    return {\r\n        classes, onClickHandler, gradientStyleFromState,\r\n        backgroundStyle\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst GradientStyleButton: React.FC<PropsType> = (props) => {\r\n    const {\r\n        gradientStyle\r\n    } = props;\r\n    const {\r\n        classes, onClickHandler, gradientStyleFromState,\r\n        backgroundStyle\r\n    } = useGradientStyleButton(gradientStyle);\r\n\r\n    return (\r\n        <div onClick={onClickHandler}\r\n             className={clsx(\r\n                 classes.gradientStyleButton,\r\n                 gradientStyle === 'horizontal' && classes.horizontal,\r\n                 gradientStyle === 'vertical' && classes.vertical,\r\n                 gradientStyle === 'radial' && classes.radial,\r\n                 backgroundStyle === 'gradient' && gradientStyleFromState === gradientStyle && classes.selected\r\n             )}/>\r\n    )\r\n};\r\nexport default GradientStyleButton;\r\n\r\n//================= TYPE =============\r\ntype PropsType = {\r\n    gradientStyle: GradientStyleType\r\n}\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    gradientStyleButton: {\r\n        width: 50,\r\n        height: 50,\r\n        borderRadius: 10,\r\n        border: '2px solid black',\r\n        boxSizing: 'border-box',\r\n    },\r\n    horizontal: {\r\n        background: 'linear-gradient(90deg, rgba(0,0,0,1) 0%, rgba(255,255,255,1) 100%)'\r\n    },\r\n    vertical: {\r\n        background: 'linear-gradient(0deg, rgba(255,255,255,1) 0%, rgba(0,0,0,1) 100%)'\r\n    },\r\n    radial: {\r\n        background: 'radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(0,0,0,1) 100%)'\r\n    },\r\n    selected: {\r\n        outline: '2px solid #FFF'\r\n    }\r\n});\r\n\r\n","import makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport React, {ReactElement} from \"react\";\r\nimport GradientStyleButton from \"./GradientStyleButton\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useGradientStyle = () => {\r\n    const classes = useStyles();\r\n    return {\r\n        classes\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst GradientStyle: React.FC<{}> = (): ReactElement => {\r\n    const {\r\n        classes\r\n    } = useGradientStyle()\r\n    return (\r\n        <div className={classes.gradientStyle}>\r\n            <GradientStyleButton gradientStyle='horizontal'/>\r\n            <GradientStyleButton gradientStyle='vertical'/>\r\n            <GradientStyleButton gradientStyle='radial'/>\r\n        </div>\r\n    )\r\n};\r\nexport default GradientStyle;\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    gradientStyle: {\r\n        margin: '20px 10px',\r\n        display: 'grid',\r\n        gridGap: 10,\r\n        gridTemplateColumns: 'repeat(4, 1fr)'\r\n    }\r\n});\r\n\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {Tooltip} from \"@material-ui/core\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport SelectColorPopover from \"./SelectColorPopover\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getLang} from \"../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../Utils/lang\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\n\r\nconst Div = styled.div`\r\n  background: ${(props: DivPropsType) => props.enable ? props.color : 'none'};;\r\n  width: ${(props: DivPropsType) => `${props.size}px`};\r\n  height: ${(props: DivPropsType) => `${props.size}px`};\r\n  border-radius: 2px;\r\n  border: 2px solid #fff;\r\n  cursor: ${(props: DivPropsType) => props.enable ? 'pointer' : 'auto'};\r\n  display: flex;\r\n  justify-content:center;\r\n  align-items: center;\r\n`;\r\n\r\n//==================== CUSTOM HOOK ==========================\r\nconst useSelectColorButtonCustom = (\r\n    enable: boolean, header: string, tipTitle: string | undefined\r\n) => {\r\n    const onClickHandler = (event: React.MouseEvent<HTMLElement>) => {\r\n        if (enable) {\r\n            setAnchorEl(event.currentTarget);\r\n        }\r\n    };\r\n    const [anchorEl, setAnchorEl] = React.useState<HTMLElement | null>(null);\r\n    const open = Boolean(anchorEl);\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    const lang = useSelector(getLang);\r\n    const headerLabel = translate(lang, header);\r\n    const tipTitleLabel = tipTitle ? translate(lang, tipTitle) : '';\r\n    const classes = useStyles();\r\n    return {\r\n        onClickHandler, open, anchorEl, classes,\r\n        handleClose, headerLabel, tipTitleLabel,\r\n    }\r\n};\r\n\r\n//===================== COMPONENT ===========================\r\nconst SelectColorButtonCustom: React.FC<PropsType> = (props) => {\r\n    const {\r\n        color, enable, onPickColorHandler, size = 50, tipTitle, header,\r\n        anchorOriginVertical = 'top', anchorOriginHorizontal = 'left',\r\n        transformOriginVertical = 'top', transformOriginHorizontal = 'left'\r\n    } = props;\r\n\r\n    const {\r\n        onClickHandler, open, anchorEl, classes,\r\n        handleClose, headerLabel, tipTitleLabel,\r\n    } = useSelectColorButtonCustom(enable, header, tipTitle);\r\n\r\n    return (\r\n        <>\r\n            <>\r\n                {\r\n                    tipTitle\r\n                        ? <Tooltip title={tipTitleLabel} placement=\"right\" arrow\r\n                                   classes={{\r\n                                       tooltip: classes.tooltip,\r\n                                       arrow: classes.arrow\r\n                                   }}>\r\n                            <Div size={size}\r\n                                 enable={enable}\r\n                                 color={color}\r\n                                 onClick={onClickHandler}\r\n                            />\r\n                        </Tooltip>\r\n                        : <Div size={size}\r\n                               enable={enable}\r\n                               color={color}\r\n                               onClick={onClickHandler}\r\n                        />\r\n                }\r\n            </>\r\n            <Popover\r\n                open={open}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: anchorOriginVertical,\r\n                    horizontal: anchorOriginHorizontal,\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: transformOriginVertical,\r\n                    horizontal: transformOriginHorizontal,\r\n                }}\r\n            >\r\n                <SelectColorPopover header={headerLabel}\r\n                                    onPickColor={onPickColorHandler}\r\n                                    handleClose={handleClose}\r\n                                    propsColor={color}\r\n                />\r\n            </Popover>\r\n        </>\r\n    )\r\n};\r\nexport default SelectColorButtonCustom;\r\n\r\n//==================== TYPE ===================\r\ntype PropsType = {\r\n    tipTitle?: string | undefined\r\n    color: string\r\n    enable: boolean\r\n    onPickColorHandler: (color: string) => void\r\n    size?: number\r\n    header: string\r\n    anchorOriginVertical?: 'top' | 'center' | 'bottom' | number\r\n    anchorOriginHorizontal?: 'left' | 'center' | 'right' | number\r\n    transformOriginVertical?: 'top' | 'center' | 'bottom' | number\r\n    transformOriginHorizontal?: 'left' | 'center' | 'right' | number\r\n};\r\ntype DivPropsType = {\r\n    size: number\r\n    color: string\r\n    enable: boolean\r\n}\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    tooltip: {\r\n        backgroundColor: '#000'\r\n    },\r\n    arrow: {\r\n        color: '#000'\r\n    }\r\n});\r\n\r\n","import React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CachedIcon from '@material-ui/icons/Cached';\r\nimport SelectColorButtonCustom from \"../../../../../common/SelectColorButtonCustom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getColorEnd, getColorStart} from \"../../../../../../Store/selectors/editor-selectors\";\r\nimport {editorAC} from \"../../../../../../Store/reducers/editor-reducer\";\r\nimport styled from \"styled-components\";\r\n\r\n//===================== CUSTOM HOOK ===================\r\nconst useGradientColor = () => {\r\n    const classes = useStyles();\r\n    const colorStart = useSelector(getColorStart);\r\n    const colorEnd = useSelector(getColorEnd);\r\n    const dispatch = useDispatch()\r\n    const onSelectColorStartHandler = (color: string) => {\r\n        dispatch(editorAC.setColorStart(color))\r\n    };\r\n    const onSelectColorEndHandler = (color: string) => {\r\n        dispatch(editorAC.setColorEnd(color))\r\n    };\r\n    const onClickHandler = () => {\r\n        dispatch(editorAC.replaceColor())\r\n    };\r\n    return {\r\n        classes, colorStart, colorEnd, onClickHandler,\r\n        onSelectColorStartHandler, onSelectColorEndHandler\r\n    }\r\n};\r\n\r\nconst GradientDiv = styled.div`\r\n    height: 25px;\r\n    margin-top: 5px;\r\n    background: ${\r\n    (props: PropsType) =>  `linear-gradient(90deg, ${props.colorStart} 0%, ${props.colorEnd} 100%)`\r\n};\r\n`\r\n\r\n//==================== COMPONENT ======================\r\nconst GradientColor: React.FC<{}> = () => {\r\n    const {\r\n        classes, colorStart, colorEnd, onClickHandler,\r\n        onSelectColorStartHandler, onSelectColorEndHandler\r\n    } = useGradientColor();\r\n\r\n    return (\r\n        <div className={classes.gradientColor}>\r\n            <div className={classes.buttons}>\r\n                <SelectColorButtonCustom\r\n                    color={colorStart}\r\n                    enable={true}\r\n                    onPickColorHandler={onSelectColorStartHandler}\r\n                    size={25}\r\n                    tipTitle='Select color'\r\n                    header='Select start color'\r\n                    anchorOriginVertical='top'\r\n                    anchorOriginHorizontal='left'\r\n                    transformOriginVertical='top'\r\n                    transformOriginHorizontal='left'\r\n                />\r\n                <IconButton size='small' onClick={onClickHandler}>\r\n                    <CachedIcon className={classes.icon}/>\r\n                </IconButton>\r\n                <SelectColorButtonCustom\r\n                    color={colorEnd}\r\n                    enable={true}\r\n                    onPickColorHandler={onSelectColorEndHandler}\r\n                    size={25}\r\n                    tipTitle='Select color'\r\n                    header='Select end color'\r\n                    anchorOriginVertical='top'\r\n                    anchorOriginHorizontal='right'\r\n                    transformOriginVertical='top'\r\n                    transformOriginHorizontal='right'\r\n                />\r\n            </div>\r\n            <GradientDiv colorStart={colorStart}\r\n                         colorEnd={colorEnd}\r\n            />\r\n        </div>\r\n    )\r\n};\r\nexport default GradientColor;\r\n\r\n//==================== TYPE ===================\r\ntype PropsType = {\r\n    colorStart: string\r\n    colorEnd: string\r\n}\r\n\r\n//==================== STYLES ===============\r\nconst useStyles = makeStyles({\r\n    gradientColor: {\r\n        padding: '0 10px',\r\n        marginBottom: 10\r\n    },\r\n    buttons: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n    },\r\n    icon: {\r\n        color: 'white'\r\n    },\r\n});","import makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport React, {ReactElement} from \"react\";\r\nimport GradientStyle from \"./GradientStyle\";\r\nimport GradientColor from \"./GradientColor\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useGradient = () => {\r\n    const classes = useStyles();\r\n    return {\r\n        classes\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst Gradient: React.FC<{}> = (): ReactElement => {\r\n    const {\r\n        classes\r\n    } = useGradient()\r\n    return (\r\n        <div className={classes.gradient}>\r\n            <GradientStyle/>\r\n            <GradientColor/>\r\n        </div>\r\n    )\r\n};\r\nexport default Gradient;\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    gradient: {\r\n        flexGrow: 1\r\n    }\r\n});\r\n\r\n","import {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    getImageTabIndex,\r\n} from \"../../../../../../Store/selectors/editor-selectors\";\r\nimport React from \"react\";\r\nimport {editorAC} from \"../../../../../../Store/reducers/editor-reducer\";\r\nimport {getLang} from \"../../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../../Utils/lang\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {Tabs, Theme} from \"@material-ui/core\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\n\r\n//====================== CUSTOM HOOK ====================\r\nconst useImageTabs = () => {\r\n    const imageTabIndex = useSelector(getImageTabIndex);\r\n    const dispatch = useDispatch();\r\n    const onChangeHandler = (event: React.ChangeEvent<{}>, newValue: number) => {\r\n        dispatch(editorAC.setImageTabIndex(newValue));\r\n    };\r\n    const lang = useSelector(getLang);\r\n    const labels = [];\r\n    labels[0] = translate(lang, 'My images');\r\n    labels[1] = translate(lang, 'Settings');\r\n    const classes = useStyles();\r\n    return {\r\n        imageTabIndex, onChangeHandler, classes,\r\n        labels\r\n    }\r\n};\r\n\r\n//======================= COMPONENT ====================\r\nconst ImageTabs: React.FC<{}> = () => {\r\n    const {\r\n        imageTabIndex, onChangeHandler, classes,\r\n        labels\r\n    } = useImageTabs();\r\n    return (\r\n        <Tabs\r\n            value={imageTabIndex}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            onChange={onChangeHandler}\r\n            classes={{\r\n                indicator: classes.indicator\r\n            }}\r\n            className={classes.tabs}\r\n        >\r\n            <Tab label={labels[0]}\r\n                 classes={{\r\n                     wrapper: classes.wrapper,\r\n                     selected: classes.selected,\r\n                     root: classes.tabRoot,\r\n                 }}\r\n            />\r\n            <Tab label={labels[1]}\r\n                 classes={{\r\n                     wrapper: classes.wrapper,\r\n                     selected: classes.selected,\r\n                     root: classes.tabRoot,\r\n                 }}\r\n            />\r\n        </Tabs>\r\n    )\r\n};\r\nexport default ImageTabs;\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    tabs: {\r\n        minHeight: 0,\r\n        borderBottom: `1px solid #aaa`,\r\n        '& .MuiTabs-flexContainer': {\r\n            justifyContent: 'space-between'\r\n        }\r\n    },\r\n    indicator: {\r\n        height: 3,\r\n        backgroundColor: 'white'\r\n    },\r\n    wrapper: {\r\n        fontSize: 12,\r\n        color: 'white',\r\n        textTransform: 'none',\r\n        '& > *:first-child': {\r\n            marginBottom: '0!important'\r\n        }\r\n    },\r\n    selected: {\r\n        color: 'white'\r\n    },\r\n    tabRoot: {\r\n        flexGrow: 1,\r\n        marginLeft: 0,\r\n        color: 'white',\r\n        maxWidth: 'auto',\r\n        minWidth: 'auto',\r\n        padding: 5,\r\n        minHeight: 0\r\n    },\r\n}));","import React from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {Card} from \"@material-ui/core\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport {ImageType} from \"../../../../../../../Types/types\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {editorAC} from \"../../../../../../../Store/reducers/editor-reducer\";\r\n\r\n//================== CUSTOM HOOK ================\r\nconst useMyImagesItem = (image: ImageType) => {\r\n    const classes = useStylesForm();\r\n    const imgSrc = image.src as string;\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = () => {\r\n        dispatch(editorAC.setBackgroundStyle('image'));\r\n        dispatch(editorAC.setCurrentImage(image.id));\r\n    };\r\n    return {\r\n        classes, imgSrc, onClickHandler\r\n    }\r\n};\r\n\r\n//================== COMPONENT =================\r\nconst MyImagesItem: React.FC<PropsType> = ({image}) => {\r\n    const {\r\n        classes, imgSrc, onClickHandler\r\n    } = useMyImagesItem(image);\r\n\r\n    return (\r\n        <Card elevation={6}>\r\n            <CardActionArea onClick={onClickHandler}>\r\n                <img src={imgSrc} alt=\"\" className={classes.img}/>\r\n            </CardActionArea>\r\n        </Card>\r\n    )\r\n};\r\nexport default MyImagesItem\r\n//=============== TYPE ===============\r\ntype PropsType = {\r\n   image: ImageType\r\n}\r\n\r\n//================= STYLES ================\r\nconst useStylesForm = makeStyles({\r\n    img: {\r\n        width: 110,\r\n        display: 'block'\r\n    }\r\n})","import Button from \"@material-ui/core/Button\";\r\nimport BackupIcon from \"@material-ui/core/SvgIcon/SvgIcon\";\r\nimport React, {ChangeEvent, useRef} from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {loadImage} from \"../../../../../../../Store/reducers/editor-reducer\";\r\nimport {getImages} from \"../../../../../../../Store/selectors/editor-selectors\";\r\nimport MyImagesItem from \"./MyImagesItem\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useImageMyImages = () => {\r\n    const classes = useStyles();\r\n    const ref = useRef<HTMLInputElement>(null);\r\n    const dispatch = useDispatch();\r\n    const images = useSelector(getImages);\r\n\r\n    const imgCardElements = images.map(\r\n        el => <MyImagesItem image={el}/>\r\n    );\r\n\r\n    const onChangeHandle = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files) {\r\n            const file = e.target.files[0];\r\n            dispatch(loadImage(file))\r\n        }\r\n    };\r\n    const onClickHandler = () => {\r\n        if (ref && ref.current) {\r\n            ref.current.click()\r\n        }\r\n\r\n    };\r\n    return {\r\n        classes, onChangeHandle, onClickHandler,\r\n        ref, imgCardElements\r\n    }\r\n};\r\n\r\n//================= COMPONENT ========================\r\nconst MyImages: React.FC<{}> = () => {\r\n    const {\r\n        classes, onChangeHandle, onClickHandler,\r\n        ref, imgCardElements\r\n    } = useImageMyImages();\r\n\r\n    return (\r\n        <div className={classes.imageMyImages}>\r\n            <div>\r\n                <input\r\n                    ref={ref}\r\n                    accept=\"image/*\"\r\n                    onChange={onChangeHandle}\r\n                    className={classes.input}\r\n                    id=\"12345\"\r\n                    multiple\r\n                    type=\"file\"\r\n                />\r\n                <label htmlFor=\"12345\"\r\n                       className={classes.label}\r\n                >\r\n                    <Button\r\n                        variant='contained'\r\n                        fullWidth\r\n                        //component\r\n                        startIcon={<BackupIcon/>}\r\n                        className={classes.button}\r\n                        onClick={onClickHandler}\r\n                    >\r\n                        Upload image\r\n                    </Button>\r\n                </label>\r\n            </div>\r\n            <div className={classes.imagesWrapper}>\r\n                <div className={classes.subWrapper}>\r\n                    {imgCardElements}\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n};\r\nexport default MyImages\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n        imageMyImages: {\r\n            boxSizing: 'border-box',\r\n            padding: '10px 0',\r\n            height: 'calc(100vh - 64px - 117px - 32px)'\r\n        },\r\n        input: {\r\n            display: 'none'\r\n        },\r\n        label: {\r\n            display: 'block'\r\n        },\r\n        button: {\r\n            //color: 'white',\r\n            textTransform: 'none',\r\n            backgroundColor:\r\n                'white',\r\n            marginBottom: 20\r\n        },\r\n        img: {\r\n            width: 110,\r\n            borderRadius: 5,\r\n            '&:not(:last-child)': {\r\n                marginBottom: 20\r\n            }\r\n        },\r\n        imagesWrapper: {\r\n            width: 230,\r\n            height: 'calc(100vh - 64px - 117px - 32px - 56px)',\r\n            overflow: 'auto',\r\n        },\r\n        subWrapper: {\r\n            maxHeight: '100%',\r\n            display: 'grid',\r\n            gridTemplateColumns: '1fr 1fr',\r\n            gridGap: 10,\r\n            gridRowGap: 10,\r\n            alignItems: 'start',\r\n        }\r\n    })\r\n;","import React from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getAlign} from \"../../../../../../../Store/selectors/editor-selectors\";\r\nimport {AlignType} from \"../../../../../../../Types/types\";\r\nimport clsx from \"clsx\";\r\nimport {editorAC} from \"../../../../../../../Store/reducers/editor-reducer\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useAlignButton = (ownAlign: AlignType) => {\r\n    const classes = useStyles();\r\n    const align = useSelector(getAlign);\r\n    const dispatch = useDispatch();\r\n    const onClickHandle = () => {\r\n        dispatch(editorAC.setAlign(ownAlign))\r\n    };\r\n    return {\r\n        classes, align, onClickHandle\r\n    }\r\n};\r\n\r\n//================= COMPONENT ========================\r\nconst SettingsAlignButton: React.FC<PropsType> = ({ownAlign}) => {\r\n    const {\r\n        classes, align, onClickHandle\r\n    } = useAlignButton(ownAlign);\r\n\r\n    return (\r\n        <div className={clsx(classes.alignButton, align === ownAlign && classes.selected)}\r\n             onClick={onClickHandle}\r\n        />\r\n    )\r\n};\r\nexport default SettingsAlignButton\r\n\r\n//====================== TYPE =====================\r\ntype PropsType = {\r\n    ownAlign: AlignType\r\n}\r\n\r\n//===================== STYLES ====================\r\nconst useStyles = makeStyles({\r\n    alignButton: {\r\n        width: 12,\r\n        height: 12,\r\n        boxSizing: 'border-box',\r\n        border: '2px solid #ccc',\r\n        cursor: 'pointer'\r\n    },\r\n    selected: {\r\n        backgroundColor: 'white',\r\n        border: '2px solid #FFF'\r\n    }\r\n});","import React from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport SettingsAlignButton from \"./SettingsAlignButton\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getLang} from \"../../../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../../../Utils/lang\";\r\nimport {Typography} from \"@material-ui/core\";\r\nimport {AlignType} from \"../../../../../../../Types/types\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useAlign = () => {\r\n    const classes = useStyles();\r\n    const lang = useSelector(getLang);\r\n    const alignLabel = translate(lang, 'Align');\r\n    const aligns = [\r\n        'left-top',\r\n        'center-top',\r\n        'right-top',\r\n        'left-center',\r\n        'center',\r\n        'right-center',\r\n        'left-bottom',\r\n        'center-bottom',\r\n        'right-bottom'\r\n    ] as Array<AlignType>;\r\n    const alignButtonsElements = aligns.map(\r\n        el => <SettingsAlignButton key={el} ownAlign={el}/>\r\n    );\r\n\r\n    return {\r\n        classes, alignLabel, alignButtonsElements\r\n    }\r\n};\r\n\r\n//================= COMPONENT ========================\r\nconst SettingsAlign: React.FC<{}> = () => {\r\n    const {\r\n        classes, alignLabel, alignButtonsElements\r\n    } = useAlign();\r\n\r\n    return (\r\n        <div className={classes.align}>\r\n            <Typography className={classes.typography}\r\n                        variant='body2'\r\n            >\r\n                {alignLabel}\r\n            </Typography>\r\n            <div className={classes.alignButtonWrapper}>\r\n                {alignButtonsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\nexport default SettingsAlign\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    align: {\r\n        display: 'flex',\r\n        alignItems: 'center'\r\n    },\r\n    typography: {\r\n        color: '#fff',\r\n        marginRight: 20\r\n    },\r\n    alignButtonWrapper: {\r\n        display: 'grid',\r\n        gridTemplateColumns: '1fr 1fr 1fr',\r\n        gridGap: 12,\r\n        width: 60\r\n    }\r\n\r\n});","import React from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {Select, Typography} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getScaleMode} from \"../../../../../../../Store/selectors/editor-selectors\";\r\nimport {getLang} from \"../../../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../../../Utils/lang\";\r\nimport {ScaleModeType} from \"../../../../../../../Types/types\";\r\nimport {editorAC} from \"../../../../../../../Store/reducers/editor-reducer\";\r\nimport brown from \"@material-ui/core/colors/brown\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useScaleMode = () => {\r\n    const classes = useStyles();\r\n    const scaleMode = useSelector(getScaleMode);\r\n    const lang = useSelector(getLang);\r\n    const labels = ['Maintain aspect', 'Exact fit', 'Scale crop', 'No scale'];\r\n    const optionElements = labels.map(\r\n        el => <option key={el} value={el}>{translate(lang, el)}</option>\r\n    );\r\n    const scaleModeLabel = translate(lang, 'Scale mode');\r\n    const dispatch = useDispatch()\r\n    const onChangeHandler = (event: React.ChangeEvent<{name?: string; value: unknown }>) => {\r\n        const value = event.target.value as ScaleModeType\r\n        dispatch(editorAC.setScaleMode(value))\r\n    };\r\n    return {\r\n        classes, scaleMode, onChangeHandler, optionElements,\r\n        scaleModeLabel\r\n    }\r\n};\r\n\r\n//================= COMPONENT ========================\r\nconst SettingsScaleMode: React.FC<{}> = () => {\r\n    const {\r\n        classes, scaleMode, onChangeHandler, optionElements,\r\n        scaleModeLabel\r\n    } = useScaleMode();\r\n\r\n    return (\r\n        <div className={classes.scaleMode}>\r\n            <Typography className={classes.typography}\r\n                        variant='body2'\r\n            >\r\n                {scaleModeLabel}\r\n            </Typography>\r\n            <Select\r\n                native\r\n                value={scaleMode}\r\n                onChange={onChangeHandler}\r\n                className={classes.select}\r\n                inputProps={{\r\n                    name: 'scale-mode',\r\n                    id: 'scale-mode-native-simple',\r\n                }}\r\n            >\r\n                {optionElements}\r\n            </Select>\r\n        </div>\r\n    )\r\n};\r\nexport default SettingsScaleMode\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    scaleMode: {\r\n        margin: '10px 0 20px'\r\n    },\r\n    select: {\r\n        backgroundColor: brown[100]\r\n    },\r\n    typography: {\r\n        color: '#fff',\r\n        marginBottom: 5\r\n    },\r\n});","import React from \"react\";\r\nimport SettingsAlign from \"./SettingsAlign\";\r\nimport SettingsScaleMode from \"./SettingsScaleMode\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getScaleMode} from \"../../../../../../../Store/selectors/editor-selectors\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useImageSettings = () => {\r\n    const scaleMode = useSelector(getScaleMode);\r\n    return {\r\n        scaleMode\r\n    }\r\n};\r\n\r\n//================= COMPONENT ========================\r\nconst Settings: React.FC<{}> = () => {\r\n    const {\r\n        scaleMode\r\n    } = useImageSettings();\r\n\r\n    return (\r\n        <div>\r\n            <SettingsScaleMode/>\r\n            {\r\n                scaleMode !== 'Exact fit' &&\r\n                <SettingsAlign/>\r\n            }\r\n        </div>\r\n    )\r\n};\r\nexport default Settings;","import makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport React from \"react\";\r\nimport ImageTabs from \"./ImageTabs\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getImageTabIndex} from \"../../../../../../Store/selectors/editor-selectors\";\r\nimport {ImageTabIndexEnum} from \"../../../../../../Types/types\";\r\nimport MyImages from \"./MyImages/MyImages\";\r\nimport Settings from \"./Settings/Settings\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useImage = () => {\r\n    const classes = useStyles();\r\n    const imageTabIndex = useSelector(getImageTabIndex);\r\n    return {\r\n        classes, imageTabIndex,\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst Image: React.FC<{}> = () => {\r\n    const {\r\n        classes, imageTabIndex,\r\n    } = useImage();\r\n\r\n    return (\r\n        <div className={classes.image}>\r\n            <ImageTabs/>\r\n            {\r\n                imageTabIndex === ImageTabIndexEnum.myImage &&\r\n                    <MyImages/>\r\n            }\r\n            {\r\n                imageTabIndex === ImageTabIndexEnum.imageSetting &&\r\n                <Settings/>\r\n            }\r\n        </div>\r\n    )\r\n};\r\nexport default Image;\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    image: {\r\n        flexGrow: 1,\r\n        padding: '0 10px',\r\n        marginBottom: 10,\r\n        height: 'calc(100vh - 64px - 117px)'\r\n    },\r\n    buttonWrapper: {\r\n        marginTop: 20\r\n    },\r\n    input: {\r\n        display: 'none'\r\n    },\r\n    label: {\r\n        display: 'block'\r\n    },\r\n    button: {\r\n        textTransform: 'none',\r\n        backgroundColor: 'white'\r\n    }\r\n});\r\n\r\n","import React from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getLang} from \"../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../Utils/lang\";\r\nimport {CheckboxProps, FormControlLabel} from \"@material-ui/core\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport SelectColorButtonCustom from \"../../../../common/SelectColorButtonCustom\";\r\nimport {getBorderColor, getUseBorder} from \"../../../../../Store/selectors/editor-selectors\";\r\nimport {editorAC} from \"../../../../../Store/reducers/editor-reducer\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nconst WhiteCheckbox = withStyles({\r\n    root: {\r\n        color: 'white',\r\n        '&$checked': {\r\n            color: 'white',\r\n        },\r\n    }\r\n})((props: CheckboxProps) => <Checkbox color=\"default\" {...props} />);\r\n\r\n//===================== CUSTOM HOOK ===================\r\nconst useBackgroundBorder = () => {\r\n    const classes = useStyles();\r\n    const lang = useSelector(getLang);\r\n    const useBorder = useSelector(getUseBorder);\r\n    const borderColor = useSelector(getBorderColor);\r\n    const borderLabel = translate(lang, 'Border');\r\n    const useBorderLabel = translate(lang, 'Use border');\r\n    const dispatch = useDispatch();\r\n    const onChangeHandler = () => {\r\n        if (useBorder) {\r\n            dispatch(editorAC.setCanvasUrl('border', null))\r\n            dispatch(editorAC.setBorderColor('#000'));\r\n        }\r\n        dispatch(editorAC.setUseBorder(!useBorder))\r\n    };\r\n    const onSelectHandler = (color: string) => {\r\n        dispatch(editorAC.setBorderColor(color))\r\n    };\r\n    return {\r\n        classes, borderLabel, useBorderLabel,\r\n        useBorder, onChangeHandler, onSelectHandler,\r\n        borderColor\r\n    }\r\n};\r\n\r\n//==================== COMPONENT ======================\r\nconst BackgroundBorder: React.FC<{}> = () => {\r\n    const {\r\n        classes, borderLabel, useBorderLabel,\r\n        useBorder, onChangeHandler, onSelectHandler,\r\n        borderColor\r\n    } = useBackgroundBorder();\r\n\r\n    return (\r\n        <div className={classes.border}>\r\n            <Typography variant='h6'\r\n                        className={classes.typography}\r\n            >\r\n                {borderLabel}\r\n            </Typography>\r\n            <div className={classes.selectColorBlock}>\r\n                <FormControlLabel\r\n                    control={\r\n                        <WhiteCheckbox\r\n                            checked={useBorder}\r\n                            onChange={onChangeHandler}\r\n                        />\r\n                    }\r\n                    label={useBorderLabel}\r\n                    className={classes.formControlLabel}\r\n                />\r\n                <SelectColorButtonCustom\r\n                    color={borderColor}\r\n                    enable={useBorder}\r\n                    onPickColorHandler={onSelectHandler}\r\n                    size={25}\r\n                    tipTitle='Select color'\r\n                    header='Select border color'\r\n                    anchorOriginVertical='bottom'\r\n                    anchorOriginHorizontal='right'\r\n                    transformOriginVertical='bottom'\r\n                    transformOriginHorizontal='right'\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\nexport default BackgroundBorder;\r\n\r\n//============ STYLES =================\r\nconst useStyles = makeStyles({\r\n    border: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        margin: '0 10px',\r\n        borderTop: '1px solid #ccc'\r\n    },\r\n    typography: {\r\n        color: 'white'\r\n    },\r\n    selectColorBlock: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n    formControlLabel: {\r\n        color: 'white'\r\n    },\r\n    checkbox: {\r\n        color: 'white',\r\n        '&$checked': {\r\n            color: 'white'\r\n        }\r\n    },\r\n});","import React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport SecondarySidebarTitle from \"../SecondarySidebarTitle\";\r\nimport BackgroundTabs from \"./BackgroundTabs\";\r\nimport Color from \"./Color/Color\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getSecondarySidebarBackgroundTabIndex} from \"../../../../../Store/selectors/editor-selectors\";\r\nimport {BackgroundTabIndexEnum} from \"../../../../../Types/types\";\r\nimport Gradient from \"./Gradient/Gradient\";\r\nimport Image from \"./Image/Image\";\r\nimport BackgroundBorder from \"./BackgroundBorder\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useBackground = () => {\r\n    const classes = useStyles();\r\n    const secondarySidebarBackgroundTabIndex = useSelector(getSecondarySidebarBackgroundTabIndex)\r\n    return {\r\n        classes, secondarySidebarBackgroundTabIndex\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst Background: React.FC<{}> = () => {\r\n    const {\r\n        classes, secondarySidebarBackgroundTabIndex\r\n    } = useBackground();\r\n\r\n    return (\r\n        <div className={classes.Background}>\r\n            <SecondarySidebarTitle title='Background'/>\r\n            <BackgroundTabs/>\r\n            {\r\n                secondarySidebarBackgroundTabIndex === BackgroundTabIndexEnum.color &&\r\n                <Color/>\r\n            }\r\n            {\r\n                secondarySidebarBackgroundTabIndex === BackgroundTabIndexEnum.gradient &&\r\n                <Gradient/>\r\n            }\r\n            {\r\n                secondarySidebarBackgroundTabIndex === BackgroundTabIndexEnum.image &&\r\n                <Image/>\r\n            }\r\n            <BackgroundBorder/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Background;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    title: {\r\n        backgroundColor: 'red'\r\n    },\r\n    Background: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        height: 'calc(100vh - 64px)',\r\n    }\r\n});","import React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport SecondarySidebarTitle from \"../SecondarySidebarTitle\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {getLang} from \"../../../../../Store/selectors/app-selectors\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {translate} from \"../../../../../Utils/lang\";\r\nimport {textAC} from \"../../../../../Store/reducers/text-reducer\";\r\nimport brown from \"@material-ui/core/colors/brown\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useSecondSidebarText = () => {\r\n    const classes = useStyles();\r\n    const lang = useSelector(getLang);\r\n    const labels = [];\r\n    labels[0] = translate(lang, 'Add header');\r\n    labels[1] = translate(lang, 'Add subheader');\r\n    labels[2] = translate(lang, 'Add body text');\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = [];\r\n    onClickHandler[0] = () => {\r\n        dispatch(textAC.addText('header'));\r\n    };\r\n    onClickHandler[1] = () => {\r\n        dispatch(textAC.addText('subheader'));\r\n    };\r\n    onClickHandler[2] = () => {\r\n        dispatch(textAC.addText('body'));\r\n    };\r\n    return {classes, labels, onClickHandler}\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst Text: React.FC<{}> = () => {\r\n    const {classes, labels, onClickHandler} = useSecondSidebarText();\r\n    return (\r\n        <div>\r\n            <SecondarySidebarTitle title='Add text' />\r\n            <div className={classes.buttons}>\r\n                <Button variant='outlined'\r\n                        onClick={onClickHandler[0]}\r\n                        fullWidth\r\n                        className={classes.button}\r\n                        classes={{\r\n                            label: classes.label1\r\n                        }}\r\n                >\r\n                    {labels[0]}\r\n                </Button>\r\n                <Button variant='outlined'\r\n                        onClick={onClickHandler[1]}\r\n                        fullWidth\r\n                        className={classes.button}\r\n                        classes={{\r\n                            label: classes.label2\r\n                        }}\r\n                >\r\n                    {labels[1]}\r\n                </Button>\r\n                <Button variant='outlined'\r\n                        onClick={onClickHandler[2]}\r\n                        fullWidth\r\n                        className={classes.button}\r\n                        classes={{\r\n                            label: classes.label3\r\n                        }}\r\n                >\r\n                    {labels[2]}\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\nexport default Text;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    buttons: {\r\n        margin: 10\r\n    },\r\n    button: {\r\n        height: 40,\r\n        textTransform: 'none',\r\n        color: '#eee',\r\n        backgroundColor: brown[400],\r\n        //border: '1px solid #ccc',\r\n        border: 'none',\r\n        '&:not(:last-child)': {\r\n            marginBottom: 10,\r\n        },\r\n        '&:hover': {\r\n            backgroundColor: brown[300],\r\n            color: '#fff'\r\n        }\r\n    },\r\n    label1: {\r\n        fontSize: '32px',\r\n        lineHeight: '32px'\r\n    },\r\n    label2: {\r\n        fontSize: '24px',\r\n        lineHeight: '24px'\r\n    },\r\n    label3: {\r\n        fontSize: '16px',\r\n        lineHeight: '16px'\r\n    },\r\n});","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getMainSidebarItem} from \"../../../../Store/selectors/editor-selectors\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport Background from \"./SecondarySidebarBackground/Background\";\r\nimport {MainSidebarItemEnum} from \"../../../../Types/types\";\r\nimport Text from \"./SecondarySidebarText/Text\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useSecondarySidebar = () => {\r\n    const classes = useStyles();\r\n    const mainSidebarItem = useSelector(getMainSidebarItem);\r\n    return {\r\n        classes, mainSidebarItem\r\n    }\r\n}\r\n\r\n//============== COMPONENT =================\r\nconst SecondarySidebar: React.FC<{}> = () => {\r\n    const {\r\n        classes, mainSidebarItem\r\n    } = useSecondarySidebar();\r\n    return (\r\n        <div className={classes.secondarySidebar}>\r\n            {\r\n                mainSidebarItem === MainSidebarItemEnum.background\r\n                && <Background/>\r\n            }\r\n            {\r\n                mainSidebarItem === MainSidebarItemEnum.text\r\n                && <Text/>\r\n            }\r\n        </div>\r\n    )\r\n};\r\nexport default SecondarySidebar;\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    secondarySidebar: {\r\n        height: 'calc(100vh - 64px)',\r\n    }\r\n})","import {StateType} from \"../store\";\r\n\r\nexport const getZoom = (state: StateType) => state.workspace.zoom;\r\nexport const getDownloadCase = (state: StateType) => state.workspace.downloadCase;\r\nexport const getRefLeftPanel = (state: StateType) => state.workspace.refLeftPanel;\r\nexport const getIsDownloadDialogOpen = (state: StateType) => state.workspace.isDownloadDialogOpen;\r\nexport const getFileName = (state: StateType) => state.workspace.fileName;\r\nexport const getFileNameFormIsValid = (state: StateType) => state.workspace.fileNameFormIsValid;\r\nexport const getJpegQuality = (state: StateType) => state.workspace.jpegQuality;\r\nexport const getLink = (state: StateType) => state.workspace.link;\r\nexport const getLinkFormIsValid = (state: StateType) => state.workspace.linkFormIsValid;\r\n\r\n\r\n","import React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getZoom} from \"../../../../Store/selectors/workspace-selectors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Popover from \"@material-ui/core/Popover/Popover\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport {workspaceAC} from \"../../../../Store/reducers/workspace-reducer\";\r\nimport {ZoomType} from \"../../../../Types/types\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useToolbarZoom = () => {\r\n    const classes = useStyles();\r\n    const zoom = useSelector(getZoom);\r\n    const zoomlabel = `${zoom}%`;\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = (event: React.MouseEvent<HTMLElement>) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const [anchorEl, setAnchorEl] = React.useState<HTMLElement | null>(null);\r\n    const open = Boolean(anchorEl);\r\n    const zoomArray = [10, 25, 50, 75, 100, 150, 200, 300, 400];\r\n    const listItemElements = zoomArray.map(\r\n        el => {\r\n            const onClickListItemHandler = () => {\r\n                dispatch(workspaceAC.setZoom(el as ZoomType));\r\n                handleClose();\r\n            };\r\n            return (\r\n                <ListItem key={el}\r\n                          button\r\n                          onClick={onClickListItemHandler}\r\n                >\r\n                    {el}\r\n                </ListItem>\r\n            )\r\n        }\r\n    )\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    return {\r\n        classes, zoomlabel, anchorEl, open,\r\n        onClickHandler, handleClose, listItemElements\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst ToolbarZoom: React.FC<{}> = () => {\r\n    const {\r\n        classes, zoomlabel, anchorEl, open,\r\n        onClickHandler, handleClose, listItemElements\r\n    } = useToolbarZoom();\r\n    return (\r\n        <>\r\n            <Button className={classes.button}\r\n                    onClick={onClickHandler}\r\n                    variant='outlined'\r\n            >\r\n                {zoomlabel}\r\n            </Button>\r\n            <Popover\r\n                open={open}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'center',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'center',\r\n                }}\r\n            >\r\n                <List>\r\n                    {listItemElements}\r\n                </List>\r\n            </Popover>\r\n        </>\r\n    )\r\n};\r\nexport default ToolbarZoom;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        minWidth: 36,\r\n        width: 50\r\n    }\r\n});","import React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getZoom} from \"../../../../Store/selectors/workspace-selectors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {workspaceAC} from \"../../../../Store/reducers/workspace-reducer\";\r\nimport {ZoomType} from \"../../../../Types/types\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useToolbarZoomPlus = () => {\r\n    const classes = useStyles();\r\n    const zoom = useSelector(getZoom);\r\n    const zoomArray = [10 , 25 , 50 , 75 , 100 , 150 , 200 , 300 , 400];\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = () => {\r\n        let index = zoomArray.findIndex(el => el === zoom);\r\n        if (index === zoomArray.length - 1) {\r\n            index = 0;\r\n        } else {\r\n            index += 1;\r\n        }\r\n        dispatch(workspaceAC.setZoom(zoomArray[index] as ZoomType))\r\n    };\r\n    const disabled = zoom === zoomArray[zoomArray.length - 1];\r\n    return {\r\n        classes, onClickHandler, disabled\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst ToolbarZoomPlus:React.FC<{}> = () => {\r\n    const {\r\n        classes, onClickHandler, disabled\r\n    } = useToolbarZoomPlus();\r\n    return (\r\n        <>\r\n            <Button className={classes.button}\r\n                    disabled={disabled}\r\n                    onClick={onClickHandler}\r\n            >\r\n                <Typography variant='h6'>\r\n                    +\r\n                </Typography>\r\n\r\n            </Button>\r\n\r\n        </>\r\n    )\r\n};\r\nexport default ToolbarZoomPlus;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        minWidth: 44\r\n    }\r\n});","import React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getZoom} from \"../../../../Store/selectors/workspace-selectors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {workspaceAC} from \"../../../../Store/reducers/workspace-reducer\";\r\nimport {ZoomType} from \"../../../../Types/types\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useToolbarZoomMinus = () => {\r\n    const classes = useStyles();\r\n    const zoom = useSelector(getZoom);\r\n    const zoomArray = [10, 25, 50, 75, 100, 150, 200, 300, 400];\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = () => {\r\n        let index = zoomArray.findIndex(el => el === zoom);\r\n        if (index === 0) {\r\n            index = zoomArray.length - 1;\r\n        } else {\r\n            index -= 1;\r\n        }\r\n        dispatch(workspaceAC.setZoom(zoomArray[index] as ZoomType))\r\n    };\r\n    const disabled = zoom === zoomArray[0];\r\n    return {\r\n        classes, onClickHandler, disabled\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst ToolbarZoomMinus: React.FC<{}> = () => {\r\n    const {\r\n        classes, onClickHandler, disabled\r\n    } = useToolbarZoomMinus();\r\n    return (\r\n        <>\r\n            <Button className={classes.button}\r\n                    disabled={disabled}\r\n                    onClick={onClickHandler}\r\n            >\r\n                <Typography variant='h6'>\r\n                    -\r\n                </Typography>\r\n\r\n            </Button>\r\n\r\n        </>\r\n    )\r\n};\r\nexport default ToolbarZoomMinus;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        minWidth: 44\r\n    }\r\n});","import React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Popover from \"@material-ui/core/Popover/Popover\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport {workspaceAC} from \"../../../../Store/reducers/workspace-reducer\";\r\nimport {DownloadCaseType} from \"../../../../Types/types\";\r\nimport {getIsCreated, getLang} from \"../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../Utils/lang\";\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport indigo from \"@material-ui/core/colors/indigo\";\r\nimport LanguageIcon from '@material-ui/icons/Language';\r\nimport CropOriginalIcon from '@material-ui/icons/CropOriginal';\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useToolbarDownload = () => {\r\n    const classes = useStyles();\r\n    const lang = useSelector(getLang);\r\n    const isCreated = useSelector(getIsCreated)\r\n    const downloadLabel = translate(lang, 'Download')\r\n\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = (event: React.MouseEvent<HTMLElement>) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const [anchorEl, setAnchorEl] = React.useState<HTMLElement | null>(null);\r\n    const open = Boolean(anchorEl);\r\n    const downloadCaseArray = ['PNG', 'JPEG', 'HTML'];\r\n    const icons = [\r\n        <CropOriginalIcon/>,\r\n        <ImageIcon/>,\r\n        <LanguageIcon/>\r\n    ];\r\n    const listItemElements = downloadCaseArray.map(\r\n        (el, i) => {\r\n            const onClickListItemHandler = () => {\r\n                dispatch(workspaceAC.setDownloadCase(el as DownloadCaseType));\r\n                dispatch(workspaceAC.setIsDownloadDialogOpen(true));\r\n                handleClose();\r\n            };\r\n            return (\r\n                <ListItem key={el}\r\n                          button\r\n                          onClick={onClickListItemHandler}\r\n                          className={classes.listItem}\r\n                >\r\n                    <ListItemIcon className={classes.listItemIcon}>\r\n                        {icons[i]}\r\n                    </ListItemIcon>\r\n                    <ListItemText primary={el}\r\n                                  classes={{\r\n                                      primary: classes.listItemText\r\n                                  }}\r\n                    />\r\n                </ListItem>\r\n            )\r\n        }\r\n    );\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    return {\r\n        classes, downloadLabel, anchorEl,\r\n        open, onClickHandler, handleClose,\r\n        listItemElements, isCreated\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst ToolbarDownload: React.FC<{}> = () => {\r\n    const {\r\n        classes, downloadLabel, anchorEl,\r\n        open, onClickHandler, handleClose,\r\n        listItemElements, isCreated\r\n\r\n    } = useToolbarDownload();\r\n    return (\r\n        <>\r\n            <Button className={classes.button}\r\n                    color='primary'\r\n                    disabled={!isCreated}\r\n                    startIcon={<GetAppIcon/>}\r\n                    onClick={onClickHandler}\r\n                    variant='contained'\r\n            >\r\n                {downloadLabel}\r\n            </Button>\r\n            <Popover\r\n                open={open}\r\n                className={classes.popover}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'right',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                }}\r\n            >\r\n                <List>\r\n                    {listItemElements}\r\n                </List>\r\n            </Popover>\r\n        </>\r\n    )\r\n};\r\nexport default ToolbarDownload;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        textTransform: 'none'\r\n    },\r\n    popover: {\r\n        paddingLeft: 5,\r\n        paddingRight: 5\r\n    },\r\n    listItem: {\r\n        paddingTop: 0,\r\n        paddingBottom: 0,\r\n        '&:hover': {\r\n            backgroundColor: '#ccc'\r\n        }\r\n    },\r\n    listItemText: {\r\n        fontWeight: 700\r\n    },\r\n    listItemIcon: {\r\n        color: indigo[600],\r\n        minWidth: 30\r\n    }\r\n});","export const required: FieldValidatorType = (value) =>\r\n    value ? undefined : 'Field is required';\r\n\r\nexport const empty: EmptyType = (str: string): boolean => /^\\s+$/.test(str);\r\n\r\nexport const shouldNotBeEmpty: FieldValidatorType = (value) =>\r\n    empty(value) && value !== ''\r\n        ? 'Field should not be empty'\r\n        : undefined;\r\n\r\n//=========================== TYPES =====================================\r\ntype EmptyType = (str: string) => boolean\r\nexport type FieldValidatorType = (value: string) => string | undefined","import React, {useEffect} from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm, submit} from \"redux-form\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {workspaceAC} from \"../../../../../Store/reducers/workspace-reducer\";\r\nimport RenderTextField from \"../../../../common/RenderTextField\";\r\nimport {getFileName} from \"../../../../../Store/selectors/workspace-selectors\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {required, shouldNotBeEmpty} from \"../../../../../Utils/validators\";\r\n\r\n//================= CUSTOM FORM HOOK =========================\r\nconst useForm = (valid: boolean) => {\r\n    const dispatch = useDispatch();\r\n    const onChangeHandler = () => {\r\n        setTimeout(() => dispatch(submit('fileName-form')));\r\n    };\r\n    const classes = useStyles();\r\n    useEffect(() => {\r\n        dispatch(workspaceAC.setFileNameFormIsValid(valid));\r\n    }, [valid]);\r\n    return {\r\n        onChangeHandler, classes\r\n    }\r\n};\r\n\r\n//========================== FORM =======================================\r\nconst Form: React.FC<FormPropsType> = ({handleSubmit, valid}) => {\r\n    const {\r\n        onChangeHandler, classes\r\n    } = useForm(valid);\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <Field name='fileName'\r\n                   autoFocus={true}\r\n                   component={RenderTextField}\r\n                   type=\"text\"\r\n                   size='small'\r\n                   className={classes.field}\r\n                   onChange={onChangeHandler}\r\n                   validate={[required, shouldNotBeEmpty]}\r\n            />\r\n        </form>\r\n    )\r\n};\r\n\r\n//================================== REDUX-FORM ======================================\r\nconst ReduxForm = reduxForm<FormParamsType, FormOwnPropsType>({\r\n    form: 'fileName-form',\r\n})(Form);\r\n\r\n//=========== CUSTOM COMPONENT HOOK =================\r\nconst useFileNameForm = () => {\r\n    const dispatch = useDispatch();\r\n    const onSubmitHandler = (value: FormParamsType) => {\r\n        dispatch(workspaceAC.setFileName(value.fileName))\r\n    };\r\n    const fileName = useSelector(getFileName)\r\n    const initialValues = {\r\n        fileName: fileName\r\n    };\r\n    return {\r\n        onSubmitHandler, initialValues\r\n    }\r\n};\r\n\r\n//================ COMPONENT =======================\r\nconst FileNameForm: React.FC<{}> = () => {\r\n    const {\r\n        onSubmitHandler, initialValues\r\n    } = useFileNameForm();\r\n    return (\r\n        <ReduxForm onSubmit={onSubmitHandler}\r\n                   initialValues={initialValues}\r\n        />\r\n    )\r\n};\r\nexport default FileNameForm;\r\n\r\n//=================== TYPE ==============\r\ntype FormPropsType =\r\n    InjectedFormProps<FormParamsType, FormOwnPropsType>\r\n    & FormOwnPropsType;\r\ntype FormParamsType = {\r\n    fileName: string\r\n}\r\ntype FormOwnPropsType = {};\r\n\r\n//================= STYLES ================\r\nconst useStyles = makeStyles({\r\n    field: {\r\n        width: '100%'\r\n    }\r\n});","import React from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getJpegQuality} from \"../../../../../Store/selectors/workspace-selectors\";\r\nimport {workspaceAC} from \"../../../../../Store/reducers/workspace-reducer\";\r\nimport {Typography} from \"@material-ui/core\";\r\nimport {translate} from \"../../../../../Utils/lang\";\r\nimport {getLang} from \"../../../../../Store/selectors/app-selectors\";\r\n\r\n//============ CUSTOM HOOK ===============\r\nconst useJpegQuality = () => {\r\n    const jpegQuality = useSelector(getJpegQuality);\r\n    const lang = useSelector(getLang);\r\n    const label =  translate(lang, 'Quality of jpeg')\r\n\r\n    const dispatch = useDispatch();\r\n    const onChangeHandler = (e: any, value: number | number[]) => {\r\n        dispatch(workspaceAC.setJpegQuality(value as number))\r\n    };\r\n    const classes = useStyles();\r\n    const marks = [\r\n        {\r\n            value: 0.1,\r\n            label: '0.1',\r\n        },\r\n        {\r\n            value: 0.8,\r\n            label: '0.8',\r\n        },\r\n        {\r\n            value: 1,\r\n            label: '1.0',\r\n        },\r\n    ];\r\n    return {\r\n        classes, jpegQuality, onChangeHandler,\r\n        marks, label\r\n    }\r\n};\r\n\r\n//============= COMPONENT =================\r\nconst JpegQuality: React.FC<{}> = () => {\r\n    const {\r\n        classes, jpegQuality, onChangeHandler,\r\n        marks, label\r\n    } = useJpegQuality();\r\n    return (\r\n        <div className={classes.jpegQuality}>\r\n            <Typography>{label}</Typography>\r\n            <Slider className={classes.slider}\r\n                    min={.1}\r\n                    max={1}\r\n                    step={.1}\r\n                    value={jpegQuality}\r\n                    onChange={onChangeHandler}\r\n                    marks={marks}\r\n                    valueLabelDisplay=\"auto\"\r\n            />\r\n        </div>\r\n    )\r\n};\r\nexport default JpegQuality;\r\n\r\n//============== STYLES ===================\r\nconst useStyles = makeStyles({\r\n    slider: {\r\n        margin: '10px 0',\r\n    },\r\n    jpegQuality: {\r\n        marginTop: 10\r\n    }\r\n});","import {TextField} from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nconst RenderTextFieldStartAdornment: React.FC<PropsType> = (props) => {\r\n    const {icon, label, input, meta: {touched, invalid, error}, classes, ...custom} = props;\r\n    const styles = useStyles();\r\n\r\n    return (\r\n        <div className={styles.root}>\r\n            {icon &&\r\n            <div className={styles.iconLeft}>\r\n                {icon}\r\n            </div>}\r\n            <TextField\r\n                InputProps={{\r\n                    startAdornment: <InputAdornment position=\"start\">http://</InputAdornment>,\r\n                }}\r\n                variant=\"outlined\"\r\n                label={label}\r\n                placeholder={label}\r\n                error={touched && invalid}\r\n                helperText={touched && error}\r\n                {...input}\r\n                {...custom}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RenderTextFieldStartAdornment;\r\n\r\n//======================= TYPES ======================================================\r\ntype PropsType = {\r\n    icon: React.ReactElement\r\n    label: string\r\n    input: any\r\n    meta: {\r\n        touched: boolean\r\n        invalid: boolean\r\n        error: string\r\n    }\r\n    classes?: any\r\n}\r\n//========================= STYLES =============================================================\r\nconst useStyles = makeStyles({\r\n        root: {\r\n            position: 'relative',\r\n            width: '100%',\r\n            '& .MuiFormLabel-root': {\r\n                backgroundColor: 'white',\r\n            }\r\n        },\r\n        label: {\r\n            backgroundColor: 'white'\r\n        },\r\n        iconLeft: {\r\n            position: 'absolute',\r\n            left: -5,\r\n            top: '50%',\r\n            transform: 'translate(-100%, -50%)'\r\n        }\r\n    }\r\n);\r\n\r\n\r\n","import React, {useEffect} from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm, submit} from \"redux-form\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {workspaceAC} from \"../../../../../Store/reducers/workspace-reducer\";\r\nimport {getLink} from \"../../../../../Store/selectors/workspace-selectors\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {required, shouldNotBeEmpty} from \"../../../../../Utils/validators\";\r\nimport RenderTextFieldStartAdornment from \"../../../../common/RenderTextFieldStartAdornment\";\r\n\r\n//================= CUSTOM FORM HOOK =========================\r\nconst useForm = (valid: boolean) => {\r\n    const dispatch = useDispatch();\r\n    const onChangeHandler = () => {\r\n        setTimeout(() => dispatch(submit('link-form')));\r\n    };\r\n    const classes = useStyles();\r\n    useEffect(() => {\r\n        dispatch(workspaceAC.setLinkFormIsValid(valid));\r\n    }, [valid]);\r\n    return {\r\n        onChangeHandler, classes\r\n    }\r\n};\r\n\r\n//========================== FORM =======================================\r\nconst Form: React.FC<FormPropsType> = ({handleSubmit, valid}) => {\r\n    const {\r\n        onChangeHandler, classes\r\n    } = useForm(valid);\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <Field name='link'\r\n                   autoFocus={true}\r\n                   component={RenderTextFieldStartAdornment}\r\n                   type=\"text\"\r\n                   size='small'\r\n                   className={classes.field}\r\n                   onChange={onChangeHandler}\r\n                   validate={[required, shouldNotBeEmpty]}\r\n            />\r\n        </form>\r\n    )\r\n};\r\n\r\n//================================== REDUX-FORM ======================================\r\nconst ReduxForm = reduxForm<FormParamsType, FormOwnPropsType>({\r\n    form: 'link-form',\r\n})(Form);\r\n\r\n//=========== CUSTOM COMPONENT HOOK =================\r\nconst useFileNameForm = () => {\r\n    const dispatch = useDispatch();\r\n    const onSubmitHandler = (value: FormParamsType) => {\r\n        dispatch(workspaceAC.setLink(value.link))\r\n    };\r\n    const link = useSelector(getLink)\r\n    const initialValues = {\r\n        link: link\r\n    };\r\n    return {\r\n        onSubmitHandler, initialValues\r\n    }\r\n};\r\n\r\n//================ COMPONENT =======================\r\nconst LinkForm: React.FC<{}> = () => {\r\n    const {\r\n        onSubmitHandler, initialValues\r\n    } = useFileNameForm();\r\n    return (\r\n        <ReduxForm onSubmit={onSubmitHandler}\r\n                   initialValues={initialValues}\r\n        />\r\n    )\r\n};\r\nexport default LinkForm;\r\n\r\n//=================== TYPE ==============\r\ntype FormPropsType =\r\n    InjectedFormProps<FormParamsType, FormOwnPropsType>\r\n    & FormOwnPropsType;\r\ntype FormParamsType = {\r\n    link: string\r\n}\r\ntype FormOwnPropsType = {};\r\n\r\n//================= STYLES ================\r\nconst useStyles = makeStyles({\r\n    field: {\r\n        width: '100%'\r\n    }\r\n});","import {Dialog, makeStyles} from \"@material-ui/core\";\r\nimport React, {useRef} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    getDownloadCase,\r\n    getFileName,\r\n    getFileNameFormIsValid,\r\n    getIsDownloadDialogOpen, getJpegQuality, getLink, getLinkFormIsValid\r\n} from \"../../../../../Store/selectors/workspace-selectors\";\r\nimport {workspaceAC} from \"../../../../../Store/reducers/workspace-reducer\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport {getLang} from \"../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../Utils/lang\";\r\nimport indigo from \"@material-ui/core/colors/indigo\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport FileNameForm from \"./FileNameForm\";\r\nimport {getCanvasUrl, getSize} from \"../../../../../Store/selectors/editor-selectors\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport JpegQuality from \"./JpegQuality\";\r\nimport LinkForm from \"./LinkForm\";\r\n\r\n//============= CUSTOM HOOK ================\r\nconst useDownloadDialog = () => {\r\n    const classes = useStyles();\r\n    const lang = useSelector(getLang);\r\n    const downloadCase = useSelector(getDownloadCase);\r\n    const contentLabel = translate(lang, 'Download created banner as');\r\n    const titleLabel = translate(lang, 'Download');\r\n    const nameLabel = translate(lang, 'Enter a file name:');\r\n    const cancelLabel = translate(lang, 'Cancel');\r\n    const isDownloadDialogOpen = useSelector(getIsDownloadDialogOpen);\r\n    const canvasUrl = useSelector(getCanvasUrl);\r\n    const fileName = useSelector(getFileName);\r\n    const size = useSelector(getSize);\r\n    const fileNameFormIsValid = useSelector(getFileNameFormIsValid);\r\n    const link = useSelector(getLink);\r\n    const linkFormIsValid = useSelector(getLinkFormIsValid);\r\n    const jpegQuality = useSelector(getJpegQuality);\r\n    const dispatch = useDispatch();\r\n    const onCloseHandler = () => {\r\n        dispatch(workspaceAC.setIsDownloadDialogOpen(false));\r\n    };\r\n    let canvasAllUrl = '';\r\n    let download = '';\r\n    const linkLabel = translate(lang, 'Enter a link:');\r\n    const copyLabel = translate(lang, 'Copy');\r\n\r\n    const canvasAll = document.createElement('canvas');\r\n    canvasAll.width = size.width as number;\r\n    canvasAll.height = size.height as number;\r\n    const ctxAll = canvasAll.getContext('2d');\r\n    const imgBackground = new Image();\r\n    imgBackground.src = canvasUrl.background as string;\r\n    ctxAll!.drawImage(imgBackground, 0, 0);\r\n\r\n    if (canvasUrl.border) {\r\n        const imgBorder = new Image();\r\n        imgBorder.src = canvasUrl.border as string;\r\n        ctxAll!.drawImage(imgBorder, 0, 0);\r\n    }\r\n\r\n    const imgText = new Image();\r\n    imgText.src = canvasUrl.text as string;\r\n    ctxAll!.drawImage(imgText, 0, 0);\r\n\r\n    //if (downloadCase === 'PNG') {\r\n    canvasAllUrl = canvasAll.toDataURL();\r\n    download = `${fileName}.png`\r\n    //}\r\n    if (downloadCase === 'JPEG') {\r\n        canvasAllUrl = canvasAll.toDataURL('image/jpeg', jpegQuality);\r\n        download = `${fileName}.jpg`\r\n    }\r\n    const html = `<a href=\"http://${link}\"><img src=${canvasAllUrl} width=\"${size.width}\" height=\"${size.height}\">`\r\n\r\n    const textareaRef = useRef(null);\r\n    const onCopyHandler = () => {\r\n        if (textareaRef !== null) {\r\n            // @ts-ignore\r\n            textareaRef.current.select();\r\n            document.execCommand('copy');\r\n        }\r\n    };\r\n\r\n    return {\r\n        isDownloadDialogOpen, onCloseHandler, titleLabel, classes,\r\n        downloadCase, contentLabel, nameLabel, canvasAllUrl, html,\r\n        fileNameFormIsValid, download, linkLabel, cancelLabel,\r\n        linkFormIsValid, textareaRef, copyLabel, onCopyHandler,\r\n    }\r\n};\r\n\r\n\r\n//============= COMPONENT ==================\r\nconst DownloadDialog: React.FC<{}> = () => {\r\n    const {\r\n        isDownloadDialogOpen, onCloseHandler, titleLabel, classes,\r\n        downloadCase, contentLabel, nameLabel, canvasAllUrl, html,\r\n        fileNameFormIsValid, download, linkLabel, cancelLabel,\r\n        linkFormIsValid, textareaRef, copyLabel, onCopyHandler\r\n    } = useDownloadDialog();\r\n\r\n    return (\r\n        <Dialog\r\n            open={isDownloadDialogOpen}\r\n            onClose={onCloseHandler}\r\n        >\r\n            <DialogTitle className={classes.dialogTitle}>\r\n                {`${contentLabel} ${downloadCase}`}\r\n            </DialogTitle>\r\n            <DialogContent>\r\n\r\n                {\r\n                    (downloadCase === 'PNG' || downloadCase === 'JPEG') &&\r\n                    <>\r\n                        <DialogContentText className={classes.dialogContentText}>\r\n                            {nameLabel}\r\n                        </DialogContentText>\r\n                        <FileNameForm/>\r\n                    </>\r\n                }\r\n\r\n                {\r\n                    downloadCase === 'HTML' &&\r\n                    <>\r\n                        <DialogContentText className={classes.dialogContentText}>\r\n                            {linkLabel}\r\n                        </DialogContentText>\r\n                        <LinkForm/>\r\n                        {\r\n                            linkFormIsValid &&\r\n                            <textarea ref={textareaRef}\r\n                                      className={classes.textarea}\r\n                                      rows={4}\r\n                                      value={html}\r\n\r\n                            />\r\n                        }\r\n                    </>\r\n                }\r\n\r\n                {\r\n                    downloadCase === 'JPEG' &&\r\n                    <JpegQuality/>\r\n                }\r\n            </DialogContent>\r\n\r\n            <DialogActions>\r\n                {\r\n                    fileNameFormIsValid ?\r\n                        <>\r\n                            {\r\n                                (downloadCase === 'PNG' || downloadCase === 'JPEG') &&\r\n                                <Link variant='subtitle2'\r\n                                      underline='none'\r\n                                      href={canvasAllUrl as string}\r\n                                      download={download}\r\n                                      className={classes.link}\r\n                                >\r\n                                    {titleLabel}\r\n                                </Link>\r\n                            }\r\n                        </>\r\n                        : <Typography variant='subtitle2'\r\n                                      color='textSecondary'\r\n                                      className={classes.typography}\r\n                        >\r\n                            {titleLabel}\r\n                        </Typography>\r\n                }\r\n                {\r\n                    downloadCase === 'HTML' && linkFormIsValid &&\r\n                    <Button onClick={onCopyHandler}\r\n                            className={classes.button}\r\n                            color=\"primary\"\r\n                            variant='outlined'\r\n                    >\r\n                        {copyLabel}\r\n                    </Button>\r\n                }\r\n                <Button onClick={onCloseHandler}\r\n                        variant='outlined'\r\n                        className={classes.button}\r\n                        color=\"primary\">\r\n                    {cancelLabel}\r\n                </Button>\r\n            </DialogActions>\r\n\r\n        </Dialog>\r\n    )\r\n};\r\nexport default DownloadDialog;\r\n\r\n//=================== STYLES ===================\r\nconst useStyles = makeStyles({\r\n    dialogTitle: {\r\n        backgroundColor: indigo[600],\r\n        color: '#fff',\r\n        paddingTop: 5,\r\n        paddingBottom: 5\r\n    },\r\n    button: {\r\n        textTransform: 'none'\r\n    },\r\n    dialogContentText: {\r\n        color: '#000'\r\n    },\r\n    textarea: {\r\n        marginTop: 20,\r\n        width: '100%',\r\n        resize: 'none',\r\n        borderRadius: 5,\r\n        border: '1px solid #ccc',\r\n        '&:focus': {\r\n            border: '1px solid red'\r\n        }\r\n    },\r\n    link: {\r\n        border: '1px solid rgba(63, 81, 181, 0.5)',\r\n        borderRadius: 4,\r\n        padding: '6px 15px',\r\n        '&:hover': {\r\n            border: '1px solid rgba(63, 81, 181, 1)',\r\n        }\r\n    },\r\n    typography: {\r\n        border: '1px solid #ccc',\r\n        borderRadius: 4,\r\n        padding: '6px 15px',\r\n    }\r\n})\r\n","import React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport {editorToolbarHeight} from \"../../../../Utils/CONST\";\r\nimport ToolbarZoom from \"./ToolbarZoom\";\r\nimport ToolbarZoomPlus from \"./ToolbarZoomPlus\";\r\nimport ToolbarZoomMinus from \"./ToolbarZoomMinus\";\r\nimport ToolbarDownload from \"./ToolbarDownload\";\r\nimport DownloadDialog from \"./DownloadDialog/DownloadDialog\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useEditorToolbar = () => {\r\n    const classes = useStyles();\r\n    return {classes}\r\n\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst Toolbar: React.FC<{}> = () => {\r\n    const {classes} = useEditorToolbar();\r\n    return (\r\n        <div className={classes.editorToolbar}>\r\n            <div/>\r\n            <div className={classes.centerBlock}>\r\n                <ToolbarZoomMinus />\r\n                <ToolbarZoom />\r\n                <ToolbarZoomPlus />\r\n            </div>\r\n            <div className={classes.rightBlock}>\r\n                <ToolbarDownload/>\r\n            </div>\r\n            <DownloadDialog/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Toolbar;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    editorToolbar: {\r\n        height: editorToolbarHeight,\r\n        boxSizing: 'border-box',\r\n        padding: '0 10px',\r\n        borderBottom: '1px solid #ccc',\r\n        display: 'grid',\r\n        gridTemplateColumns: '1fr 1fr 1fr',\r\n        gridColumnGap: 10,\r\n        alignItems: 'center'\r\n    },\r\n    centerBlock: {\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n    },\r\n    rightBlock: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-end'\r\n    },\r\n    checked: {\r\n\r\n    }\r\n});","import {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    getBorderColor,\r\n    getSize\r\n} from \"../../../../../Store/selectors/editor-selectors\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport React, {ReactElement, useEffect, useRef} from \"react\";\r\nimport {getZoom} from \"../../../../../Store/selectors/workspace-selectors\";\r\nimport {editorAC} from \"../../../../../Store/reducers/editor-reducer\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useBannerCanvasBackground = () => {\r\n    const classes = useStyles();\r\n    const size = useSelector(getSize);\r\n    const zoom = useSelector(getZoom);\r\n    const dispatch = useDispatch();\r\n    const borderColor = useSelector(getBorderColor);\r\n    let canvasRef = useRef<HTMLCanvasElement | null>(null);\r\n    let canvasCtxRef = React.useRef<CanvasRenderingContext2D | null>(null);\r\n\r\n    useEffect(() => {\r\n        if (canvasRef.current && size.width && size.height) {\r\n            canvasCtxRef.current = canvasRef.current.getContext('2d');\r\n            let ctx = canvasCtxRef.current;\r\n            ctx!.clearRect(0, 0, size.width, size.height);\r\n            ctx!.strokeStyle = borderColor;\r\n            ctx!.lineWidth = 4;\r\n            ctx!.strokeRect(0, 0, size.width, size.height);\r\n            dispatch(editorAC.setCanvasUrl('border', canvasRef.current.toDataURL()))\r\n        }\r\n    }, [size, borderColor]);\r\n\r\n    return {\r\n        classes, size, canvasRef, zoom\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst BannerCanvasBorder: React.FC<{}> = (): ReactElement => {\r\n    const {\r\n        classes, size, canvasRef, zoom\r\n    } = useBannerCanvasBackground();\r\n\r\n    return (\r\n        <>\r\n            {\r\n                size.width && size.height &&\r\n                <canvas\r\n                    className={classes.bannerCanvasBorder}\r\n                    ref={canvasRef}\r\n                    width={size.width}\r\n                    height={size.height}\r\n                    style={{\r\n                        transform: `scale(${zoom/100})`,\r\n                        transformOrigin: 'left top'\r\n                    }}\r\n                />\r\n            }\r\n        </>\r\n    )\r\n};\r\nexport default BannerCanvasBorder;\r\n\r\n//======================== STYLES ========================\r\nconst useStyles = makeStyles({\r\n    bannerCanvasBorder: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0\r\n    }\r\n});","import {StateType} from \"../store\";\r\n\r\nexport const getTexts = (state: StateType) => state.text.texts;\r\nexport const getSelectedTextId = (state: StateType) => state.text.selectedTextId;\r\nexport const getShowAlarm = (state: StateType) => state.text.showAlarm;\r\n\r\n","import React from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {Field, InjectedFormProps, reduxForm, submit} from \"redux-form\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {textAC} from \"../../../../../Store/reducers/text-reducer\";\r\nimport {TextType} from \"../../../../../Types/types\";\r\nimport blue from \"@material-ui/core/colors/blue\";\r\n\r\n//================= CUSTOM FORM HOOK =========================\r\nconst useForm = (text: TextType) => {\r\n    const dispatch = useDispatch();\r\n    const onChangeHandler = () => {\r\n        setTimeout(() => dispatch(submit('text-form')));\r\n    };\r\n    const onBlurHandler = () => {\r\n        dispatch(textAC.setEditText(text.id, false));\r\n    };\r\n    const props = {\r\n        text: text\r\n    };\r\n    const classes = useStylesForm(props);\r\n    return {\r\n        onChangeHandler, classes, onBlurHandler,\r\n    }\r\n};\r\n\r\n//========================== FORM =======================================\r\nconst Form: React.FC<FormPropsType> = ({handleSubmit, text}) => {\r\n    const {\r\n        onChangeHandler, classes, onBlurHandler,\r\n    } = useForm(text);\r\n    return (\r\n        <form onSubmit={handleSubmit}\r\n              className={classes.form}\r\n        >\r\n            <Field name='text'\r\n                   component='input'\r\n                   type=\"text\"\r\n                   autoFocus={true}\r\n                   className={classes.field}\r\n                   onChange={onChangeHandler}\r\n                   onBlur={onBlurHandler}\r\n            />\r\n        </form>\r\n    )\r\n};\r\n\r\n//================================== REDUX-FORM ======================================\r\nconst ReduxForm = reduxForm<FormParamsType, FormOwnPropsType>({\r\n    form: 'text-form',\r\n})(Form);\r\n\r\n//======================== CUSTOM COMPONENT HOOK =========================\r\nconst useBannerTextForm = (id: number, content: string) => {\r\n    const dispatch = useDispatch();\r\n    const onSubmitHandler = (value: FormParamsType) => {\r\n        dispatch(textAC.setContent(id, value.text));\r\n    };\r\n    const initialValues = {\r\n        text: content\r\n    };\r\n    return {\r\n        onSubmitHandler, initialValues\r\n    }\r\n};\r\n\r\n//========================= COMPONENT =======================\r\nconst BannerTextForm: React.FC<ComponentPropsType> = ({text}) => {\r\n    const {\r\n        onSubmitHandler, initialValues\r\n    } = useBannerTextForm(text.id, text.content);\r\n    return (\r\n        <>\r\n            <ReduxForm onSubmit={onSubmitHandler}\r\n                       text={text}\r\n                       initialValues={initialValues}\r\n            />\r\n        </>\r\n    )\r\n};\r\nexport default BannerTextForm;\r\n\r\n//=================== TYPE ==============\r\ntype FormPropsType =\r\n    InjectedFormProps<FormParamsType, FormOwnPropsType>\r\n    & FormOwnPropsType;\r\ntype FormParamsType = {\r\n    text: string\r\n}\r\ntype FormOwnPropsType = {\r\n    text: TextType\r\n};\r\ntype ComponentPropsType = {\r\n    text: TextType\r\n}\r\n\r\n//================= STYLES ================\r\nconst useStylesForm = makeStyles({\r\n    form: (props: FormOwnPropsType) => ({\r\n        zIndex: 10,\r\n        position: 'absolute',\r\n        top: props.text.position.top,\r\n        left: props.text.position.left,\r\n    }),\r\n    field: (props: FormOwnPropsType) => ({\r\n        position: 'absolute',\r\n        fontSize: props.text.fontSize,\r\n        fontFamily: props.text.fontFamily,\r\n        lineHeight: `${props.text.fontSize}px`,\r\n        color: props.text.color,\r\n        top: 0,\r\n        left: 0,\r\n        backgroundColor: blue[50],\r\n        padding: 0,\r\n    }),\r\n    hide: {\r\n        display: 'none'\r\n    }\r\n});\r\n","export const ItemTypes = {\r\n    TEXT: 'text'\r\n};\r\nexport type ItemType = {\r\n    type: string\r\n    id: number\r\n    x: number\r\n    y: number\r\n}","import {TextType} from \"../../../../../Types/types\";\r\nimport styled from \"styled-components\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {textAC} from \"../../../../../Store/reducers/text-reducer\";\r\nimport clsx from \"clsx\";\r\nimport React, {useEffect, useRef} from \"react\";\r\nimport {getRefLeftPanel, getZoom} from \"../../../../../Store/selectors/workspace-selectors\";\r\nimport BannerTextForm from \"./BannerTextForm\";\r\nimport {useDrag} from \"react-dnd\";\r\nimport {ItemTypes} from \"../../../../../DragAndDrop/Dnd\";\r\n\r\n//==================== STYLED ===================\r\nconst Span = styled.span`\r\n    position: absolute;\r\n    top: ${(props: PropsSpanType) => `${props.top * props.zoom / 100}px`};\r\n    left: ${(props: PropsSpanType) => `${props.left * props.zoom / 100}px`};\r\n    color: ${(props: PropsSpanType) => props.color};\r\n    font-size: ${(props: PropsSpanType) => `${props.fontSize * props.zoom / 100}px`};\r\n    line-height: ${(props: PropsSpanType) => `${props.fontSize * props.zoom / 100}px`};\r\n    font-family: ${(props: PropsSpanType) => props.fontFamily};\r\n    font-style: ${(props: PropsSpanType) => props.fontStyle};\r\n    user-select: none;\r\n`;\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useBannerText = (text: TextType) => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const wrapperRef = useRef(null);\r\n    const zoom = useSelector(getZoom);\r\n\r\n    const onMouseEnterHandler = () => {\r\n        dispatch(textAC.setHover(text.id, true))\r\n    };\r\n    const onMouseLeaveHandler = () => {\r\n        dispatch(textAC.setHover(text.id, false))\r\n    };\r\n\r\n    const onMouseDownHandler = () => {\r\n        dispatch(textAC.setSelected(text.id, true));\r\n\r\n    };\r\n    const onMouseUpHandler = () => {\r\n        dispatch(textAC.setSelected(text.id, false))\r\n    };\r\n\r\n    const onClickHandler = () => {\r\n        dispatch(textAC.setEditParameters(text.id, true));\r\n        dispatch(textAC.setSelectedTextId(text.id))\r\n    };\r\n    const cb = () => {\r\n        dispatch(textAC.setEditParameters(text.id, false));\r\n    };\r\n    const onDoubleClickHandler = () => {\r\n        dispatch(textAC.setEditText(text.id, true));\r\n    };\r\n    const refLeftPanel = useSelector(getRefLeftPanel) as React.MutableRefObject<null>;\r\n    const onOutsideClickHandler = (event: MouseEvent): void => {\r\n        if (\r\n            // @ts-ignore\r\n            !wrapperRef.current.contains(event.target) &&\r\n            // @ts-ignore\r\n            !refLeftPanel.current.contains(event.target)\r\n        ) {\r\n            cb();\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (text.editParameters) {\r\n            document.addEventListener(\"mousedown\", onOutsideClickHandler);\r\n        }\r\n\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\", onOutsideClickHandler);\r\n        };\r\n    }, [onOutsideClickHandler, text.editParameters]);\r\n\r\n    const [{isDragging}, dragRef] = useDrag({\r\n        item: {\r\n            id: text.id,\r\n            x: text.position.left,\r\n            y: text.position.top,\r\n            type: ItemTypes.TEXT\r\n        },\r\n        collect: (monitor) => ({\r\n            isDragging: monitor.isDragging()\r\n        })\r\n    });\r\n\r\n    let content = text.content;\r\n    if (text.lowerCase) {\r\n        content = content.toLowerCase();\r\n    }\r\n    if (text.upperCase) {\r\n        content = content.toUpperCase();\r\n    }\r\n\r\n    return {\r\n        classes, onMouseEnterHandler, onMouseLeaveHandler,\r\n        onMouseDownHandler, onMouseUpHandler, wrapperRef,\r\n        onClickHandler, onDoubleClickHandler,\r\n        isDragging, dragRef, content, zoom\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst BannerCSSText: React.FC<PropsType> = ({text}) => {\r\n    const {\r\n        classes, onMouseEnterHandler, onMouseLeaveHandler,\r\n        onMouseDownHandler, onMouseUpHandler, wrapperRef,\r\n        onClickHandler, onDoubleClickHandler,\r\n        isDragging, dragRef, content, zoom\r\n    } = useBannerText(text);\r\n\r\n    if (isDragging) {\r\n        return <div ref={dragRef}/>\r\n    }\r\n\r\n    return (\r\n        <div ref={wrapperRef}>\r\n            {\r\n                text.editText &&\r\n                <BannerTextForm text={text}/>\r\n            }\r\n            <Span fontSize={text.fontSize}\r\n                  fontFamily={text.fontFamily}\r\n                  fontStyle={text.fontStyle}\r\n                  color={text.color}\r\n                  ref={dragRef}\r\n                  top={text.position.top}\r\n                  left={text.position.left}\r\n                  zoom={zoom}\r\n                  onMouseEnter={onMouseEnterHandler}\r\n                  onMouseLeave={onMouseLeaveHandler}\r\n                  onMouseDown={onMouseDownHandler}\r\n                  onMouseUp={onMouseUpHandler}\r\n                  onClick={onClickHandler}\r\n                  onDoubleClick={onDoubleClickHandler}\r\n                  className={clsx(\r\n                      text.hover && classes.hover,\r\n                      text.editParameters && classes.clicked,\r\n                      text.editText && classes.hide\r\n                  )}\r\n            >\r\n                {content}\r\n            </Span>\r\n        </div>\r\n    )\r\n};\r\nexport default BannerCSSText;\r\n\r\n//============== TYPE ================\r\ntype PropsType = {\r\n    text: TextType\r\n}\r\ntype PropsSpanType = {\r\n    top: number\r\n    left: number\r\n    fontSize: number\r\n    fontFamily: string\r\n    fontStyle: string\r\n    color: string\r\n    zoom: number\r\n}\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    hover: {\r\n        outline: '1px solid #ccc',\r\n        cursor: 'move'\r\n    },\r\n    clicked: {\r\n        outline: '2px solid black',\r\n    },\r\n    protect: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        width: '100%',\r\n        height: '100%',\r\n        backgroundColor: 'rgba(0,0,0,0.5)'\r\n    },\r\n    hide: {\r\n        display: 'none'\r\n    }\r\n});\r\n\r\n","import React, {ReactElement} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getTexts} from \"../../../../../Store/selectors/text-selectors\";\r\nimport BannerCSSText from \"./BannerCSSText\";\r\n\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useBannerTexts = () => {\r\n    const texts = useSelector(getTexts);\r\n    const textElements = texts.map(\r\n        el => <BannerCSSText key={el.id} text={el}/>\r\n    );\r\n    return {\r\n        textElements\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst BannerCSSTexts: React.FC<{}> = (): ReactElement => {\r\n    const {\r\n        textElements\r\n    } = useBannerTexts();\r\n    return (\r\n        <>\r\n            {textElements}\r\n        </>\r\n    )\r\n};\r\nexport default BannerCSSTexts;","import React, {ReactElement, useEffect, useRef} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    getAlign,\r\n    getBackgroundStyle,\r\n    getBackgroundStyleColor, getColorEnd, getColorStart, getCurrentImage,\r\n    getGradientStyle, getScaleMode,\r\n    getSize\r\n} from \"../../../../../Store/selectors/editor-selectors\";\r\nimport {getZoom} from \"../../../../../Store/selectors/workspace-selectors\";\r\nimport {editorAC} from \"../../../../../Store/reducers/editor-reducer\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useBannerCanvasBackground = () => {\r\n    const classes = useStyles();\r\n    const size = useSelector(getSize);\r\n    const backgroundStyle = useSelector(getBackgroundStyle);\r\n    const backgroundStyleColor = useSelector(getBackgroundStyleColor);\r\n    const gradientStyle = useSelector(getGradientStyle);\r\n    const colorStart = useSelector(getColorStart);\r\n    const colorEnd = useSelector(getColorEnd);\r\n    const currentImage = useSelector(getCurrentImage);\r\n    const scaleMode = useSelector(getScaleMode);\r\n    const align = useSelector(getAlign);\r\n    const zoom = useSelector(getZoom);\r\n    let canvasRef = useRef<HTMLCanvasElement | null>(null);\r\n    let canvasCtxRef = React.useRef<CanvasRenderingContext2D | null>(null);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if (canvasRef.current && size.width && size.height) {\r\n            canvasCtxRef.current = canvasRef.current.getContext('2d');\r\n            let ctx = canvasCtxRef.current;\r\n\r\n            //========== COLOR ============\r\n            if (backgroundStyle === 'color') {\r\n                ctx!.fillStyle = backgroundStyleColor.color;\r\n                ctx!.fillRect(0, 0, size.width, size.height);\r\n            }\r\n            //========== GRADIENT ==========\r\n            if (backgroundStyle === 'gradient') {\r\n                let gradient: CanvasGradient;\r\n                if (gradientStyle === 'horizontal') {\r\n                    gradient = ctx!.createLinearGradient(0, 0, size.width, 0);\r\n                } else if (gradientStyle === 'vertical') {\r\n                    gradient = ctx!.createLinearGradient(0, 0, 0, size.height);\r\n                } else {\r\n                    gradient = ctx!.createRadialGradient(\r\n                        size.width / 2, size.height / 2, 0,\r\n                        size.width / 2, size.height / 2, Math.sqrt((size.width * size.width) + (size.height * size.height)) / 2\r\n                    );\r\n                }\r\n                ;\r\n                ctx!.clearRect(0, 0, size.width, size.height);\r\n                gradient.addColorStop(0, colorStart);\r\n                gradient.addColorStop(1, colorEnd);\r\n                ctx!.fillStyle = gradient;\r\n                ctx!.fillRect(0, 0, size.width, size.height);\r\n            }\r\n            //============ IMAGE ===========\r\n            if (backgroundStyle === 'image') {\r\n                if (currentImage) {\r\n                    const cw = size.width as number;\r\n                    const ch = size.height as number;\r\n                    dispatch(editorAC.setIsLoading(true));\r\n                    const image = new Image();\r\n                    image.onload = () => {\r\n                        dispatch(editorAC.setIsLoading(false));\r\n                        const iw = image.width;\r\n                        const ih = image.height;\r\n\r\n                        let cx, cy, ix, iy;\r\n                        ctx!.clearRect(0, 0, cw, ch);\r\n                        ctx!.fillStyle = '#FFF';\r\n                        ctx!.fillRect(0, 0, cw, ch);\r\n                        //================= NO SCALE ================\r\n                        if (scaleMode === 'No scale') {\r\n                            cx = 0;\r\n                            cy = 0;\r\n                            ix = 0;\r\n                            iy = 0;\r\n                            switch (align) {\r\n                                case 'left-top': {\r\n                                    ix = 0;\r\n                                    iy = 0;\r\n                                    break\r\n                                }\r\n                                case 'center-top': {\r\n                                    ix = iw / 2 - cw / 2;\r\n                                    iy = 0;\r\n                                    break\r\n                                }\r\n                                case 'right-top': {\r\n                                    ix = iw - cw;\r\n                                    iy = 0;\r\n                                    break\r\n                                }\r\n                                case 'left-center': {\r\n                                    ix = 0;\r\n                                    iy = ih / 2 - ch / 2;\r\n                                    break\r\n                                }\r\n                                case 'center': {\r\n                                    ix = iw / 2 - cw / 2;\r\n                                    iy = ih / 2 - ch / 2;\r\n                                    break\r\n                                }\r\n                                case 'right-center': {\r\n                                    ix = iw - cw;\r\n                                    iy = ih / 2 - ch / 2;\r\n                                    break\r\n                                }\r\n                                case 'left-bottom': {\r\n                                    ix = 0;\r\n                                    iy = ih - ch;\r\n                                    break\r\n                                }\r\n                                case 'center-bottom': {\r\n                                    ix = iw / 2 - cw / 2;\r\n                                    iy = ih - ch;\r\n                                    break\r\n                                }\r\n                                case 'right-bottom': {\r\n                                    ix = iw - cw;\r\n                                    iy = ih - ch;\r\n                                    break\r\n                                }\r\n                            }\r\n                            ctx!.drawImage(image, ix, iy, cw, ch, cx, cy, cw, ch);\r\n                            //================= EXACT FIT ================\r\n                        } else if (scaleMode === 'Exact fit') {\r\n                            ctx!.drawImage(image, 0, 0, iw, ih, 0, 0, cw, ch);\r\n                            //================= MAINTAIN ASPECT ================\r\n                        } else if (scaleMode === 'Maintain aspect') {\r\n                            if (iw / ih > cw / ch) { // изображение длиннее канваса\r\n                                const ch1 = cw * ih / iw;\r\n                                switch (align) {\r\n                                    case 'left-top':\r\n                                    case 'center-top':\r\n                                    case 'right-top': {\r\n                                        cy = 0;\r\n                                        break\r\n                                    }\r\n                                    case 'left-center':\r\n                                    case 'center':\r\n                                    case 'right-center': {\r\n                                        cy = (ch - ch1) / 2;\r\n                                        break\r\n                                    }\r\n                                    case 'left-bottom':\r\n                                    case 'center-bottom':\r\n                                    case 'right-bottom': {\r\n                                        cy = ch - ch1;\r\n                                        break\r\n                                    }\r\n                                }\r\n                                ctx!.drawImage(image, 0, 0, iw, ih, 0, cy, cw, ch1);\r\n                            } else if (iw / ih < cw / ch) {\r\n                                const cw1 = iw * ch / ih;\r\n                                switch (align) {\r\n                                    case 'left-top':\r\n                                    case 'left-center':\r\n                                    case 'left-bottom': {\r\n                                        cx = 0;\r\n                                        break\r\n                                    }\r\n                                    case 'center-top':\r\n                                    case 'center':\r\n                                    case 'center-bottom': {\r\n                                        cx = (cw - cw1) / 2;\r\n                                        break\r\n                                    }\r\n                                    case 'right-top':\r\n                                    case 'right-center':\r\n                                    case 'right-bottom': {\r\n                                        cx = cw - cw1;\r\n                                        break\r\n                                    }\r\n                                    default:\r\n                                        cx = 0;\r\n                                }\r\n                                ctx!.drawImage(image, 0, 0, iw, ih, cx, 0, cw1, ch);\r\n                            } else { // iw / ih = cw / ch\r\n                                ctx!.drawImage(image, 0, 0, iw, ih, 0, 0, cw, ch);\r\n                            }\r\n                        } else if (scaleMode === 'Scale crop') {\r\n                            if (iw / ih > cw / ch) {\r\n                                const iw1 = ih * cw / ch;\r\n                                switch (align) {\r\n                                    case 'left-top':\r\n                                    case 'left-center':\r\n                                    case 'left-bottom': {\r\n                                        ix = 0;\r\n                                        break\r\n                                    }\r\n                                    case 'center-top':\r\n                                    case 'center':\r\n                                    case 'center-bottom': {\r\n                                        ix = (iw - iw1) / 2;\r\n                                        break\r\n                                    }\r\n                                    case 'right-top':\r\n                                    case 'right-center':\r\n                                    case 'right-bottom': {\r\n                                        ix = iw - iw1;\r\n                                        break\r\n                                    }\r\n                                    default:\r\n                                        ix = 0;\r\n                                }\r\n                                ctx!.drawImage(image, ix, 0, iw1, ih, 0, 0, cw, ch);\r\n                            } else if (iw / ih < cw / ch) {\r\n                                const ih1 = iw * ch / cw;\r\n                                switch (align) {\r\n                                    case 'left-top':\r\n                                    case 'center-top':\r\n                                    case 'right-top': {\r\n                                        iy = 0;\r\n                                        break\r\n                                    }\r\n                                    case 'left-center':\r\n                                    case 'center':\r\n                                    case 'right-center': {\r\n                                        iy = (ih - ih1) / 2;\r\n                                        break\r\n                                    }\r\n                                    case 'left-bottom':\r\n                                    case 'center-bottom':\r\n                                    case 'right-bottom': {\r\n                                        iy = ih - ih1;\r\n                                        break\r\n                                    }\r\n                                }\r\n                                ctx!.drawImage(image, 0, iy, iw, ih1, 0, 0, cw, ch);\r\n                            } else { //iw / ih = cw / ch\r\n                                ctx!.drawImage(image, 0, 0, iw, ih, 0, 0, cw, ch);\r\n                            }\r\n                        }\r\n                    };\r\n                    image.src = currentImage.src;\r\n                }\r\n            }\r\n            dispatch(editorAC.setCanvasUrl('background', canvasRef.current.toDataURL()))\r\n        }\r\n    }, [\r\n        size, backgroundStyle, backgroundStyleColor,\r\n        gradientStyle, colorStart, colorEnd, currentImage,\r\n        scaleMode, align\r\n    ]);\r\n    return {\r\n        classes, size, canvasRef, zoom\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst BannerCanvasBackground: React.FC<{}> = (): ReactElement => {\r\n    const {\r\n        classes, size, canvasRef, zoom\r\n    } = useBannerCanvasBackground();\r\n\r\n    return (\r\n        <>\r\n            {\r\n                size.width && size.height &&\r\n                <canvas\r\n                    className={classes.bannerCanvasBackground}\r\n                    ref={canvasRef}\r\n                    width={size.width}\r\n                    height={size.height}\r\n                    style={{\r\n                        transform: `scale(${zoom / 100})`,\r\n                        transformOrigin: 'left top'\r\n                    }}\r\n                />\r\n            }\r\n        </>\r\n    )\r\n};\r\n\r\nconst BannerCanvasBackgroundMemo = React.memo(BannerCanvasBackground);\r\nexport default BannerCanvasBackgroundMemo;\r\n\r\n//======================== STYLES ========================\r\nconst useStyles = makeStyles({\r\n    bannerCanvasBackground: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0\r\n    }\r\n});","import React, {ReactElement, useEffect, useRef} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getSize} from \"../../../../../Store/selectors/editor-selectors\";\r\nimport {getTexts} from \"../../../../../Store/selectors/text-selectors\";\r\nimport {editorAC} from \"../../../../../Store/reducers/editor-reducer\";\r\nimport {getZoom} from \"../../../../../Store/selectors/workspace-selectors\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useBannerCanvasTexts = () => {\r\n    const classes = useStyles();\r\n    const size = useSelector(getSize);\r\n    const texts = useSelector(getTexts);\r\n    let canvasRef = useRef<HTMLCanvasElement | null>(null);\r\n    let canvasCtxRef = React.useRef<CanvasRenderingContext2D | null>(null);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if (canvasRef.current && size.width && size.height) {\r\n            canvasCtxRef.current = canvasRef.current.getContext('2d');\r\n            let ctx = canvasCtxRef.current;\r\n            ctx!.clearRect(0, 0, size.width, size.height);\r\n\r\n            for (let i = 0; i < texts.length; i++) {\r\n                let content = texts[i].content;\r\n                if (texts[i].lowerCase) {\r\n                    content = content.toLowerCase();\r\n                }\r\n                if (texts[i].upperCase) {\r\n                    content = content.toUpperCase();\r\n                }\r\n\r\n                ctx!.fillStyle = texts[i].color;\r\n                ctx!.font = `${texts[i].fontStyle} ${texts[i].fontSize}px ${texts[i].fontFamily}`;\r\n                ctx!.fillText(content, texts[i].position.left, texts[i].position.top);\r\n                ctx!.textBaseline = 'top';\r\n            }\r\n\r\n            dispatch(editorAC.setCanvasUrl('text', canvasRef.current.toDataURL()))\r\n        }\r\n    }, [texts]);\r\n\r\n    return {\r\n        classes, size, canvasRef\r\n    }\r\n}\r\n\r\n\r\n//============== COMPONENT =================\r\nconst BannerCanvasTexts: React.FC<{}> = (): ReactElement => {\r\n    const {\r\n        classes, size, canvasRef\r\n    } = useBannerCanvasTexts();\r\n    return (\r\n        <>\r\n            {\r\n                size.width && size.height &&\r\n                <canvas\r\n                    className={classes.bannerCanvasTexts}\r\n                    ref={canvasRef}\r\n                    width={size.width}\r\n                    height={size.height}\r\n                />\r\n            }\r\n        </>\r\n    )\r\n};\r\n\r\nconst BannerCanvasTextsMemo = React.memo(BannerCanvasTexts);\r\nexport default BannerCanvasTextsMemo;\r\n\r\n//======================== STYLES ========================\r\nconst useStyles = makeStyles({\r\n    bannerCanvasTexts: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0\r\n    }\r\n});","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getSize, getUseBorder} from \"../../../../../Store/selectors/editor-selectors\";\r\nimport BannerCanvasBorder from \"./BannerCanvasBorder\";\r\nimport {getZoom} from \"../../../../../Store/selectors/workspace-selectors\";\r\nimport {ZoomType} from \"../../../../../Types/types\";\r\nimport BannerCSSTexts from \"../BannerCSS/BannerCSSTexts\";\r\nimport BannerCanvasBackgroundMemo from \"./BannerCanvasBackground\";\r\nimport {useDrop, XYCoord} from \"react-dnd\";\r\nimport {ItemType, ItemTypes} from \"../../../../../DragAndDrop/Dnd\";\r\nimport {textAC} from \"../../../../../Store/reducers/text-reducer\";\r\nimport BannerCanvasTextsMemo from \"./BannerCanvasTexts\";\r\n\r\nconst Div = styled.div`\r\n  width: ${(props: PropsType) => props.width ? `${props.width * props.zoom / 100}px` : '0px'};\r\n  height: ${(props: PropsType) => props.height ? `${props.height * props.zoom / 100}px` : '0px'};\r\n  position: relative;\r\n  //margin: 50px;\r\n`;\r\n\r\n//=================== CUSTOM HOOK =======================\r\nconst useBannerCanvasWrapper = () => {\r\n    const size = useSelector(getSize);\r\n    const useBorder = useSelector(getUseBorder);\r\n    const zoom = useSelector(getZoom);\r\n    const dispatch = useDispatch();\r\n    const [, dropRef] = useDrop({\r\n        accept: ItemTypes.TEXT,\r\n        drop(item: ItemType, monitor) {\r\n            const positionCursorDifference = monitor.getDifferenceFromInitialOffset() as XYCoord;\r\n            const posDiffZoom = {\r\n                x: positionCursorDifference.x * 100 / zoom,\r\n                y: positionCursorDifference.y * 100 / zoom,\r\n            };\r\n            dispatch(textAC.setPosition(item.id, posDiffZoom as XYCoord))\r\n        }\r\n    });\r\n    return {\r\n        size, useBorder, zoom, dropRef\r\n    }\r\n};\r\n\r\n//==================== COMPONENT ==========================\r\nconst BannerCanvasWrapper: React.FC<{}> = () => {\r\n    const {\r\n        size, useBorder, zoom, dropRef\r\n    } = useBannerCanvasWrapper();\r\n    return (\r\n        <Div width={size.width}\r\n             height={size.height}\r\n             zoom={zoom}\r\n             ref={dropRef}\r\n        >\r\n            <BannerCanvasBackgroundMemo/>\r\n            <BannerCanvasTextsMemo/>\r\n            {\r\n                useBorder &&\r\n                <BannerCanvasBorder/>\r\n            }\r\n            <BannerCSSTexts/>\r\n        </Div>\r\n    )\r\n};\r\nexport default BannerCanvasWrapper;\r\n\r\n//================= TYPE ==================\r\ntype PropsType = {\r\n    width: number | null\r\n    height: number | null\r\n    zoom: ZoomType\r\n}","import makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport React from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {textAC} from \"../../../../../../Store/reducers/text-reducer\";\r\n\r\n//======================== CUSTOM HOOK ============================\r\nconst useButtonFontStyle = (selectedTextId: number, fontStyle: 'normal' | 'italic') => {\r\n    const classes = useStyles();\r\n    const variant = (fontStyle === 'italic' ? 'outlined' : 'text') as 'outlined' | 'text';\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = () => {\r\n        dispatch(textAC.setFontStyle(selectedTextId, fontStyle === 'italic' ? 'normal' : 'italic'))\r\n    };\r\n\r\n    return {\r\n        classes, onClickHandler, variant\r\n    }\r\n}\r\n\r\n\r\n//======================== COMPONENT ==============================\r\nconst ButtonFontStyle: React.FC<PropsType> = ({selectedTextId, fontStyle}) => {\r\n    const {\r\n        classes, onClickHandler, variant\r\n    } = useButtonFontStyle(selectedTextId, fontStyle);\r\n\r\n    return (\r\n        <Button size='small'\r\n                variant={variant}\r\n                className={classes.button}\r\n                onClick={onClickHandler}\r\n        >\r\n            <Typography variant='h6'\r\n                        className={classes.typography}\r\n            >\r\n                T\r\n            </Typography>\r\n        </Button>\r\n\r\n    )\r\n};\r\nexport default ButtonFontStyle\r\n\r\n//======================== TYPE =========================\r\ntype PropsType = {\r\n    selectedTextId: number\r\n    fontStyle: 'normal' | 'italic'\r\n}\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        minWidth: 42\r\n    },\r\n    typography: {\r\n        fontStyle: 'italic'\r\n    }\r\n});\r\n","import makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport React from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {textAC} from \"../../../../../../Store/reducers/text-reducer\";\r\n\r\n//======================== CUSTOM HOOK ============================\r\nconst useButtonFontStyle = (selectedTextId: number, lowerCase: boolean) => {\r\n    const classes = useStyles();\r\n    const variant = (lowerCase ? 'outlined' : 'text') as 'outlined' | 'text';\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = () => {\r\n        dispatch(textAC.setLowerCase(selectedTextId, lowerCase ? false : true));\r\n        if (!lowerCase) {\r\n            dispatch(textAC.setUpperCase(selectedTextId, false))\r\n        }\r\n    };\r\n\r\n    return {\r\n        classes, onClickHandler, variant\r\n    }\r\n};\r\n\r\n//======================== COMPONENT ==============================\r\nconst ButtonLowerCase: React.FC<PropsType> = ({selectedTextId, lowerCase}) => {\r\n    const {\r\n        classes, onClickHandler, variant\r\n    } = useButtonFontStyle(selectedTextId, lowerCase);\r\n\r\n    return (\r\n        <Button size='small'\r\n                variant={variant}\r\n                className={classes.button}\r\n                onClick={onClickHandler}\r\n        >\r\n            <Typography variant='h6'\r\n                        className={classes.typography}\r\n\r\n            >\r\n                t\r\n            </Typography>\r\n        </Button>\r\n\r\n    )\r\n};\r\nexport default ButtonLowerCase\r\n\r\n//======================== TYPE =========================\r\ntype PropsType = {\r\n    selectedTextId: number\r\n    lowerCase: boolean\r\n}\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        minWidth: 42\r\n    },\r\n    typography: {\r\n        textTransform: 'none'\r\n    }\r\n});\r\n","import makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport React from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {textAC} from \"../../../../../../Store/reducers/text-reducer\";\r\n\r\n//======================== CUSTOM HOOK ============================\r\nconst useButtonUpperCase = (selectedTextId: number, upperCase: boolean) => {\r\n    const classes = useStyles();\r\n    const variant = (upperCase ? 'outlined' : 'text') as 'outlined' | 'text';\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = () => {\r\n        dispatch(textAC.setUpperCase(selectedTextId, upperCase ? false : true));\r\n        if (!upperCase) {\r\n            dispatch(textAC.setLowerCase(selectedTextId, false))\r\n        }\r\n    };\r\n\r\n    return {\r\n        classes, onClickHandler, variant\r\n    }\r\n};\r\n\r\n//======================== COMPONENT ==============================\r\nconst ButtonUpperCase: React.FC<PropsType> = ({selectedTextId, upperCase}) => {\r\n    const {\r\n        classes, onClickHandler, variant\r\n    } = useButtonUpperCase(selectedTextId, upperCase);\r\n\r\n    return (\r\n        <Button size='small'\r\n                variant={variant}\r\n                className={classes.button}\r\n                onClick={onClickHandler}\r\n        >\r\n            <Typography variant='h6'\r\n                        className={classes.typography}\r\n\r\n            >\r\n                T\r\n            </Typography>\r\n        </Button>\r\n\r\n    )\r\n};\r\nexport default ButtonUpperCase\r\n\r\n//======================== TYPE =========================\r\ntype PropsType = {\r\n    selectedTextId: number\r\n    upperCase: boolean\r\n}\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        minWidth: 42\r\n    },\r\n    typography: {\r\n        textTransform: 'none'\r\n    }\r\n});\r\n","import React from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {Typography} from \"@material-ui/core\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport grey from \"@material-ui/core/colors/grey\";\r\nimport {getLang} from \"../../../../../../Store/selectors/app-selectors\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {translate} from \"../../../../../../Utils/lang\";\r\nimport {getSelectedTextId, getTexts} from \"../../../../../../Store/selectors/text-selectors\";\r\nimport {TextType} from \"../../../../../../Types/types\";\r\nimport {textAC} from \"../../../../../../Store/reducers/text-reducer\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport ButtonFontStyle from \"./ButtonFontStyle\";\r\nimport ButtonLowerCase from \"./ButtonLowerCase\";\r\nimport ButtonUpperCase from \"./ButtonUpperCase\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useLeftPanelText = () => {\r\n    const classes = useStyles();\r\n    const lang = useSelector(getLang);\r\n    const textLabel = translate(lang, 'Text');\r\n    const fontSizeLabel = translate(lang, 'Font size (px)');\r\n    const texts = useSelector(getTexts);\r\n    const selectedTextId = useSelector(getSelectedTextId);\r\n    const value = (texts.find(el => el.id === selectedTextId) as TextType).fontSize;\r\n    const fontStyle = (texts.find(el => el.id === selectedTextId) as TextType).fontStyle;\r\n    const lowerCase = (texts.find(el => el.id === selectedTextId) as TextType).lowerCase;\r\n    const upperCase = (texts.find(el => el.id === selectedTextId) as TextType).upperCase;\r\n    const dispatch = useDispatch();\r\n    const handleChange = (e: any, value: number | number[]) => {\r\n        dispatch(textAC.setFontSize(selectedTextId as number, value as number));\r\n    };\r\n    const values = [] as Array<number>;\r\n    for (let i = 6; i <= 300; i = i + 2) {\r\n        values.push(i);\r\n    }\r\n    const optionElements = values.map(\r\n        el => <option key={el} value={el}>{el}</option>\r\n    );\r\n    const onChangeSelectHandle = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n        dispatch(textAC.setFontSize(selectedTextId as number, event.target.value as number));\r\n    };\r\n    return {\r\n        classes, textLabel, fontSizeLabel, value,\r\n        handleChange, optionElements, fontStyle,\r\n        onChangeSelectHandle, selectedTextId,\r\n        lowerCase, upperCase\r\n    }\r\n};\r\n\r\n\r\n//============== COMPONENT =================\r\nconst LeftPanelText: React.FC<{}> = () => {\r\n    const {\r\n        classes, textLabel, fontSizeLabel,\r\n        value, handleChange, optionElements,\r\n        onChangeSelectHandle, selectedTextId,\r\n        fontStyle, lowerCase, upperCase\r\n    } = useLeftPanelText();\r\n    return (\r\n        <div className={classes.LeftPanelText}>\r\n            <Typography variant='subtitle2'\r\n                        className={classes.typography}\r\n            >\r\n                {textLabel}\r\n            </Typography>\r\n\r\n            <div className={classes.form}>\r\n                <Typography variant='body2'>\r\n                    {fontSizeLabel}\r\n                </Typography>\r\n                <Slider className={classes.slider}\r\n                        min={6}\r\n                        max={300}\r\n                        step={2}\r\n                        value={value}\r\n                        onChange={handleChange}\r\n                />\r\n\r\n                <div className={classes.formControlWrapper}>\r\n                    <FormControl variant=\"outlined\" className={classes.formControl} size='small'>\r\n                        <Select\r\n                            native\r\n                            value={value}\r\n                            onChange={onChangeSelectHandle}\r\n                        >\r\n                            {optionElements}\r\n                        </Select>\r\n                    </FormControl>\r\n                </div>\r\n\r\n                <div className={classes.fontStyleBlock}>\r\n                    <ButtonFontStyle selectedTextId={selectedTextId as number}\r\n                                     fontStyle={fontStyle}\r\n                    />\r\n                    <ButtonLowerCase selectedTextId={selectedTextId as number}\r\n                                     lowerCase={lowerCase}/>\r\n                    <ButtonUpperCase selectedTextId={selectedTextId as number}\r\n                                     upperCase={upperCase}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\nexport default LeftPanelText;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    LeftPanelText: {\r\n        width: 200,\r\n        border: '1px solid #ccc',\r\n        backgroundColor: '#FFF',\r\n        borderRadius: 5,\r\n        overflow: 'hidden'\r\n    },\r\n    typography: {\r\n        backgroundColor: grey[300],\r\n        padding: '10px 20px'\r\n    },\r\n    form: {\r\n        padding: '10px 20px'\r\n    },\r\n    slider: {\r\n        margin: '10px 0',\r\n    },\r\n    formControlWrapper: {\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n    },\r\n    formControl: {\r\n        margin: 5,\r\n        minWidth: 60,\r\n    },\r\n    fontStyleBlock: {\r\n        display: 'flex',\r\n        justifyContent: 'space-evenly'\r\n    }\r\n});","import React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport {HexColorPicker} from \"react-colorful\";\r\nimport './../../../../../css/styles.css';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getSelectedTextId, getTexts} from \"../../../../../Store/selectors/text-selectors\";\r\nimport {TextType} from \"../../../../../Types/types\";\r\nimport {translate} from \"../../../../../Utils/lang\";\r\nimport {getLang} from \"../../../../../Store/selectors/app-selectors\";\r\nimport grey from \"@material-ui/core/colors/grey\";\r\nimport {textAC} from \"../../../../../Store/reducers/text-reducer\";\r\n\r\n//===================== CUSTOM HOOK ===================\r\nconst useLeftPanelColor = () => {\r\n    const lang = useSelector(getLang);\r\n    const titleLabel = translate(lang, 'Color')\r\n    const texts = useSelector(getTexts);\r\n    const selectedTextId = useSelector(getSelectedTextId);\r\n    const color = (texts.find(el => el.id === selectedTextId) as TextType).color;\r\n    const dispatch = useDispatch();\r\n    const onChangeHandler = (newColor: string) => {\r\n        dispatch(textAC.setColor(selectedTextId as number, newColor));\r\n    };\r\n    const classes = useStyles();\r\n    return {\r\n        color, classes, titleLabel, onChangeHandler\r\n    }\r\n};\r\n\r\n//==================== COMPONENT ======================\r\nconst LeftPanelColor: React.FC<{}> = () => {\r\n    const {\r\n        color, classes, titleLabel, onChangeHandler,\r\n    } = useLeftPanelColor();\r\n\r\n    return (\r\n        <div className={classes.leftPanelColor}>\r\n            <Typography variant='subtitle2'\r\n                        className={classes.typography}>\r\n                {titleLabel}\r\n            </Typography>\r\n            <div className={classes.form}>\r\n                <HexColorPicker color={color}\r\n                                onChange={onChangeHandler}\r\n                                className={classes.colorPicker}\r\n                />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n};\r\nexport default LeftPanelColor;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    leftPanelColor: {\r\n        width: 200,\r\n        border: '1px solid #ccc',\r\n        backgroundColor: '#FFF',\r\n        borderRadius: 5,\r\n        overflow: 'hidden'\r\n    },\r\n    typography: {\r\n        backgroundColor: grey[300],\r\n        padding: '10px 20px'\r\n    },\r\n    form: {\r\n        padding: '20px 20px'\r\n    },\r\n    colorPicker: {\r\n        width: 160,\r\n        height: 160\r\n    }\r\n});","import React, {useEffect, useRef, useState} from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {List} from \"@material-ui/core\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport TextFieldsIcon from '@material-ui/icons/TextFields';\r\nimport ColorLensIcon from '@material-ui/icons/ColorLens';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport grey from \"@material-ui/core/colors/grey\";\r\nimport indigo from \"@material-ui/core/colors/indigo\";\r\nimport clsx from \"clsx\";\r\nimport LeftPanelText from \"./LeftPanelText/LeftPanelText\";\r\nimport LeftPanelColor from \"./LeftPanelColor\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {workspaceAC} from \"../../../../../Store/reducers/workspace-reducer\";\r\nimport {textAC} from \"../../../../../Store/reducers/text-reducer\";\r\nimport {getSelectedTextId} from \"../../../../../Store/selectors/text-selectors\";\r\nimport Tooltip from \"@material-ui/core/Tooltip/Tooltip\";\r\nimport {getLang} from \"../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../Utils/lang\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useLeftPanel = () => {\r\n    const [leftPanelIndex, setLeftPanelIndex] = useState(-1)\r\n    const classes = useStyles();\r\n    const selectedTextId = useSelector(getSelectedTextId) as number;\r\n    const onClickHandler = [];\r\n    onClickHandler[0] = () => {\r\n        setLeftPanelIndex(0);\r\n    };\r\n    onClickHandler[1] = () => {\r\n        setLeftPanelIndex(1);\r\n    };\r\n    onClickHandler[2] = () => {\r\n        setLeftPanelIndex(2);\r\n        dispatch(textAC.removeText(selectedTextId))\r\n    };\r\n    const refLeftPanel = useRef(null);\r\n\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        dispatch(workspaceAC.setRefLeftPanel(refLeftPanel))\r\n    });\r\n    const lang = useSelector(getLang);\r\n    const textLabel = translate(lang, 'Text');\r\n    const colorLabel = translate(lang, 'Color');\r\n    const deleteLabel = translate(lang, 'Delete');\r\n    return {\r\n        classes, leftPanelIndex, onClickHandler,\r\n        refLeftPanel, textLabel, colorLabel,\r\n        deleteLabel\r\n    }\r\n}\r\n\r\n//============== COMPONENT =================\r\nconst LeftPanel: React.FC<{}> = () => {\r\n    const {\r\n        classes, leftPanelIndex, onClickHandler,\r\n        refLeftPanel, textLabel, colorLabel,\r\n        deleteLabel\r\n    } = useLeftPanel();\r\n\r\n    return (\r\n        <div className={classes.leftPanel} ref={refLeftPanel}>\r\n\r\n            <List className={classes.list}>\r\n\r\n                <Tooltip title={textLabel} placement=\"right\" arrow\r\n                         classes={{\r\n                             tooltip: classes.tooltip,\r\n                             arrow: classes.arrow\r\n                         }}>\r\n                    <ListItem button\r\n                              className={classes.listItem}\r\n                              onClick={onClickHandler[0]}\r\n                              selected={leftPanelIndex === 0}>\r\n                        <ListItemIcon>\r\n                            <TextFieldsIcon\r\n                                className={clsx(classes.icon, leftPanelIndex === 0 && classes.iconSelected)}/>\r\n                        </ListItemIcon>\r\n                    </ListItem>\r\n                </Tooltip>\r\n\r\n                <Tooltip title={colorLabel} placement=\"right\" arrow\r\n                         classes={{\r\n                             tooltip: classes.tooltip,\r\n                             arrow: classes.arrow\r\n                         }}>\r\n                    <ListItem button\r\n                              className={classes.listItem}\r\n                              onClick={onClickHandler[1]}\r\n                              selected={leftPanelIndex === 1}>\r\n                        <ListItemIcon>\r\n                            <ColorLensIcon\r\n                                className={clsx(classes.icon, leftPanelIndex === 1 && classes.iconSelected)}/>\r\n                        </ListItemIcon>\r\n                    </ListItem>\r\n                </Tooltip>\r\n\r\n                <Tooltip title={deleteLabel} placement=\"right\" arrow\r\n                         classes={{\r\n                             tooltip: classes.tooltip,\r\n                             arrow: classes.arrow\r\n                         }} >\r\n                    <ListItem button\r\n                              className={classes.listItem}\r\n                              onClick={onClickHandler[2]}\r\n                              selected={leftPanelIndex === 2}>\r\n                        <ListItemIcon>\r\n                            <DeleteForeverIcon\r\n                                className={clsx(classes.icon, leftPanelIndex === 2 && classes.iconSelected)}/>\r\n                        </ListItemIcon>\r\n                    </ListItem>\r\n                </Tooltip>\r\n\r\n            </List>\r\n\r\n            <div>\r\n                {\r\n                    leftPanelIndex === 0 && <LeftPanelText/>\r\n                }\r\n                {\r\n                    leftPanelIndex === 1 && <LeftPanelColor/>\r\n                }\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n};\r\nexport default LeftPanel;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    leftPanel: {\r\n        padding: 0,\r\n        position: 'absolute',\r\n        top: 10,\r\n        left: 10,\r\n        display: 'flex',\r\n        alignItems: 'flex-start'\r\n    },\r\n    list: {\r\n        width: 60,\r\n        border: '1px solid #ccc',\r\n        backgroundColor: '#FFF',\r\n        borderRadius: 5,\r\n        overflow: 'hidden',\r\n        marginRight: 5,\r\n        padding: 0\r\n    },\r\n    listItem: {\r\n        '&:hover': {\r\n            backgroundColor: grey[400]\r\n        },\r\n        '&.Mui-selected:hover': {\r\n            backgroundColor: indigo[500],\r\n        },\r\n        '&.Mui-selected': {\r\n            backgroundColor: indigo[500],\r\n        },\r\n    },\r\n    icon: {\r\n        color: grey[800]\r\n    },\r\n    iconSelected: {\r\n        color: '#FFF'\r\n    },\r\n    tooltip: {\r\n        backgroundColor: '#000'\r\n    },\r\n    arrow: {\r\n        color: '#000'\r\n    }\r\n});\r\n\r\n","import React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport BannerCanvasWrapper from \"../Banner/BannerCanvas/BannerCanvasWrapper\";\r\nimport {mainSidebarWidth, secondSidebarWidth} from \"../../../../Utils/CONST\";\r\nimport LeftPanel from \"./LeftPanel/LeftPanel\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getTexts} from \"../../../../Store/selectors/text-selectors\";\r\nimport styled from \"styled-components\";\r\nimport {getShowSecondSidebar, getSize} from \"../../../../Store/selectors/editor-selectors\";\r\nimport {getZoom} from \"../../../../Store/selectors/workspace-selectors\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useEditorWorkspace = () => {\r\n    const texts = useSelector(getTexts);\r\n    const leftPanelIsShow = !!texts.find(el => el.editParameters === true);\r\n    const showSecondSidebar = useSelector(getShowSecondSidebar);\r\n    const size = useSelector(getSize);\r\n    const zoom = useSelector(getZoom);\r\n    return {\r\n        leftPanelIsShow, size, zoom,\r\n        showSecondSidebar\r\n    }\r\n};\r\n\r\nconst Row1 = styled.div`\r\n    display: flex;\r\n    min-height: 50px;\r\n    flex-shrink: 0;\r\n    flex-grow: 1; \r\n`;\r\n\r\nconst Div1 = styled.div`\r\n    min-width: 50px;\r\n    min-height: 50px;\r\n    box-sizing: border-box;\r\n    //border: 5px solid red;\r\n    flex-shrink: 0;\r\n    flex-grow: 1;\r\n`;\r\n\r\nconst Div2 = styled.div`\r\n    width: ${(props: { width: number, zoom: number }) => `${props.width * props.zoom / 100}px`};\r\n    min-height: 50px;\r\n    box-sizing: border-box;\r\n    //border: 5px solid red;\r\n    flex-shrink: 0;\r\n`;\r\n\r\nconst Row2 = styled.div`\r\n    display: flex;\r\n    //height: 50px;\r\n    flex-shrink: 0; \r\n`;\r\n\r\nconst Div3 = styled.div`\r\n    height: ${(props: { height: number, zoom: number }) => `${props.height * props.zoom / 100}px`};\r\n    min-width: 50px;\r\n    box-sizing: border-box;\r\n    //border: 5px solid red;\r\n    flex-shrink: 0;\r\n    flex-grow: 1;\r\n`;\r\n\r\nconst WorkspaceDiv = styled.div`\r\n        flex-grow: 1;\r\n        display: flex;\r\n        flex-direction: column;\r\n        position: relative;\r\n        width: ${\r\n    (\r\n        props: { showSecondSidebar: boolean }\r\n    ) => `calc(100vw - ${mainSidebarWidth}px - ${secondSidebarWidth * (props.showSecondSidebar ? 1 : 0)}px)`\r\n};\r\n        box-sizing: border-box;\r\n        overflow: auto;\r\n`\r\n\r\n//============== COMPONENT =================\r\nconst Workspace: React.FC<{}> = () => {\r\n    const {\r\n        leftPanelIsShow, size,\r\n        zoom, showSecondSidebar\r\n    } = useEditorWorkspace();\r\n\r\n    return (\r\n        <WorkspaceDiv showSecondSidebar={showSecondSidebar}>\r\n            <Row1>\r\n                <Div1/>\r\n                <Div2 width={size.width as number} zoom={zoom}/>\r\n                <Div1/>\r\n            </Row1>\r\n            <Row2>\r\n                <Div3 height={size.height as number} zoom={zoom}/>\r\n                <BannerCanvasWrapper/>\r\n                <Div3 height={size.height as number} zoom={zoom}/>\r\n            </Row2>\r\n            <Row1>\r\n                <Div1/>\r\n                <Div2 width={size.width as number} zoom={zoom}/>\r\n                <Div1/>\r\n            </Row1>\r\n\r\n            {\r\n                leftPanelIsShow &&\r\n                <LeftPanel/>\r\n            }\r\n        </WorkspaceDiv>\r\n    )\r\n};\r\n\r\nexport default Workspace;","import {Dialog} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getShowAlarm} from \"../../Store/selectors/text-selectors\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport React from \"react\";\r\nimport {textAC} from \"../../Store/reducers/text-reducer\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport {getLang} from \"../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../Utils/lang\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\n\r\n//========== CUSTOM HOOK ===========\r\nconst useAlarm = () => {\r\n    const showAlarm = useSelector(getShowAlarm);\r\n    const lang = useSelector(getLang);\r\n    const title = translate(lang, 'Maximum count of text');\r\n    const content = translate(lang, 'Maximum count of text in trial version of banner creator is 3.');\r\n    const dispatch = useDispatch();\r\n    const onCloseHandler = () => {\r\n        dispatch(textAC.setShowAlarm(false))\r\n    };\r\n    return {\r\n        showAlarm, onCloseHandler, title, content\r\n    }\r\n};\r\n\r\n//=========== COMPONENT ============\r\nconst Alarm: React.FC<{}> = () => {\r\n    const {\r\n        showAlarm, onCloseHandler, title, content\r\n    } = useAlarm();\r\n\r\n    return (\r\n        <Dialog open={showAlarm}\r\n                onClose={onCloseHandler}\r\n        >\r\n            <DialogTitle>{title}</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText>\r\n                    {content}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                  <Button onClick={onCloseHandler} color=\"primary\" autoFocus variant='outlined'>\r\n                    Ok\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n};\r\nexport default Alarm;","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getShowSecondSidebar} from \"../../../Store/selectors/editor-selectors\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport brown from \"@material-ui/core/colors/brown\";\r\nimport MainSidebar from \"./MainSidebar/MainSidebar\";\r\nimport {mainSidebarWidth, secondSidebarWidth} from \"../../../Utils/CONST\";\r\nimport SecondarySidebar from \"./SecondarySidebar/SecondarySidebar\";\r\nimport clsx from \"clsx\";\r\nimport Toolbar from \"./Toolbar/Toolbar\";\r\nimport Workspace from \"./Workspace/Workspace\";\r\nimport grey from \"@material-ui/core/colors/grey\";\r\nimport Alarm from \"../../common/Alarm\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useEditor = () => {\r\n    const classes = useStyles();\r\n    const showSecondSidebar = useSelector(getShowSecondSidebar)\r\n    return {classes, showSecondSidebar}\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst Editor:React.FC<{}> = () => {\r\n    const {\r\n        classes, showSecondSidebar\r\n    } = useEditor();\r\n    return (\r\n        <div className={classes.editor}>\r\n            <div className={classes.mainSidebar}>\r\n                <MainSidebar/>\r\n            </div>\r\n            <div className={clsx(classes.secondSidebarWrapper, !showSecondSidebar && classes.secondSidebarWrapperHide)}>\r\n                <div className={classes.secondSidebar}>\r\n                    <SecondarySidebar/>\r\n                </div>\r\n            </div>\r\n            <div className={classes.workspace} >\r\n                <Toolbar/>\r\n                <Workspace/>\r\n            </div>\r\n            <Alarm/>\r\n        </div>\r\n    )\r\n};\r\nexport default Editor;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    editor: {\r\n        display: 'flex',\r\n        height: 'calc(100vh - 64px)',\r\n        width: '100vw'\r\n    },\r\n    mainSidebar: {\r\n        width: mainSidebarWidth,\r\n        flexShrink: 0,\r\n        backgroundColor: brown[800],\r\n        height: 'calc(100vh - 64px)',\r\n    },\r\n    secondSidebarWrapper: {\r\n        width: secondSidebarWidth,\r\n        flexShrink: 0,\r\n        backgroundColor: brown[600],\r\n        position: 'relative',\r\n        transition: 'width .3s',\r\n        overflow: 'hidden',\r\n        height: 'calc(100vh - 64px)',\r\n    },\r\n    secondSidebarWrapperHide: {\r\n        width: 0,\r\n    },\r\n    secondSidebar: {\r\n        position: 'absolute',\r\n        width: secondSidebarWidth,\r\n        right: 0,\r\n        height: 'calc(100vh - 64px)',\r\n    },\r\n    workspace: {\r\n        flexGrow: 1,\r\n        width: `calc(100vw - ${mainSidebarWidth}px - ${secondSidebarWidth}px)`,\r\n        height: 'calc(100vh - 64px)',\r\n        backgroundColor: grey[200],\r\n        display: 'flex',\r\n        flexDirection: 'column'\r\n    }\r\n});\r\n","import {ReactElement} from \"react\";\r\nimport React from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport PageNotFound from \"../common/PageNotFound\";\r\nimport CreateNew from \"./CreateNew/CreateNew\";\r\nimport {Route, Switch} from \"react-router-dom\";\r\nimport Editor from \"./Editor/Editor\";\r\n\r\n//======================== CUSTOM HOOK =========================\r\nconst useMain = () => {\r\n    const classes = useStyles();\r\n    return {classes}\r\n};\r\n\r\n//======================= COMPONENT ===============================\r\nconst Main: React.FC<{}> = (): ReactElement => {\r\n    const {classes} = useMain();\r\n    return (\r\n        <main className={classes.main}>\r\n                <Switch>\r\n                    <Route exact path='/' render={() => <CreateNew/>}/>\r\n                    <Route path='/editor' render={() => <Editor/>}/>\r\n                    <Route path='*' render={() => <PageNotFound/>}/>\r\n                </Switch>\r\n        </main>\r\n    )\r\n};\r\nexport default Main;\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    main: {\r\n        display: 'flex',\r\n        boxSizing: 'border-box',\r\n        height: 'calc(100vh - 64px)',\r\n        width: '100vw'\r\n    }\r\n});","import React, {ReactElement, useEffect} from 'react';\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport indigo from \"@material-ui/core/colors/indigo\";\nimport Header from \"./Components/Header/Header\";\nimport Main from \"./Components/Main/Main\";\n\n//======================== CUSTOM HOOK =========================\nconst useApp = () => {\n    const classes = useStyles();\n    const catchAllUnhandledErrors = (e: PromiseRejectionEvent) => {\n        alert(e);\n    };\n    useEffect(() => {\n        window.addEventListener('unhandledrejection', catchAllUnhandledErrors);\n        return () => {\n            window.removeEventListener('unhandledrejection', catchAllUnhandledErrors);\n        }\n    }, []);\n\n\n    return {\n        classes\n    }\n};\n\n\nconst App: React.FC<{}> = (): ReactElement => {\n    const {\n        classes\n    } = useApp();\n    return (\n        <div className={classes.app}>\n            <Header/>\n            <Main/>\n        </div>\n    );\n};\nexport default App;\n\n//============================= STYLE ==========================\nconst useStyles = makeStyles({\n    app: {\n        height: '100vh',\n        width: '100vw'\n    },\n});\n\n","import {Action, applyMiddleware, combineReducers, createStore, Middleware} from \"redux\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport {composeWithDevTools} from \"redux-devtools-extension\";\r\nimport appReducer from \"./reducers/app-reducer\";\r\nimport editorReducer from \"./reducers/editor-reducer\";\r\nimport thunkMiddleware, {ThunkAction} from \"redux-thunk\";\r\nimport workspaceReducer from \"./reducers/workspace-reducer\";\r\nimport textReducer from \"./reducers/text-reducer\";\r\n\r\nlet rootReducer = combineReducers({\r\n    app: appReducer,\r\n    editor: editorReducer,\r\n    workspace: workspaceReducer,\r\n    text: textReducer,\r\n    form: formReducer\r\n});\r\n\r\nconst middleware: Array<Middleware> = [thunkMiddleware];\r\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(...middleware)));\r\nexport default store;\r\n\r\n//======================== TYPE ==========================\r\nexport type StateType = ReturnType<typeof rootReducer>\r\nexport type GetActionsType<T> = T extends {[key: string]: (...args: any[]) => infer U } ? U : never\r\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, StateType, unknown, A>","import React from 'react';\r\nimport {ErrorInfo} from \"react\";\r\n\r\nclass ErrorBoundary extends React.Component<PropsType, StateType> {\r\n    constructor(props: PropsType) {\r\n        super(props);\r\n        this.state = {\r\n            error: null,\r\n            errorInfo: null\r\n        };\r\n    }\r\n\r\n    componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n        this.setState({\r\n            error: error,\r\n            errorInfo: errorInfo\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.errorInfo) {\r\n            return (\r\n                <div>\r\n                    <h2>Something went wrong</h2>\r\n                    <details style={{whiteSpace: 'pre-wrap'}}>\r\n                        {this.state.error && this.state.error.toString()}\r\n                    </details>\r\n                </div>\r\n            )\r\n        }\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n\r\n//==================== TYPES ========================\r\ntype PropsType = {};\r\ntype StateType = {\r\n    error: null | Error\r\n    errorInfo: null | ErrorInfo\r\n}","import {Provider} from \"react-redux\";\r\nimport {HashRouter} from \"react-router-dom\";\r\nimport React, {ReactElement} from \"react\";\r\nimport App from \"./App\";\r\nimport store from \"./Store/store\";\r\nimport ErrorBoundary from \"./Components/common/ErrorBoundary\";\r\nimport {CssBaseline} from \"@material-ui/core\";\r\nimport {DndProvider} from \"react-dnd\";\r\nimport {HTML5Backend} from \"react-dnd-html5-backend\";\r\n\r\nconst AppContainer: React.FC = (): ReactElement => {\r\n    return (\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <ErrorBoundary>\r\n                    <CssBaseline/>\r\n                    <DndProvider backend={HTML5Backend}>\r\n                        <App/>\r\n                    </DndProvider>\r\n                </ErrorBoundary>\r\n            </Provider>\r\n        </HashRouter>\r\n    )\r\n}\r\n\r\nexport default AppContainer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport AppContainer from \"./AppContainer\";\n\nReactDOM.render(<AppContainer />, document.getElementById('root'));\nreportWebVitals();\n"],"sourceRoot":""}