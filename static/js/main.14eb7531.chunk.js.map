{"version":3,"sources":["reportWebVitals.ts","Store/selectors/app-selectors.ts","Store/reducers/app-reducer.ts","Utils/lang.ts","Components/Header/HeaderLang.tsx","Store/reducers/editor-reducer.ts","Store/reducers/workspace-reducer.tsx","Store/reducers/text-reducer.tsx","Components/Header/Header.tsx","Components/common/PageNotFound.tsx","Components/Main/CreateNew/CreateNewItemGraph.tsx","Components/Main/CreateNew/CreateNewItem.tsx","Components/common/RenderTextField.tsx","Store/selectors/editor-selectors.ts","Components/Main/CreateNew/CreateNewCustom.tsx","Components/Main/CreateNew/CreateNew.tsx","Components/Main/Editor/MainSidebar/MainSidebar.tsx","Utils/CONST.ts","Components/Main/Editor/SecondarySidebar/SecondarySidebarTitle.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/BackgroundTabs.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Color/SetColorButton.tsx","Components/common/SelectColorPopover.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Color/SelectColorButton.tsx","Types/types.ts","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Color/Color.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Gradient/GradientStyleButton.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Gradient/GradientStyle.tsx","Components/common/SelectColorButtonCustom.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Gradient/GradientColorInvert.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Gradient/GradientColor.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Gradient/Gradient.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Image/ImageTabs.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Image/MyImages/MyImagesItem.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Image/MyImages/MyImages.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Image/Settings/SettingsAlignButton.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Image/Settings/SettingsAlign.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Image/Settings/SettingsScaleMode.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Image/Settings/Settings.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Image/Image.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/BackgroundBorder.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarBackground/Background.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebarText/Text.tsx","Components/Main/Editor/SecondarySidebar/SecondarySidebar.tsx","Store/selectors/workspace-selectors.ts","Components/Main/Editor/Toolbar/ToolbarZoom.tsx","Components/Main/Editor/Toolbar/ToolbarZoomPlus.tsx","Components/Main/Editor/Toolbar/ToolbarZoomMinus.tsx","Components/Main/Editor/Toolbar/ToolbarDownload.tsx","Utils/validators.ts","Components/Main/Editor/Toolbar/DownloadDialog/FileNameForm.tsx","Components/Main/Editor/Toolbar/DownloadDialog/JpegQuality.tsx","Components/common/RenderTextFieldStartAdornment.tsx","Components/Main/Editor/Toolbar/DownloadDialog/LinkForm.tsx","Components/Main/Editor/Toolbar/DownloadDialog/DownloadDialog.tsx","Components/Main/Editor/Toolbar/Toolbar.tsx","Store/selectors/text-selectors.ts","Components/Main/Editor/Banner/BannerCSS/BannerTextForm.tsx","DragAndDrop/Dnd.ts","Components/Main/Editor/Banner/BannerCSS/BannerCSSText.tsx","Components/Main/Editor/Banner/BannerCSS/BannerCSSTexts.tsx","Components/Main/Editor/Banner/BannerCanvas/BannerCanvasBackground.tsx","Components/Main/Editor/Banner/BannerCanvas/BannerCanvasTexts.tsx","Components/Main/Editor/Banner/BannerCanvas/BannerCanvasBorder.tsx","Components/Main/Editor/Banner/BannerCanvas/BannerCanvasWrapper.tsx","Components/Main/Editor/Workspace/LeftPanel/LeftPanelText/ButtonFontStyle.tsx","Components/Main/Editor/Workspace/LeftPanel/LeftPanelText/ButtonLowerCase.tsx","Components/Main/Editor/Workspace/LeftPanel/LeftPanelText/ButtonUpperCase.tsx","Components/Main/Editor/Workspace/LeftPanel/LeftPanelText/LeftPanelText.tsx","Components/Main/Editor/Workspace/LeftPanel/LeftPanelColor.tsx","Components/Main/Editor/Workspace/LeftPanel/LeftPanel.tsx","Components/Main/Editor/Workspace/Workspace.tsx","Components/common/Alarm.tsx","Components/Main/Editor/Editor.tsx","Components/Main/Main.tsx","App.tsx","Store/store.ts","Components/common/ErrorBoundary.tsx","AppContainer.tsx","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","getLang","state","app","lang","getIsCreated","isCreated","initialState","appAC","type","appReducer","action","Lang","translate","phrase","rus","eng","HeaderLang","classes","useStyles","dispatch","useDispatch","useSelector","React","useState","anchorEl","setAnchorEl","title","englishLabel","handleClick","event","currentTarget","handleClose","handleCloseRus","handleCloseEng","useHeaderLang","Tooltip","placement","tooltip","arrow","Button","className","button","startIcon","endIcon","aria-controls","aria-haspopup","onClick","Menu","id","keepMounted","open","Boolean","onClose","MenuItem","selected","makeStyles","color","marginRight","textTransform","backgroundColor","size","width","height","mainSidebarItem","showSecondSidebar","secondarySidebarBackgroundTabIndex","backgroundStyle","useBorder","borderColor","backgroundStyleColor","backgroundStyleGradient","gradientStyle","colorStart","colorEnd","backgroundStyleImage","images","currentImage","scaleMode","align","imageTabIndex","canvasUrl","background","border","text","isLoading","editorAC","layer","url","editorReducer","find","el","name","length","src","stateImages","i","readUploadedFileAsUrl","inputFile","reader","FileReader","Promise","resolve","reject","onerror","abort","DOMException","onload","result","readAsDataURL","zoom","downloadCase","jpegQuality","refLeftPanel","isDownloadDialogOpen","fileName","fileNameFormIsValid","link","linkFormIsValid","workspaceReducer","workspaceAC","texts","selectedTextId","showAlarm","textReducer","content","element","fontSize","top","position","left","fontStyle","fontFamily","lowerCase","upperCase","hover","editParameters","editText","map","difference","y","x","filter","textAC","Header","logo","createNewLabel","onCreateNewHandler","useHeader","header","Typography","variant","noWrap","component","RouterLink","to","brown","boxSizing","padding","flexGrow","PageNotFound","pageNotFoundLabel","usePageNotFound","CreateNewItemGraph","props","w","h","graph","indigo","CreateNewItem","sizeLabel","onClickHandler","useCreateNewItem","Card","root","elevation","CardActionArea","cardActionArea","CardContent","cardContent","description","gutterBottom","margin","grey","display","flexDirection","justifyContent","alignItems","RenderTextField","icon","label","input","meta","touched","invalid","error","custom","styles","iconLeft","TextField","InputProps","placeholder","helperText","transform","getSize","editor","getMainSidebarItem","getShowSecondSidebar","getSecondarySidebarBackgroundTabIndex","getBackgroundStyle","getBackgroundStyleColor","getUseBorder","getBorderColor","getGradientStyle","getColorStart","getColorEnd","getImageTabIndex","getImages","getCurrentImage","getScaleMode","getAlign","getCanvasUrl","ReduxForm","reduxForm","form","handleSubmit","onChangeHandler","setTimeout","submit","widthLabel","heightLabel","useStylesForm","parseHandler","value","replace","useForm","onSubmit","Field","field1","parse","onChange","field2","CreateNewCustom","viewForm","setViewForm","buttonLabel","customSizeLabel","disabled","onSubmitHandler","useCreateNewCustom","formWrapper","buttonWrapper","fullWidth","marginBottom","right","bottom","CreateNew","CreateNewElements","index","createNew","wrapper","maxWidth","maxHeight","flexWrap","MainSidebar","labels","changeHandler","newValue","useMainSidebar","icons","Tabs","indicator","orientation","Tab","tabRoot","labelIcon","theme","paddingLeft","paddingTop","paddingRight","paddingBottom","marginLeft","minWidth","minHeight","secondSidebarWidth","SecondarySidebarTitle","titleLabel","useSecondarySidebarTitle","typography","IconButton","BackgroundTabs","useSecondarySidebarBackgroundTabs","indicatorColor","textColor","tabs","borderBottom","Div","styled","div","SetColorButton","colorTitle","useSetColorButton","SelectColorPopover","onPickColor","propsColor","setColor","onAcceptHandler","useSelectColorPopover","marginTop","MainSidebarItemEnum","BackgroundTabIndexEnum","ImageTabIndexEnum","SelectColorButton","onPickColorHandler","useSelectColorButton","anchorOrigin","vertical","horizontal","transformOrigin","Color","colors","defaultPresetsLabel","useColor","pickColorButtonElements","scndSdbrBckgrndColor","colorsBlock","gridGap","gridTemplateColumns","GradientStyleButton","tip","gradientStyleFromState","tipLabel","useGradientStyleButton","clsx","gradientStyleButton","radial","borderRadius","outline","GradientStyle","enable","SelectColorButtonCustom","tipTitle","anchorOriginVertical","anchorOriginHorizontal","transformOriginVertical","transformOriginHorizontal","headerLabel","tipTitleLabel","useSelectColorButtonCustom","GradientColorInvert","useGradientColorInvert","GradientDiv","GradientColor","onSelectColorStartHandler","onSelectColorEndHandler","useGradientColor","gradientColor","buttons","Gradient","gradient","ImageTabs","useImageTabs","MyImagesItem","image","imgSrc","useMyImagesItem","alt","img","useImageMyImages","label1","label2","imgCardElements","useDropzone","accept","onDrop","files","a","push","console","log","message","loadImages","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","Container","getColor","MyImages","imageMyImages","fakeButton","style","imagesWrapper","subWrapper","overflow","gridRowGap","SettingsAlignButton","ownAlign","onClickHandle","useAlignButton","alignButton","cursor","SettingsAlign","alignLabel","alignButtonsElements","useAlign","alignButtonWrapper","SettingsScaleMode","optionElements","scaleModeLabel","target","useScaleMode","Select","native","select","inputProps","Settings","Image","myImage","imageSetting","WhiteCheckbox","withStyles","Checkbox","BackgroundBorder","borderLabel","useBorderLabel","onSelectHandler","useBackgroundBorder","selectColorBlock","FormControlLabel","control","checked","formControlLabel","borderTop","checkbox","Background","Text","useSecondSidebarText","label3","lineHeight","SecondarySidebar","secondarySidebar","getZoom","workspace","getDownloadCase","getRefLeftPanel","getIsDownloadDialogOpen","getFileName","getFileNameFormIsValid","getJpegQuality","getLink","getLinkFormIsValid","ToolbarZoom","zoomlabel","listItemElements","ListItem","useToolbarZoom","List","ToolbarZoomPlus","zoomArray","findIndex","useToolbarZoomPlus","ToolbarZoomMinus","useToolbarZoomMinus","ToolbarDownload","downloadLabel","listItem","ListItemIcon","listItemIcon","ListItemText","primary","listItemText","useToolbarDownload","popover","fontWeight","required","undefined","shouldNotBeEmpty","test","valid","useEffect","autoFocus","field","validate","FileNameForm","initialValues","useFileNameForm","JpegQuality","e","marks","useJpegQuality","Slider","slider","min","max","step","valueLabelDisplay","RenderTextFieldStartAdornment","startAdornment","InputAdornment","LinkForm","DownloadDialog","contentLabel","nameLabel","cancelLabel","canvasAllUrl","download","linkLabel","copyLabel","canvasAll","document","createElement","ctxAll","getContext","imgBackground","drawImage","imgBorder","imgText","toDataURL","html","textareaRef","useRef","onCloseHandler","onCopyHandler","current","execCommand","useDownloadDialog","Dialog","DialogTitle","dialogTitle","DialogContent","DialogContentText","dialogContentText","ref","readOnly","textarea","rows","DialogActions","Link","underline","href","resize","Toolbar","editorToolbar","centerBlock","rightBlock","gridColumnGap","getTexts","getSelectedTextId","getShowAlarm","onBlurHandler","onBlur","BannerTextForm","useBannerTextForm","zIndex","blue","hide","ItemTypes","Span","span","useBannerText","wrapperRef","onOutsideClickHandler","contains","addEventListener","removeEventListener","useDrag","item","collect","monitor","isDragging","dragRef","toLowerCase","toUpperCase","onMouseEnterHandler","onMouseLeaveHandler","onMouseDownHandler","onMouseUpHandler","onDoubleClickHandler","BannerCSSText","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onDoubleClick","clicked","protect","BannerCSSTexts","textElements","BannerCanvasBackground","canvasRef","canvasCtxRef","ctx","fillStyle","fillRect","createLinearGradient","createRadialGradient","Math","sqrt","clearRect","addColorStop","cw","ch","cx","cy","ix","iy","iw","ih","ch1","cw1","iw1","ih1","useBannerCanvasBackground","bannerCanvasBackground","BannerCanvasBackgroundMemo","memo","BannerCanvasTexts","font","textBaseline","fillText","useBannerCanvasTexts","bannerCanvasTexts","BannerCanvasTextsMemo","BannerCanvasBorder","strokeStyle","lineWidth","strokeRect","bannerCanvasBorder","BannerCanvasBorderMemo","BannerCanvasWrapper","useDrop","drop","positionCursorDifference","getDifferenceFromInitialOffset","posDiffZoom","dropRef","useBannerCanvasWrapper","ButtonFontStyle","useButtonFontStyle","ButtonLowerCase","ButtonUpperCase","useButtonUpperCase","LeftPanelText","textLabel","fontSizeLabel","values","handleChange","onChangeSelectHandle","useLeftPanelText","formControlWrapper","FormControl","formControl","fontStyleBlock","LeftPanelColor","newColor","useLeftPanelColor","leftPanelColor","colorPicker","LeftPanel","leftPanelIndex","setLeftPanelIndex","colorLabel","deleteLabel","useLeftPanel","leftPanel","list","iconSelected","Row1","Div1","Div2","Row2","Div3","WorkspaceDiv","Workspace","leftPanelIsShow","useEditorWorkspace","Alarm","useAlarm","Editor","mainSidebar","secondSidebarWrapper","secondSidebarWrapperHide","secondSidebar","flexShrink","transition","Main","main","exact","path","render","App","catchAllUnhandledErrors","alert","window","useApp","rootReducer","combineReducers","formReducer","middleware","thunkMiddleware","store","createStore","composeWithDevTools","applyMiddleware","ErrorBoundary","errorInfo","this","setState","whiteSpace","toString","children","Component","AppContainer","CssBaseline","DndProvider","backend","HTML5Backend","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.14eb7531.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {StateType} from \"../store\";\r\n\r\nexport const getLang = (state: StateType) => state.app.lang;\r\nexport const getIsCreated = (state: StateType) => state.app.isCreated;\r\n\r\n","import {GetActionsType} from \"../store\";\r\nimport {LangType} from \"../../Types/types\";\r\n\r\nlet initialState = {\r\n    lang: 'eng' as LangType, // язык приложения\r\n    isCreated: false // создан или нет проект\r\n};\r\n\r\nconst appReducer = (state = initialState, action: AppActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'BANNER_CREATOR/APP/SET_LANG':\r\n            return {...state, lang: action.lang}\r\n        case 'BANNER_CREATOR/APP/SET_IS_CREATED': {\r\n            return {...state, isCreated: action.isCreated}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const appAC = {\r\n    setLang: (lang: LangType) => ({type: 'BANNER_CREATOR/APP/SET_LANG', lang} as const),\r\n    setIsCreated: (isCreated: boolean) => ({type: 'BANNER_CREATOR/APP/SET_IS_CREATED', isCreated} as const),\r\n};\r\n\r\nexport default appReducer;\r\n\r\n//============== TYPE ==================\r\nexport type InitialStateType = typeof initialState;\r\nexport type AppActionsType = GetActionsType<typeof appAC>;","import {LangType} from \"../Types/types\";\r\n\r\nexport const Lang: LangObjectType = {\r\n    'English': {\r\n        'eng': 'English',\r\n        'rus': 'Русский'\r\n    },\r\n    'Change language': {\r\n        'eng': 'Change language',\r\n        'rus': 'Сменить язык'\r\n    },\r\n    'Banner creator': {\r\n        'eng': 'Banner creator',\r\n        'rus': 'Редактор баннеров'\r\n    },\r\n    'Create new': {\r\n        'eng': 'Create new',\r\n        'rus': 'Создать новый'\r\n    },\r\n    'Width': {\r\n        'eng': 'Width',\r\n        'rus': 'Ширина'\r\n    },\r\n    'Height': {\r\n        'eng': 'Height',\r\n        'rus': 'Высота'\r\n    },\r\n    'Create': {\r\n        'eng': 'Create',\r\n        'rus': 'Создать'\r\n    },\r\n    'Custom Size': {\r\n        'eng': 'Custom Size',\r\n        'rus': 'Задать размер'\r\n    },\r\n    'Background': {\r\n        'eng': 'Background',\r\n        'rus': 'Задний фон'\r\n    },\r\n    'Text': {\r\n        'eng': 'Text',\r\n        'rus': 'Текст'\r\n    },\r\n    'Color': {\r\n        'eng': 'Color',\r\n        'rus': 'Цвет'\r\n    },\r\n    'Gradient': {\r\n        'eng': 'Gradient',\r\n        'rus': 'Градиент'\r\n    },\r\n    'Texture': {\r\n        'eng': 'Texture',\r\n        'rus': 'Текстура'\r\n    },\r\n    'Image': {\r\n        'eng': 'Image',\r\n        'rus': 'Изображение'\r\n    },\r\n    'Default presets': {\r\n        'eng': 'Default presets',\r\n        'rus': 'Стандартные цвета'\r\n    },\r\n    'Border': {\r\n        'eng': 'Border',\r\n        'rus': 'Рамка'\r\n    },\r\n    'Use border': {\r\n        'eng': 'Use border',\r\n        'rus': 'С рамкой'\r\n    },\r\n    'Select color': {\r\n        'eng': 'Select color',\r\n        'rus': 'Выберите цвет'\r\n    },\r\n    'Select background color': {\r\n        'eng': 'Select background color',\r\n        'rus': 'Выберите цвет заднего фона'\r\n    },\r\n    'Select border color': {\r\n        'eng': 'Select border color',\r\n        'rus': 'Выберите цвет рамки'\r\n    },\r\n    'Select start color': {\r\n        'eng': 'Select start color',\r\n        'rus': 'Выберите начальный цвет'\r\n    },\r\n    'Select end color': {\r\n        'eng': 'Select end color',\r\n        'rus': 'Выберите конечный цвет'\r\n    },\r\n    'My images': {\r\n        'eng': 'My images',\r\n        'rus': 'Мои изображения'\r\n    },\r\n    'Stock photos': {\r\n        'eng': 'Stock photos',\r\n        'rus': 'Стоковые'\r\n    },\r\n    'Settings': {\r\n        'eng': 'Settings',\r\n        'rus': 'Настройки'\r\n    },\r\n    'Scale mode': {\r\n        'eng': 'Scale mode',\r\n        'rus': 'Масштабирование'\r\n    },\r\n    'Align': {\r\n        'eng': 'Align',\r\n        'rus': 'Выравнивание'\r\n    },\r\n    'Exact fit': {\r\n        'eng': 'Exact fit',\r\n        'rus': 'Непропорционально вписать'\r\n    },\r\n    'Scale crop': {\r\n        'eng': 'Scale crop',\r\n        'rus': 'Пропорционально заполнить'\r\n    },\r\n    'No scale': {\r\n        'eng': 'No scale',\r\n        'rus': 'Заполнить без масштабирования'\r\n    },\r\n    'Maintain aspect': {\r\n        'eng': 'Maintain aspect',\r\n        'rus': 'Пропорционально вписать'\r\n    },\r\n    'Download': {\r\n        'eng': 'Download',\r\n        'rus': 'Скачать'\r\n    },\r\n    'Add text': {\r\n        'eng': 'Add text',\r\n        'rus': 'Добавить текст'\r\n    },\r\n    'Add header': {\r\n        'eng': 'Add header',\r\n        'rus': 'Заголовок'\r\n    },\r\n    'Add subheader': {\r\n        'eng': 'Add subheader',\r\n        'rus': 'Подзаголовок'\r\n    },\r\n    'Add body text': {\r\n        'eng': 'Add body text',\r\n        'rus': 'Обычный текст'\r\n    },\r\n    'Font size (px)': {\r\n        'eng': 'Font size (px)',\r\n        'rus': 'Размер шрифта (пикс)'\r\n    },\r\n    'Delete': {\r\n        'eng': 'Delete',\r\n        'rus': 'Удалить'\r\n    },\r\n    'Download created banner as': {\r\n        'eng': 'Download created banner as',\r\n        'rus': 'Загрузить созданный баннер как'\r\n    },\r\n    'Enter a file name:': {\r\n        'eng': 'Enter a file name:',\r\n        'rus': 'Введите имя файла:'\r\n    },\r\n    'Enter a link:': {\r\n        'eng': 'Enter a link:',\r\n        'rus': 'Введите ссылку:'\r\n    },\r\n    'Cancel': {\r\n        'eng': 'Cancel',\r\n        'rus': 'Закрыть'\r\n    },\r\n    'Copy': {\r\n        'eng': 'Copy',\r\n        'rus': 'Копировать'\r\n    },\r\n    'Quality of jpeg': {\r\n        'eng': 'Quality of jpeg',\r\n        'rus': 'Качество jpeg'\r\n    },\r\n    'Maximum count of text': {\r\n        'eng': 'Maximum count of text',\r\n        'rus': 'Максимальное количество строк'\r\n    },\r\n    'Maximum count of text in trial version of banner creator is 3.': {\r\n        'eng': 'Maximum count of text in trial version of banner creator is 3.',\r\n        'rus': 'Максимальное количество строк в ознакомительной версии программы равно 3.'\r\n    },\r\n    'Drag and drop some files here,': {\r\n        'eng': 'Drag and drop some files here,',\r\n        'rus': 'Перетащите файл(ы)'\r\n    },\r\n    'or click to select files': {\r\n        'eng': 'or click to select files',\r\n        'rus': 'или кликните чтобы выбрать'\r\n    },\r\n    'By url': {\r\n        'eng': 'By url',\r\n        'rus': 'По ссылке'\r\n    },\r\n    'Horizontal gradient': {\r\n        'eng': 'Horizontal gradient',\r\n        'rus': 'Горизонтальный градиент'\r\n    },\r\n    'Vertical gradient': {\r\n        'eng': 'Vertical gradient',\r\n        'rus': 'Вертикальный градиент'\r\n    },\r\n    'Radial gradient': {\r\n        'eng': 'Radial gradient',\r\n        'rus': 'Радиальный градиент'\r\n    },\r\n    'Invert colors': {\r\n        'eng': 'Invert colors',\r\n        'rus': 'Поменять цвета'\r\n    },\r\n};\r\n\r\n// const lang = useSelector(getLang);\r\n// translate(lang, '')\r\n\r\nexport const translate = (lang: LangType, phrase: string): string => {\r\n    return lang === 'rus' ? Lang[phrase].rus : Lang[phrase].eng\r\n};\r\n\r\ntype LangObjectType = {\r\n    [key: string]: {\r\n        'eng': string\r\n        'rus': string\r\n    }\r\n}\r\n\r\n","import Button from \"@material-ui/core/Button\";\r\nimport React, {ReactElement} from \"react\";\r\nimport LanguageIcon from '@material-ui/icons/Language';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport {getLang} from \"../../Store/selectors/app-selectors\";\r\nimport {appAC} from \"../../Store/reducers/app-reducer\";\r\nimport {translate} from \"../../Utils/lang\";\r\n\r\n\r\n//================= CUSTOM HOOK =========================\r\nconst useHeaderLang = () => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const lang = useSelector(getLang);\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null);\r\n    const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    const handleCloseRus = () => {\r\n        dispatch(appAC.setLang('rus'));\r\n        setAnchorEl(null);\r\n    };\r\n    const handleCloseEng = () => {\r\n        dispatch(appAC.setLang('eng'));\r\n        setAnchorEl(null);\r\n    };\r\n    const title = translate(lang, 'Change language');\r\n    const englishLabel = translate(lang, 'English')\r\n    return {classes, lang, anchorEl, title, englishLabel,\r\n        handleClick, handleClose, handleCloseRus,\r\n        handleCloseEng}\r\n}\r\n\r\n//======================= COMPONENT ===============================\r\nconst HeaderLang: React.FC<{}> = (): ReactElement => {\r\n    const {classes, lang, anchorEl, title, englishLabel,\r\n        handleClick, handleClose, handleCloseRus,\r\n        handleCloseEng} = useHeaderLang();\r\n\r\n    return (\r\n        <>\r\n            <Tooltip title={title} placement=\"bottom-start\"\r\n                     classes={{\r\n                         tooltip: classes.tooltip,\r\n                         arrow: classes.arrow\r\n                     }}>\r\n                <Button\r\n                    className={classes.button}\r\n                    startIcon={<LanguageIcon/>}\r\n                    endIcon={<ExpandMoreIcon/>}\r\n                    aria-controls=\"simple-menu\"\r\n                    aria-haspopup=\"true\"\r\n                    onClick={handleClick}\r\n                >\r\n                    {englishLabel}\r\n                </Button>\r\n            </Tooltip>\r\n            <Menu\r\n                id=\"simple-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n            >\r\n                <MenuItem onClick={handleCloseEng}\r\n                          selected={lang === 'eng'}\r\n                >\r\n                    English\r\n                </MenuItem>\r\n                <MenuItem onClick={handleCloseRus}\r\n                          selected={lang === 'rus'}\r\n                >\r\n                    Русский\r\n                </MenuItem>\r\n            </Menu>\r\n        </>\r\n    )\r\n};\r\nexport default HeaderLang;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        color: 'white',\r\n        marginRight: 50,\r\n        textTransform: 'none'\r\n    },\r\n    tooltip: {\r\n        backgroundColor: '#000'\r\n    },\r\n    arrow: {\r\n        color: '#000'\r\n    }\r\n})","import {BaseThunkType, GetActionsType} from \"../store\";\r\nimport {\r\n    BackgroundStyleColorType,\r\n    BackgroundStyleType, GradientStyleType,\r\n    MainSidebarItemEnum, ScaleModeType,\r\n    BackgroundTabIndexEnum,\r\n    SizeType,\r\n    AlignType, ImageTabIndexEnum, ImageType, ImageItemType\r\n} from \"../../Types/types\";\r\nimport {AppActionsType} from \"./app-reducer\";\r\nimport {WorkspaceActionsType} from \"./workspace-reducer\";\r\n\r\nconst initialState = {\r\n    size: { // размер баннера\r\n        width: null as null | number,\r\n        height: null as null | number,\r\n    },\r\n    mainSidebarItem: 0 as MainSidebarItemEnum, // пункт главной боковой панели\r\n    showSecondSidebar: true, // показать или скрыть вспомогательную боковую панель\r\n    secondarySidebarBackgroundTabIndex: 0 as BackgroundTabIndexEnum, // индекс активной вкладки на вспомогательной боковой панели 'Background'\r\n    backgroundStyle: 'color' as BackgroundStyleType,\r\n    useBorder: false, // есть ли рамка\r\n    borderColor: '#000', // цвет рамки\r\n    backgroundStyleColor: { // параметры монохромного заднего фона\r\n        color: '#fff'\r\n    } as BackgroundStyleColorType,\r\n    backgroundStyleGradient: { // параметры градиентного заднего фона\r\n        gradientStyle: 'horizontal' as GradientStyleType,\r\n        colorStart: '#000',\r\n        colorEnd: '#FFF'\r\n    },\r\n    backgroundStyleImage: {\r\n        images: [] as Array<ImageType>,\r\n        currentImage: null as null | ImageType,\r\n        scaleMode: 'Maintain aspect' as ScaleModeType,\r\n        align: 'center' as AlignType\r\n    },\r\n    imageTabIndex: 0 as ImageTabIndexEnum,\r\n    canvasUrl: { // урлы отрисованных канвасов для экспорта\r\n        background: null as null | string,\r\n        border: null as null | string,\r\n        text: null as null | string,\r\n    },\r\n    isLoading: false\r\n};\r\n//=================== REDUCER ===========================\r\nconst editorReducer = (state = initialState, action: EditorActionsType): InitialStateType => {\r\n        switch (action.type) {\r\n            case 'EDITOR/SET_SIZE': {\r\n                return {...state, size: action.size}\r\n            }\r\n            case 'EDITOR/SET_MAIN_SIDEBAR_ITEM': {\r\n                return {...state, mainSidebarItem: action.mainSidebarItem}\r\n            }\r\n            case 'EDITOR/SET_SHOW_SECOND_SIDEBAR': {\r\n                return {...state, showSecondSidebar: action.showSecondSidebar}\r\n            }\r\n            case 'EDITOR/SET_SECONDARY_SIDEBAR_BACKGROUND_TAB_INDEX': {\r\n                return {...state, secondarySidebarBackgroundTabIndex: action.secondarySidebarBackgroundTabIndex}\r\n            }\r\n            case 'EDITOR/SET_BACKGROUND_STYLE': {\r\n                return {...state, backgroundStyle: action.backgroundStyle}\r\n            }\r\n            case 'EDITOR/SET_BACKGROUND_STYLE_COLOR': {\r\n                return {...state, backgroundStyleColor: action.backgroundStyleColor}\r\n            }\r\n            case 'EDITOR/SET_USE_BORDER': {\r\n                return {...state, useBorder: action.useBorder}\r\n            }\r\n            case 'EDITOR/SET_BORDER_COLOR': {\r\n                return {...state, borderColor: action.borderColor}\r\n            }\r\n            case 'EDITOR/SET_GRADIENT_STYLE': {\r\n                return {\r\n                    ...state,\r\n                    backgroundStyleGradient: {\r\n                        ...state.backgroundStyleGradient,\r\n                        gradientStyle: action.gradientStyle\r\n                    }\r\n                }\r\n            }\r\n            case 'EDITOR/SET_COLOR_START': {\r\n                return {\r\n                    ...state,\r\n                    backgroundStyleGradient: {\r\n                        ...state.backgroundStyleGradient,\r\n                        colorStart: action.colorStart\r\n                    }\r\n                }\r\n            }\r\n            case 'EDITOR/SET_COLOR_END': {\r\n                return {\r\n                    ...state,\r\n                    backgroundStyleGradient: {\r\n                        ...state.backgroundStyleGradient,\r\n                        colorEnd: action.colorEnd\r\n                    }\r\n                }\r\n            }\r\n            case 'EDITOR/SET_REPLACE_COLOR': {\r\n                const colorStart = state.backgroundStyleGradient.colorStart;\r\n                const colorEnd = state.backgroundStyleGradient.colorEnd;\r\n                return {\r\n                    ...state,\r\n                    backgroundStyleGradient: {\r\n                        ...state.backgroundStyleGradient,\r\n                        colorEnd: colorStart,\r\n                        colorStart: colorEnd\r\n                    }\r\n                }\r\n            }\r\n            case 'EDITOR/ADD_IMAGE': { // добавить и установить текущим\r\n                if (state.backgroundStyleImage.images.find(//\r\n                    el => el.name === action.name\r\n                )) {\r\n                    return state\r\n                } else {\r\n                    const length = state.backgroundStyleImage.images.length\r\n                    const id = length === 0 ? 1 : state.backgroundStyleImage.images[length - 1].id + 1;\r\n                    return {\r\n                        ...state,\r\n                        backgroundStyleImage: {\r\n                            ...state.backgroundStyleImage,\r\n                            images: [\r\n                                ...state.backgroundStyleImage.images,\r\n                                {\r\n                                    id: id,\r\n                                    src: action.src,\r\n                                    name: action.name\r\n                                }\r\n                            ],\r\n                            currentImage: {\r\n                                id: id,\r\n                                src: action.src,\r\n                                name: action.name\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            case 'EDITOR/ADD_IMAGES': { // добавить и установить последний текущим\r\n                let stateImages = [...state.backgroundStyleImage.images];\r\n                for (let i = 0; i < action.images.length; i++) {\r\n                    if (stateImages.find(// если с таким именем уже есть\r\n                        el => el.name === action.images[i].name\r\n                    )) {\r\n                        //return state\r\n                    } else {// если с таким именем еще нет\r\n                        const id = stateImages.length === 0\r\n                            ? 1\r\n                            : stateImages[stateImages.length - 1].id + 1;\r\n                        stateImages = [\r\n                            ...stateImages,\r\n                            {\r\n                                id: id,\r\n                                src: action.images[i].src,\r\n                                name: action.images[i].name\r\n                            }\r\n                        ];\r\n                    }\r\n                }\r\n                return {\r\n                    ...state,\r\n                    backgroundStyleImage: {\r\n                        ...state.backgroundStyleImage,\r\n                        images: stateImages,\r\n                        currentImage: stateImages[stateImages.length - 1]\r\n                    }\r\n                }\r\n            }\r\n            case\r\n            'EDITOR/SET_CURRENT_IMAGE': {\r\n                const currentImage = state.backgroundStyleImage.images.find(el => el.id === action.id) as ImageType;\r\n                return {\r\n                    ...state,\r\n                    backgroundStyleImage: {\r\n                        ...state.backgroundStyleImage,\r\n                        currentImage: currentImage\r\n                    }\r\n                }\r\n            }\r\n            case 'EDITOR/SET_IMAGE_TAB_INDEX': {\r\n                return {...state, imageTabIndex: action.imageTabIndex}\r\n            }\r\n            case\r\n            'EDITOR/SET_SCALE_MODE': {\r\n                return {\r\n                    ...state,\r\n                    backgroundStyleImage: {\r\n                        ...state.backgroundStyleImage,\r\n                        scaleMode: action.scaleMode\r\n                    }\r\n                }\r\n            }\r\n            case\r\n            'EDITOR/SET_ALIGN': {\r\n                return {\r\n                    ...state,\r\n                    backgroundStyleImage: {\r\n                        ...state.backgroundStyleImage,\r\n                        align: action.align\r\n                    }\r\n                }\r\n            }\r\n            case\r\n            'EDITOR/SET_CANVAS_URL': {\r\n                return {\r\n                    ...state,\r\n                    canvasUrl: {\r\n                        ...state.canvasUrl,\r\n                        [action.layer]: action.url\r\n                    }\r\n                }\r\n            }\r\n            case\r\n            'EDITOR/SET_IS_LOADING': {\r\n                return {...state, isLoading: action.isLoading}\r\n            }\r\n            default:\r\n                return state;\r\n        }\r\n    }\r\n;\r\n\r\n//=================== ACTION-CREATORS =====================\r\nexport const editorAC = {\r\n    setSize: (size: SizeType) => ({type: 'EDITOR/SET_SIZE', size} as const),\r\n    setMainSidebarItem: (mainSidebarItem: MainSidebarItemEnum) => ({\r\n        type: 'EDITOR/SET_MAIN_SIDEBAR_ITEM',\r\n        mainSidebarItem\r\n    } as const),\r\n    setShowSecondSidebar: (showSecondSidebar: boolean) => ({\r\n        type: 'EDITOR/SET_SHOW_SECOND_SIDEBAR',\r\n        showSecondSidebar\r\n    } as const),\r\n    setSecondarySidebarBackgroundTabIndex: (secondarySidebarBackgroundTabIndex: BackgroundTabIndexEnum) => ({\r\n        type: 'EDITOR/SET_SECONDARY_SIDEBAR_BACKGROUND_TAB_INDEX',\r\n        secondarySidebarBackgroundTabIndex\r\n    } as const),\r\n    setBackgroundStyle: (backgroundStyle: BackgroundStyleType) => ({\r\n        type: 'EDITOR/SET_BACKGROUND_STYLE',\r\n        backgroundStyle\r\n    } as const),\r\n    setBackgroundStyleColor: (backgroundStyleColor: BackgroundStyleColorType) => ({\r\n        type: 'EDITOR/SET_BACKGROUND_STYLE_COLOR',\r\n        backgroundStyleColor\r\n    } as const),\r\n    setUseBorder: (useBorder: boolean) => ({type: 'EDITOR/SET_USE_BORDER', useBorder} as const),\r\n    setBorderColor: (borderColor: string) => ({type: 'EDITOR/SET_BORDER_COLOR', borderColor} as const),\r\n    setGradientStyle: (gradientStyle: GradientStyleType) => ({\r\n        type: 'EDITOR/SET_GRADIENT_STYLE',\r\n        gradientStyle\r\n    } as const),\r\n    setColorStart: (colorStart: string) => ({\r\n        type: 'EDITOR/SET_COLOR_START',\r\n        colorStart\r\n    } as const),\r\n    setColorEnd: (colorEnd: string) => ({\r\n        type: 'EDITOR/SET_COLOR_END',\r\n        colorEnd\r\n    } as const),\r\n    replaceColor: () => ({type: 'EDITOR/SET_REPLACE_COLOR'} as const),\r\n    addImage: (src: string, name: string) => ({type: 'EDITOR/ADD_IMAGE', src, name} as const),\r\n    addImages: (images: Array<ImageItemType>) => ({type: 'EDITOR/ADD_IMAGES', images} as const),\r\n    setImageTabIndex: (imageTabIndex: ImageTabIndexEnum) => ({\r\n        type: 'EDITOR/SET_IMAGE_TAB_INDEX',\r\n        imageTabIndex\r\n    } as const),\r\n    setScaleMode: (scaleMode: ScaleModeType) => ({type: 'EDITOR/SET_SCALE_MODE', scaleMode} as const),\r\n    setAlign: (align: AlignType) => ({type: 'EDITOR/SET_ALIGN', align} as const),\r\n    setCurrentImage: (id: number) => ({type: 'EDITOR/SET_CURRENT_IMAGE', id} as const),\r\n    setCanvasUrl: (layer: 'background' | 'border' | 'text', url: null | string) => ({\r\n        type: 'EDITOR/SET_CANVAS_URL',\r\n        layer,\r\n        url\r\n    } as const),\r\n    setIsLoading: (isLoading: boolean) => ({type: 'EDITOR/SET_IS_LOADING', isLoading} as const),\r\n};\r\nexport default editorReducer;\r\n\r\n//====================== THUNK-CREATORS =========================\r\nconst readUploadedFileAsUrl = (inputFile: File) => {\r\n    const reader = new FileReader();\r\n\r\n    return new Promise<null | string | ArrayBuffer>((resolve, reject) => {\r\n        reader.onerror = () => {\r\n            reader.abort();\r\n            reject(new DOMException(\"Problem parsing input file.\"));\r\n        };\r\n\r\n        reader.onload = () => {\r\n            resolve(reader.result);\r\n        };\r\n        reader.readAsDataURL(inputFile);\r\n    });\r\n};\r\n\r\n// export const loadImage = (file: File): ThunkType => async (dispatch) => {\r\n//     try {\r\n//         const src = await readUploadedFileAsUrl(file);\r\n//         const name = file.name;\r\n//\r\n//         if (typeof src === 'string') {\r\n//             dispatch(editorAC.addImage(src, name));\r\n//             dispatch(editorAC.setBackgroundStyle('image'));\r\n//         }\r\n//\r\n//     } catch (e) {\r\n//         console.log(e.message)\r\n//     }\r\n//\r\n// };\r\n\r\nexport const loadImages = (files: Array<File>): ThunkType => async (dispatch) => {\r\n    const images = [] as Array<ImageItemType>\r\n    for (let i = 0; i < files.length; i++) {\r\n        try {\r\n            const src = await readUploadedFileAsUrl(files[i]);\r\n            const name = files[i].name;\r\n            if (typeof src === 'string') {\r\n                //dispatch(editorAC.addImage(src, name));\r\n                images.push({src, name})\r\n                dispatch(editorAC.setBackgroundStyle('image'));\r\n            }\r\n        } catch (e) {\r\n            console.log(e.message)\r\n        }\r\n    }\r\n    dispatch(editorAC.addImages(images));\r\n\r\n};\r\n\r\n//============== TYPE ==================\r\nexport type InitialStateType = typeof initialState;\r\nexport type EditorActionsType = GetActionsType<typeof editorAC>;\r\ntype ThunkType = BaseThunkType<EditorActionsType | AppActionsType | WorkspaceActionsType>","import {DownloadCaseType, ZoomType} from \"../../Types/types\";\r\nimport {GetActionsType} from \"../store\";\r\n\r\nconst initialState = {\r\n    zoom: 100 as ZoomType, // масштаб рабочей области\r\n    downloadCase: 'PNG' as DownloadCaseType, // сохранить как\r\n    jpegQuality: 0.8, // качество jpeg изображения\r\n    refLeftPanel: null as null | React.MutableRefObject<null>,\r\n    isDownloadDialogOpen: false, // открыто или закрыто диалоговое окно сохранения баннера\r\n    fileName: 'my-banner',\r\n    fileNameFormIsValid: true,\r\n    link: 'test.com',\r\n    linkFormIsValid: true,\r\n};\r\n\r\n//=================== REDUCER ===========================\r\nconst workspaceReducer = (state = initialState, action: WorkspaceActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'BANNER_CREATOR/WORKSPACE/SET_ZOOM': {\r\n            return {...state, zoom: action.zoom}\r\n        }\r\n        case 'BANNER_CREATOR/WORKSPACE/SET_REF': {\r\n            return {...state, refLeftPanel: action.refLeftPanel}\r\n        }\r\n        case 'BANNER_CREATOR/WORKSPACE/SET_DOWNLOAD_CASE': {\r\n            return {...state, downloadCase: action.downloadCase}\r\n        }\r\n        case 'BANNER_CREATOR/WORKSPACE/SET_IS_DOWNLOAD_DIALOG_OPEN': {\r\n            return {...state, isDownloadDialogOpen: action.isDownloadDialogOpen}\r\n        }\r\n        case 'BANNER_CREATOR/WORKSPACE/SET_FILE_NAME': {\r\n            return {...state, fileName: action.fileName}\r\n        }\r\n        case 'BANNER_CREATOR/WORKSPACE/SET_LINK': {\r\n            return {...state, link: action.link}\r\n        }\r\n        case 'BANNER_CREATOR/WORKSPACE/SET_FILE_NAME_FORM_IS_VALID': {\r\n            return {...state, fileNameFormIsValid: action.fileNameFormIsValid}\r\n        }\r\n        case 'BANNER_CREATOR/WORKSPACE/SET_LINK_FORM_IS_VALID': {\r\n            return {...state, linkFormIsValid: action.linkFormIsValid}\r\n        }\r\n        case 'BANNER_CREATOR/WORKSPACE/SET_JPEG_QUALITY': {\r\n            return {...state, jpegQuality: action.jpegQuality}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport default workspaceReducer;\r\n\r\n//=================== ACTION-CREATORS =====================\r\nexport const workspaceAC = {\r\n    setZoom: (zoom: ZoomType) => ({type: 'BANNER_CREATOR/WORKSPACE/SET_ZOOM', zoom} as const),\r\n    setRefLeftPanel: (refLeftPanel: null | React.MutableRefObject<null>) => ({\r\n        type: 'BANNER_CREATOR/WORKSPACE/SET_REF',\r\n        refLeftPanel\r\n    } as const),\r\n    setDownloadCase: (downloadCase: DownloadCaseType) => ({\r\n        type: 'BANNER_CREATOR/WORKSPACE/SET_DOWNLOAD_CASE',\r\n        downloadCase\r\n    } as const),\r\n    setIsDownloadDialogOpen: (isDownloadDialogOpen: boolean) => ({\r\n        type: 'BANNER_CREATOR/WORKSPACE/SET_IS_DOWNLOAD_DIALOG_OPEN',\r\n        isDownloadDialogOpen\r\n    } as const),\r\n    setFileName: (fileName: string) => ({type: 'BANNER_CREATOR/WORKSPACE/SET_FILE_NAME', fileName} as const),\r\n    setFileNameFormIsValid: (fileNameFormIsValid: boolean) => ({type: 'BANNER_CREATOR/WORKSPACE/SET_FILE_NAME_FORM_IS_VALID', fileNameFormIsValid} as const),\r\n    setJpegQuality: (jpegQuality: number) => ({type: 'BANNER_CREATOR/WORKSPACE/SET_JPEG_QUALITY', jpegQuality} as const),\r\n    setLink: (link: string) => ({type: 'BANNER_CREATOR/WORKSPACE/SET_LINK', link} as const),\r\n    setLinkFormIsValid: (linkFormIsValid: boolean) => ({type: 'BANNER_CREATOR/WORKSPACE/SET_LINK_FORM_IS_VALID', linkFormIsValid} as const),\r\n};\r\n\r\n//============== TYPE ==================\r\nexport type InitialStateType = typeof initialState;\r\nexport type WorkspaceActionsType = GetActionsType<typeof workspaceAC>;","import {elementType, TextType} from \"../../Types/types\";\r\nimport {GetActionsType} from \"../store\";\r\nimport {XYCoord} from \"react-dnd\";\r\n\r\n\r\nconst initialState = {\r\n    texts: [] as Array<TextType>,\r\n    selectedTextId: null as null | number, // id выделенного текста\r\n    showAlarm: false // показывать сообщение о предельно допустимом количестве строк текста\r\n};\r\n\r\n//=================== REDUCER ===========================\r\nconst textReducer = (state = initialState, action: textActionsType): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'BANNER_CREATOR/TEXT/ADD_TEXT': {\r\n            if (state.texts.length < 3) {\r\n                const id = state.texts.length ? state.texts[state.texts.length - 1].id + 1 : 1;\r\n                const content = action.element === 'header' ? 'Header' : action.element === 'subheader' ? 'Subheader' : 'Body text';\r\n                const fontSize = action.element === 'header' ? 32 : action.element === 'subheader' ? 24 : 16;\r\n                const top = action.element === 'header' ? 10 : action.element === 'subheader' ? 52 : 86;\r\n                return {\r\n                    ...state,\r\n                    texts: [\r\n                        ...state.texts,\r\n                        {\r\n                            id: id,\r\n                            content: content,\r\n                            position: {\r\n                                top: top,\r\n                                left: 10\r\n                            },\r\n                            fontSize: fontSize,\r\n                            fontStyle: 'normal',\r\n                            fontFamily: 'arial',\r\n                            color: '#000',\r\n                            lowerCase: false,\r\n                            upperCase: false,\r\n                            hover: false,\r\n                            selected: false,\r\n                            editParameters: false,\r\n                            editText: false,\r\n                        }\r\n                    ]\r\n                }\r\n            } else {\r\n                return {...state, showAlarm: true}\r\n            }\r\n\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_HOVER': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                hover: action.hover\r\n                            })\r\n                        }\r\n\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_SELECTED': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                selected: action.selected\r\n                            })\r\n                        }\r\n\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_EDIT_PARAMETERS': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                editParameters: action.editParameters\r\n                            })\r\n                        }\r\n\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_EDIT_TEXT': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                editText: action.editText\r\n                            })\r\n                        }\r\n\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_FONT_SIZE': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                fontSize: action.fontSize\r\n                            })\r\n                        }\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_FONT_STYLE': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                fontStyle: action.fontStyle\r\n                            })\r\n                        }\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_POSITION': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                position: {\r\n                                    top: el.position.top + action.difference.y,\r\n                                    left: el.position.left + action.difference.x\r\n                                }\r\n                            })\r\n                        }\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_COLOR': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                color: action.color\r\n                            })\r\n                        }\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_LOWER_CASE': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                lowerCase: action.lowerCase\r\n                            })\r\n                        }\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_UPPER_CASE': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                upperCase: action.upperCase\r\n                            })\r\n                        }\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_CONTENT': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.map(\r\n                    el => {\r\n                        if (el.id !== action.id) {\r\n                            return el\r\n                        } else {\r\n                            return ({\r\n                                ...el,\r\n                                content: action.content\r\n                            })\r\n                        }\r\n                    }\r\n                )\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_SELECTED_TEXT_ID': {\r\n            return {\r\n                ...state, selectedTextId: action.selectedTextId\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/REMOVE_TEXT': {\r\n            return {\r\n                ...state,\r\n                texts: state.texts.filter(el => el.id !== action.id)\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/REMOVE_TEXT_ALL': {\r\n            return {\r\n                ...state, texts: []\r\n            }\r\n        }\r\n        case 'BANNER_CREATOR/TEXT/SET_SHOW_ALARM': {\r\n            return {...state, showAlarm: action.showAlarm}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport default textReducer;\r\n\r\n//=================== ACTION-CREATORS =====================\r\nexport const textAC = {\r\n    addText: (element: elementType) => ({type: 'BANNER_CREATOR/TEXT/ADD_TEXT', element} as const),\r\n    removeText: (id: number) => ({type: 'BANNER_CREATOR/TEXT/REMOVE_TEXT', id} as const),\r\n    removeTextAll: () => ({type: 'BANNER_CREATOR/TEXT/REMOVE_TEXT_ALL'} as const),\r\n    setHover: (id: number, hover: boolean) => ({type: 'BANNER_CREATOR/TEXT/SET_HOVER', id, hover} as const),\r\n    setSelected: (id: number, selected: boolean) => ({type: 'BANNER_CREATOR/TEXT/SET_SELECTED', id, selected} as const),\r\n    setFontSize: (id: number, fontSize: number) => ({type: 'BANNER_CREATOR/TEXT/SET_FONT_SIZE', id, fontSize} as const),\r\n    setFontStyle: (id: number, fontStyle: 'normal' | 'italic') => ({type: 'BANNER_CREATOR/TEXT/SET_FONT_STYLE', id, fontStyle} as const),\r\n    setLowerCase: (id: number, lowerCase: boolean) => ({type: 'BANNER_CREATOR/TEXT/SET_LOWER_CASE', id, lowerCase} as const),\r\n    setUpperCase: (id: number, upperCase: boolean) => ({type: 'BANNER_CREATOR/TEXT/SET_UPPER_CASE', id, upperCase} as const),\r\n    setPosition: (id: number, difference: XYCoord) => ({type: 'BANNER_CREATOR/TEXT/SET_POSITION', id, difference} as const),\r\n    setColor: (id: number, color: string) => ({type: 'BANNER_CREATOR/TEXT/SET_COLOR', id, color} as const),\r\n    setContent: (id: number, content: string) => ({type: 'BANNER_CREATOR/TEXT/SET_CONTENT', id, content} as const),\r\n    setEditParameters: (id: number, editParameters: boolean) => ({type: 'BANNER_CREATOR/TEXT/SET_EDIT_PARAMETERS', id, editParameters} as const),\r\n    setEditText: (id: number, editText: boolean) => ({type: 'BANNER_CREATOR/TEXT/SET_EDIT_TEXT', id, editText} as const),\r\n    setSelectedTextId: (selectedTextId: number) => ({type: 'BANNER_CREATOR/TEXT/SET_SELECTED_TEXT_ID', selectedTextId} as const),\r\n    setShowAlarm: (showAlarm: boolean) => ({type: 'BANNER_CREATOR/TEXT/SET_SHOW_ALARM', showAlarm} as const),\r\n};\r\n\r\n//============== TYPE ==================\r\nexport type InitialStateType = typeof initialState;\r\nexport type textActionsType = GetActionsType<typeof textAC>;","import React, {ReactElement} from 'react';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport HeaderLang from \"./HeaderLang\";\r\nimport {translate} from \"../../Utils/lang\";\r\nimport {getLang} from \"../../Store/selectors/app-selectors\";\r\nimport brown from \"@material-ui/core/colors/brown\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport {Link as RouterLink} from 'react-router-dom';\r\nimport {Button} from \"@material-ui/core\";\r\nimport {editorAC} from \"../../Store/reducers/editor-reducer\";\r\nimport {workspaceAC} from \"../../Store/reducers/workspace-reducer\";\r\nimport {textAC} from \"../../Store/reducers/text-reducer\";\r\n\r\n//================= CUSTOM HOOK =========================\r\nconst useHeader = () => {\r\n    const classes = useStyles();\r\n    const lang = useSelector(getLang);\r\n    const logo = translate(lang, 'Banner creator');\r\n    const createNewLabel = translate(lang, 'Create new');\r\n    const dispatch = useDispatch();\r\n    const onCreateNewHandler = () => {\r\n        dispatch(editorAC.setSize({\r\n            width: null,\r\n            height: null\r\n        }));\r\n        dispatch(editorAC.setBackgroundStyle('color'));\r\n        dispatch(editorAC.setBackgroundStyleColor({color: '#FFF'}));\r\n        dispatch(editorAC.setUseBorder(false));\r\n        dispatch(workspaceAC.setZoom(100));\r\n        dispatch(textAC.removeTextAll());\r\n        dispatch(editorAC.setMainSidebarItem(0));\r\n        dispatch(editorAC.setSecondarySidebarBackgroundTabIndex(0));\r\n        dispatch(editorAC.setImageTabIndex(0));\r\n        dispatch(editorAC.setBorderColor('#000'));\r\n    };\r\n    return {\r\n        classes, logo, createNewLabel, onCreateNewHandler\r\n    }\r\n};\r\n\r\n//======================= COMPONENT ===============================\r\nconst Header: React.FC<{}> = (): ReactElement => {\r\n    const {\r\n        classes, logo, createNewLabel, onCreateNewHandler\r\n    } = useHeader();\r\n\r\n    return (\r\n        <Toolbar className={classes.header}>\r\n            <Typography variant=\"h6\" noWrap className={classes.logo}>\r\n                {logo}\r\n            </Typography>\r\n            <HeaderLang/>\r\n            <Button color=\"inherit\"\r\n                    variant='contained'\r\n                    startIcon={<AddIcon/>}\r\n                    className={classes.button}\r\n                    onClick={onCreateNewHandler}\r\n                    component={RouterLink}\r\n                    to='/'>\r\n                {createNewLabel}\r\n            </Button>\r\n        </Toolbar>\r\n    );\r\n};\r\nexport default Header;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    header: {\r\n        backgroundColor: brown[900],\r\n        height: 64,\r\n        //zIndex: 100,\r\n        //maxWidth: 1000,\r\n        width: '100%',\r\n        //height: '100%',\r\n\r\n        boxSizing: 'border-box',\r\n        padding: '0 10px',\r\n    },\r\n    logo: {\r\n        flexGrow: 1,\r\n        color: 'white'\r\n    },\r\n    button: {\r\n        textTransform: 'none'\r\n    },\r\n});\r\n\r\n\r\n","import React, {ReactElement} from \"react\";\r\nimport {Typography} from \"@material-ui/core\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getLang} from \"../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../Utils/lang\";\r\n\r\n//================= CUSTOM HOOK =========================\r\nconst usePageNotFound = () => {\r\n    const lang = useSelector(getLang);\r\n    const pageNotFoundLabel = translate(lang, 'Page not found')\r\n    return {pageNotFoundLabel}\r\n};\r\n\r\n//======================= COMPONENT ===============================\r\nconst PageNotFound: React.FC<{}> = (): ReactElement => {\r\n    const {pageNotFoundLabel} = usePageNotFound();\r\n\r\n    return (\r\n        <Typography align='center'\r\n                    color='secondary'\r\n                    variant='h6'>\r\n            {pageNotFoundLabel}\r\n        </Typography>\r\n    )\r\n\r\n};\r\nexport default PageNotFound;\r\n\r\n\r\n","import React from \"react\";\r\nimport {ReactElement} from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport indigo from \"@material-ui/core/colors/indigo\";\r\n\r\n//================= COMPONENTS ========================\r\nconst CreateNewItemGraph: React.FC<PropsType> = (props): ReactElement => {\r\n    const {width, height} = props;\r\n    let w = 130;\r\n    let h = height * w / width;\r\n    if (h > 68) {\r\n        h = 68;\r\n        w = h * width / height;\r\n    }\r\n    const useStyles = makeStyles({\r\n        graph: {\r\n            width: w,\r\n            height: h,\r\n            border: '3px solid darkblue',\r\n            boxSizing: 'border-box',\r\n            backgroundColor: indigo[400]\r\n        },\r\n    });\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <div className={classes.graph}/>\r\n    )\r\n};\r\nexport default CreateNewItemGraph;\r\n\r\n//============== TYPE ====================\r\ntype PropsType = {\r\n    width: number\r\n    height: number\r\n}","import React from \"react\";\r\nimport {Card} from \"@material-ui/core\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Link as RouterLink} from \"react-router-dom\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {editorAC} from \"../../../Store/reducers/editor-reducer\";\r\nimport CreateNewItemGraph from \"./CreateNewItemGraph\";\r\nimport grey from \"@material-ui/core/colors/grey\";\r\nimport {appAC} from \"../../../Store/reducers/app-reducer\";\r\n\r\n//================= CUSTOM HOOK =========================\r\nconst useCreateNewItem = (width: number, height: number) => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = () => {\r\n        dispatch(editorAC.setSize({width, height}));\r\n        dispatch(appAC.setIsCreated(true));\r\n    };\r\n    return {\r\n        classes, onClickHandler\r\n    }\r\n};\r\n\r\n//======================= COMPONENT ===============================\r\nconst CreateNewItem: React.FC<PropsType> = (props) => {\r\n    const {sizeLabel, width, height} = props;\r\n    const {\r\n        classes, onClickHandler\r\n    } = useCreateNewItem(width, height);\r\n\r\n    return (\r\n        <Card className={classes.root} elevation={6}>\r\n            <CardActionArea component={RouterLink}\r\n                            className={classes.cardActionArea}\r\n                            onClick={onClickHandler}\r\n                            to='/editor'>\r\n                <CardContent className={classes.cardContent}>\r\n                    <div className={classes.graph}>\r\n                        <CreateNewItemGraph width={width} height={height}/>\r\n                    </div>\r\n                    <div className={classes.description}>\r\n                        <Typography gutterBottom variant=\"subtitle2\" component=\"h6\" align='center'>\r\n                            {sizeLabel}\r\n                        </Typography>\r\n                        <Typography gutterBottom variant=\"body2\" component=\"h6\" align='center'>\r\n                            {`${width} x ${height} px`}\r\n                        </Typography>\r\n                    </div>\r\n                </CardContent>\r\n            </CardActionArea>\r\n        </Card>\r\n    )\r\n};\r\nexport default CreateNewItem;\r\n\r\n//=================== TYPE ==============\r\ntype PropsType = {\r\n    sizeLabel: string\r\n    width: number\r\n    height: number\r\n}\r\n\r\n//================= STYLES ================\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        width: 150,\r\n        height: 150,\r\n        margin: 5,\r\n        '&:hover': {\r\n            backgroundColor: grey[200]\r\n        }\r\n    },\r\n    cardActionArea: {\r\n        height: '100%'\r\n    },\r\n    cardContent: {\r\n        padding: 0,\r\n        '&:last-child': {\r\n            //paddingBottom: 5\r\n        },\r\n        height: '100%',\r\n        display: 'flex',\r\n        flexDirection: 'column'\r\n    },\r\n    graph: {\r\n        flexGrow: 1,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n    },\r\n    description: {\r\n        padding: 5,\r\n    }\r\n});","import {OutlinedInputProps, TextField} from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\n\r\nconst RenderTextField: React.FC<PropsType> = (props) => {\r\n    const {icon, label, input, meta: {touched, invalid, error}, classes, ...custom} = props;\r\n    const styles = useStyles();\r\n\r\n    return (\r\n        <div className={styles.root}>\r\n            {icon &&\r\n            <div className={styles.iconLeft}>\r\n                {icon}\r\n            </div>}\r\n            <TextField\r\n                InputProps={classes ? {classes} as Partial<OutlinedInputProps> : null}\r\n                variant=\"outlined\"\r\n                label={label}\r\n                placeholder={label}\r\n                error={touched && invalid}\r\n                helperText={touched && error}\r\n                {...input}\r\n                {...custom}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default RenderTextField;\r\n\r\n//======================= TYPES =====================\r\ntype PropsType = {\r\n    icon: React.ReactElement\r\n    label: string\r\n    input: any\r\n    meta: {\r\n        touched: boolean\r\n        invalid: boolean\r\n        error: string\r\n    }\r\n    classes?: any\r\n}\r\n//========================= STYLES ===================\r\nconst useStyles = makeStyles({\r\n        root: {\r\n            position: 'relative',\r\n            width: '100%',\r\n            '& .MuiFormLabel-root': {\r\n                backgroundColor: 'white',\r\n            }\r\n        },\r\n        label: {\r\n            backgroundColor: 'white'\r\n        },\r\n        iconLeft: {\r\n            position: 'absolute',\r\n            left: -5,\r\n            top: '50%',\r\n            transform: 'translate(-100%, -50%)'\r\n        }\r\n    }\r\n);\r\n\r\n\r\n","import {StateType} from \"../store\";\r\nexport const getSize = (state: StateType) => state.editor.size;\r\nexport const getMainSidebarItem = (state: StateType) => state.editor.mainSidebarItem;\r\nexport const getShowSecondSidebar = (state: StateType) => state.editor.showSecondSidebar;\r\nexport const getSecondarySidebarBackgroundTabIndex = (state: StateType) => state.editor.secondarySidebarBackgroundTabIndex;\r\nexport const getBackgroundStyle = (state: StateType) => state.editor.backgroundStyle;\r\nexport const getBackgroundStyleColor = (state: StateType) => state.editor.backgroundStyleColor;\r\nexport const getUseBorder = (state: StateType) => state.editor.useBorder;\r\nexport const getBorderColor = (state: StateType) => state.editor.borderColor;\r\nexport const getGradientStyle = (state: StateType) => state.editor.backgroundStyleGradient.gradientStyle;\r\nexport const getColorStart = (state: StateType) => state.editor.backgroundStyleGradient.colorStart;\r\nexport const getColorEnd = (state: StateType) => state.editor.backgroundStyleGradient.colorEnd;\r\nexport const getImageTabIndex = (state: StateType) => state.editor.imageTabIndex;\r\nexport const getImages = (state: StateType) => state.editor.backgroundStyleImage.images;\r\nexport const getCurrentImage = (state: StateType) => state.editor.backgroundStyleImage.currentImage;\r\nexport const getScaleMode = (state: StateType) => state.editor.backgroundStyleImage.scaleMode;\r\nexport const getAlign = (state: StateType) => state.editor.backgroundStyleImage.align;\r\nexport const getCanvasUrl = (state: StateType) => state.editor.canvasUrl;\r\nexport const getIsLoading = (state: StateType) => state.editor.isLoading;","import React, {ReactElement, useState} from \"react\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport {Link as RouterLink} from \"react-router-dom\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {Card} from \"@material-ui/core\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getLang} from \"../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../Utils/lang\";\r\nimport {reduxForm, Field, InjectedFormProps, submit} from \"redux-form\";\r\nimport RenderTextField from \"../../common/RenderTextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {editorAC} from \"../../../Store/reducers/editor-reducer\";\r\nimport {getSize} from \"../../../Store/selectors/editor-selectors\";\r\nimport {appAC} from \"../../../Store/reducers/app-reducer\";\r\n\r\n//================= CUSTOM HOOK =========================\r\nconst useForm = () => {\r\n    const lang = useSelector(getLang);\r\n    const dispatch = useDispatch();\r\n    const onChangeHandler = () => {\r\n        setTimeout(() => dispatch(submit('size')));\r\n    };\r\n    const widthLabel = translate(lang, 'Width');\r\n    const heightLabel = translate(lang, 'Height');\r\n    const classes = useStylesForm();\r\n    const parseHandler = (value: string) => {\r\n        return value.replace(/\\D/ig, '')\r\n    };\r\n    return {\r\n        onChangeHandler, widthLabel, heightLabel,\r\n        classes, parseHandler\r\n    }\r\n}\r\n\r\n//========================== FORM =======================================\r\nconst Form: React.FC<FormPropsType> = ({handleSubmit}) => {\r\n    const {\r\n        onChangeHandler, widthLabel, heightLabel,\r\n        classes, parseHandler\r\n    } = useForm();\r\n    return (\r\n        <form onSubmit={handleSubmit}\r\n              className={classes.form}\r\n        >\r\n            <div>\r\n                <Field name='width'\r\n                       className={classes.field1}\r\n                       component={RenderTextField}\r\n                       parse={parseHandler}\r\n                       label={widthLabel}\r\n                       size='small'\r\n                       onChange={onChangeHandler}\r\n                />\r\n                <Field name='height'\r\n                       className={classes.field2}\r\n                       component={RenderTextField}\r\n                       label={heightLabel}\r\n                       size='small'\r\n                       onChange={onChangeHandler}\r\n                />\r\n            </div>\r\n        </form>\r\n    )\r\n};\r\n\r\n//================================== REDUX-FORM ======================================\r\nconst ReduxForm = reduxForm<FormParamsType, FormOwnPropsType>({\r\n    form: 'size',\r\n})(Form);\r\n\r\n//======================== CUSTOM HOOK =========================\r\nconst useCreateNewCustom = () => {\r\n    const classes = useStyles();\r\n    const [viewForm, setViewForm] = useState(false);\r\n    const onClickHandler = () => {\r\n        setViewForm(true);\r\n    };\r\n    const dispatch = useDispatch();\r\n    const onSubmitHandler = (value: FormParamsType) => {\r\n        dispatch(editorAC.setSize({\r\n            width: +value.width,\r\n            height: +value.height\r\n        }));\r\n        dispatch(appAC.setIsCreated(true));\r\n    };\r\n    const lang = useSelector(getLang);\r\n    const buttonLabel = translate(lang, 'Create');\r\n    const customSizeLabel = translate(lang, 'Custom Size');\r\n    const size = useSelector(getSize);\r\n    const disabled = !(size && size.width && size.height)\r\n    return {\r\n        classes, viewForm, onClickHandler, disabled,\r\n        onSubmitHandler, buttonLabel, customSizeLabel\r\n    }\r\n};\r\n\r\n//========================= COMPONENT =======================\r\nconst CreateNewCustom: React.FC<{}> = (): ReactElement => {\r\n    const {\r\n        classes, viewForm, onClickHandler, disabled,\r\n        onSubmitHandler, buttonLabel, customSizeLabel\r\n    } = useCreateNewCustom();\r\n\r\n    return (\r\n        <Card className={classes.root} elevation={6}>\r\n            {\r\n                !viewForm\r\n                    ? <CardActionArea\r\n                        className={classes.cardActionArea}\r\n                        component='button'\r\n                        onClick={onClickHandler}\r\n                    >\r\n                        <div className={classes.graph}>\r\n                            <AddIcon className={classes.icon}/>\r\n                        </div>\r\n                        <div className={classes.description}>\r\n                            <Typography gutterBottom variant=\"subtitle2\" component=\"h6\" align='center'>\r\n                                {customSizeLabel}\r\n                            </Typography>\r\n                        </div>\r\n                    </CardActionArea>\r\n                    : <div className={classes.formWrapper}>\r\n                        <ReduxForm onSubmit={onSubmitHandler}/>\r\n                        <div className={classes.buttonWrapper}>\r\n                            <Button className={classes.button}\r\n                                    disabled={disabled}\r\n                                    component={RouterLink}\r\n                                    to='/editor'\r\n                                    variant='contained'\r\n                                    color='primary'\r\n                                    size='small'\r\n                                    fullWidth\r\n                            >\r\n                                {buttonLabel}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n            }\r\n        </Card>\r\n    )\r\n};\r\nexport default CreateNewCustom;\r\n\r\n//=================== TYPE ==============\r\ntype FormPropsType =\r\n    InjectedFormProps<FormParamsType, FormOwnPropsType>\r\n    & FormOwnPropsType;\r\ntype FormParamsType = {\r\n    width: string\r\n    height: string\r\n}\r\ntype FormOwnPropsType = {};\r\n\r\n//================= STYLES ================\r\nconst useStylesForm = makeStyles({\r\n    field1: {\r\n        backgroundColor: 'white',\r\n        marginBottom: 10,\r\n    },\r\n    field2: {\r\n        backgroundColor: 'white',\r\n    },\r\n    form: {\r\n        padding: '10px 10px 0 10px',\r\n    }\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        width: 150,\r\n        height: 150,\r\n        margin: 5,\r\n    },\r\n    cardActionArea: {\r\n        height: '100%',\r\n        //display: 'flex',\r\n        //flexDirection: 'column',\r\n        //justifyContent: 'flex-end',\r\n        position: 'relative'\r\n    },\r\n    icon: {\r\n        transform: 'scale(3)'\r\n    },\r\n    graph: {\r\n        width: '100%',\r\n        //flexGrow: 1,\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        height: 110\r\n    },\r\n    description: {\r\n        padding: 5,\r\n        height: 40,\r\n        position: 'absolute',\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0\r\n    },\r\n    formWrapper: {\r\n        height: '100%',\r\n        display: 'flex',\r\n        flexDirection: 'column'\r\n    },\r\n    buttonWrapper: {\r\n        flexGrow: 1,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        padding: '0 10px'\r\n    },\r\n    button: {\r\n        textTransform: 'none'\r\n    }\r\n});","import React, {ReactElement} from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport CreateNewItem from \"./CreateNewItem\";\r\nimport CreateNewCustom from \"./CreateNewCustom\";\r\n\r\n//================= CUSTOM HOOK =========================\r\nconst useCreateNew = () => {\r\n    const classes = useStyles();\r\n    return {\r\n        classes,\r\n    }\r\n};\r\n\r\n//======================= COMPONENT ===============================\r\nconst CreateNew: React.FC<{}> = (): ReactElement => {\r\n    const {classes} = useCreateNew();\r\n\r\n    const sizes = [\r\n        {\r\n            label: 'Large Rectangle',\r\n            width: 336,\r\n            height: 280\r\n        },\r\n        {\r\n            label: 'Medium Rectangle',\r\n            width: 300,\r\n            height: 250\r\n        },\r\n        {\r\n            label: 'Leaderboard',\r\n            width: 728,\r\n            height: 90\r\n        },\r\n        {\r\n            label: 'Large Mobile',\r\n            width: 320,\r\n            height: 100\r\n        },\r\n        {\r\n            label: 'Main Banner',\r\n            width: 468,\r\n            height: 60\r\n        },\r\n        {\r\n            label: 'Half Page',\r\n            width: 300,\r\n            height: 600\r\n        },\r\n        {\r\n            label: 'Square',\r\n            width: 250,\r\n            height: 250\r\n        },\r\n        {\r\n            label: 'Half Banner',\r\n            width: 234,\r\n            height: 60\r\n        },\r\n        {\r\n            label: 'Vertical Banner',\r\n            width: 120,\r\n            height: 240\r\n        },\r\n        {\r\n            label: 'Small Rectangle',\r\n            width: 180,\r\n            height: 150\r\n        },\r\n        {\r\n            label: 'Mobile Banner',\r\n            width: 300,\r\n            height: 50\r\n        },\r\n    ];\r\n    const CreateNewElements = sizes.map(\r\n        (el, index) => <CreateNewItem key={index}\r\n                                      sizeLabel={el.label}\r\n                                      width={el.width}\r\n                                      height={el.height}\r\n        />\r\n    );\r\n\r\n    return (\r\n        <div className={classes.createNew}>\r\n            <div className={classes.wrapper}>\r\n                <CreateNewCustom/>\r\n                {CreateNewElements}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default CreateNew\r\n\r\n//================= STYLES ================\r\nconst useStyles = makeStyles({\r\n    createNew: {\r\n        maxWidth: 1000,\r\n        width: '100%',\r\n        margin: '0 auto',\r\n        height: 'calc(100vh - 64px)',\r\n        padding: 10\r\n    },\r\n    wrapper: {\r\n        maxHeight: '100%',\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'center'\r\n    }\r\n});","import React, {ReactElement} from \"react\";\r\nimport ViewComfyIcon from '@material-ui/icons/ViewComfy';\r\nimport TextFieldsSharpIcon from '@material-ui/icons/TextFieldsSharp';\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {Theme} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getLang} from \"../../../../Store/selectors/app-selectors\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport {getMainSidebarItem} from \"../../../../Store/selectors/editor-selectors\";\r\nimport {editorAC} from \"../../../../Store/reducers/editor-reducer\";\r\nimport {translate} from \"../../../../Utils/lang\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport brown from \"@material-ui/core/colors/brown\";\r\nimport grey from \"@material-ui/core/colors/grey\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useMainSidebar = () => {\r\n    const classes = useStyles();\r\n    const lang = useSelector(getLang);\r\n    const labels = [];\r\n    labels[0] = translate(lang, 'Background');\r\n    labels[1] = translate(lang, 'Text');\r\n    const mainSidebarItem = useSelector(getMainSidebarItem);\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = () => {\r\n        dispatch(editorAC.setShowSecondSidebar(true))\r\n    };\r\n    const changeHandler = (event: React.ChangeEvent<{}>, newValue: number) => {\r\n        dispatch(editorAC.setMainSidebarItem(newValue));\r\n    };\r\n    return {\r\n        classes, mainSidebarItem, onClickHandler,\r\n        changeHandler, labels\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst MainSidebar: React.FC<{}> = (): ReactElement => {\r\n    const {\r\n        classes, mainSidebarItem, onClickHandler,\r\n        changeHandler, labels\r\n    } = useMainSidebar();\r\n    const icons = [\r\n        <ViewComfyIcon/>,\r\n        <TextFieldsSharpIcon/>\r\n    ];\r\n\r\n    return (\r\n        <Tabs\r\n            classes={{\r\n                indicator: classes.indicator\r\n            }}\r\n            orientation=\"vertical\"\r\n            value={mainSidebarItem}\r\n            onChange={changeHandler}\r\n        >\r\n            <Tab\r\n                label={labels[0]}\r\n                onClick={onClickHandler}\r\n                icon={icons[0]}\r\n                classes={{\r\n                    wrapper: classes.wrapper,\r\n                    selected: classes.selected,\r\n                    root: classes.tabRoot,\r\n                    labelIcon: classes.labelIcon\r\n                }}/>\r\n            <Tab label={labels[1]}\r\n                 onClick={onClickHandler}\r\n                 icon={icons[1]}\r\n                 classes={{\r\n                     wrapper: classes.wrapper,\r\n                     selected: classes.selected,\r\n                     root: classes.tabRoot,\r\n                     labelIcon: classes.labelIcon\r\n                 }}/>\r\n        </Tabs>\r\n    )\r\n};\r\nexport default MainSidebar;\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    cardContent: {\r\n        paddingLeft: 5,\r\n        paddingTop: 5,\r\n        paddingRight: 5,\r\n        '&:last-child': {\r\n            paddingBottom: 5\r\n        }\r\n    },\r\n    indicator: {\r\n        width: 3,\r\n        left: 'auto',\r\n        right: 0,\r\n        backgroundColor: 'white'\r\n    },\r\n    wrapper: {\r\n        fontSize: 12,\r\n        textTransform: 'none',\r\n        '& > *:first-child': {\r\n            marginBottom: '0!important'\r\n        }\r\n    },\r\n    selected: {\r\n        color: grey[50],\r\n        backgroundColor: brown[600]\r\n    },\r\n    tabRoot: {\r\n        padding: 0,\r\n        marginLeft: 0,\r\n        color: 'white',\r\n        maxWidth: '100%',\r\n        minWidth: '100%',\r\n    },\r\n    labelIcon: {\r\n        minHeight: 50,\r\n    }\r\n}));","export const mainSidebarWidth = 80;\r\nexport const secondSidebarWidth = 250;\r\nexport const editorToolbarHeight = 50;","import ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getLang} from \"../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../Utils/lang\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport React from \"react\";\r\nimport {IconButton} from \"@material-ui/core\";\r\nimport {getShowSecondSidebar} from \"../../../../Store/selectors/editor-selectors\";\r\nimport {editorAC} from \"../../../../Store/reducers/editor-reducer\";\r\n\r\n//================= CUSTOM HOOK =====================\r\nconst useSecondarySidebarTitle = (title: string) => {\r\n    const classes = useStyles();\r\n    const lang = useSelector(getLang);\r\n    const dispatch = useDispatch();\r\n    const showSecondSidebar = useSelector(getShowSecondSidebar);\r\n    const titleLabel = translate(lang, title);\r\n    const onClickHandler = () => {\r\n        dispatch(editorAC.setShowSecondSidebar(!showSecondSidebar));\r\n    };\r\n    return {\r\n        classes, titleLabel, onClickHandler\r\n    }\r\n};\r\n\r\n//================= COMPONENT ======================\r\nconst SecondarySidebarTitle: React.FC<PropsType> = ({title})  => {\r\n    const {\r\n        classes, titleLabel, onClickHandler\r\n    } = useSecondarySidebarTitle(title);\r\n\r\n    return (\r\n        <div className={classes.title}>\r\n            <Typography variant='h6'\r\n                        className={classes.typography}\r\n            >\r\n                {titleLabel}\r\n            </Typography>\r\n            <IconButton onClick={onClickHandler}\r\n                        className={classes.icon}\r\n                        size='small'\r\n            >\r\n                <ArrowBackIcon />\r\n            </IconButton>\r\n        </div>\r\n    )\r\n};\r\nexport default SecondarySidebarTitle;\r\n\r\n//============= TYPE ===============\r\ntype PropsType = {\r\n    title: string\r\n};\r\n\r\n//============ STYLES =================\r\nconst useStyles = makeStyles({\r\n    title: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        paddingLeft: 10\r\n    },\r\n    typography: {\r\n        color: 'white'\r\n    },\r\n    icon: {\r\n        color: 'white'\r\n    }\r\n});","import {Tabs, Theme} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getSecondarySidebarBackgroundTabIndex} from \"../../../../../Store/selectors/editor-selectors\";\r\nimport React from \"react\";\r\nimport {editorAC} from \"../../../../../Store/reducers/editor-reducer\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {getLang} from \"../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../Utils/lang\";\r\n\r\n//====================== CUSTOM HOOK ====================\r\nconst useSecondarySidebarBackgroundTabs = () => {\r\n    const secondarySidebarBackgroundTabIndex = useSelector(getSecondarySidebarBackgroundTabIndex)\r\n    const dispatch = useDispatch();\r\n    const onChangeHandler = (event: React.ChangeEvent<{}>, newValue: number) => {\r\n        dispatch(editorAC.setSecondarySidebarBackgroundTabIndex(newValue))\r\n    };\r\n    const lang = useSelector(getLang);\r\n    const labels = [];\r\n    labels[0] = translate(lang, 'Color');\r\n    labels[1] = translate(lang, 'Gradient');\r\n    labels[2] = translate(lang, 'Image');\r\n    const classes = useStyles();\r\n    return {\r\n        secondarySidebarBackgroundTabIndex,\r\n        onChangeHandler, classes, labels\r\n    }\r\n}\r\n\r\n//======================= COMPONENT ====================\r\nconst BackgroundTabs: React.FC<{}> = () => {\r\n    const {\r\n        secondarySidebarBackgroundTabIndex,\r\n        onChangeHandler, classes, labels\r\n    } = useSecondarySidebarBackgroundTabs()\r\n    return (\r\n        <Tabs\r\n            value={secondarySidebarBackgroundTabIndex}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            onChange={onChangeHandler}\r\n            classes={{\r\n                indicator: classes.indicator\r\n            }}\r\n            className={classes.tabs}\r\n        >\r\n            <Tab label={labels[0]}\r\n                 classes={{\r\n                     wrapper: classes.wrapper,\r\n                     selected: classes.selected,\r\n                     root: classes.tabRoot,\r\n                 }}\r\n            />\r\n            <Tab label={labels[1]}\r\n                 classes={{\r\n                     wrapper: classes.wrapper,\r\n                     selected: classes.selected,\r\n                     root: classes.tabRoot,\r\n                 }}\r\n            />\r\n            <Tab label={labels[2]}\r\n                 classes={{\r\n                     wrapper: classes.wrapper,\r\n                     selected: classes.selected,\r\n                     root: classes.tabRoot,\r\n                 }}\r\n            />\r\n        </Tabs>\r\n    )\r\n};\r\nexport default BackgroundTabs;\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    tabs: {\r\n        margin: '0 10px',\r\n        minHeight: 0,\r\n        borderBottom: `1px solid #aaa`,\r\n        '& .MuiTabs-flexContainer': {\r\n            justifyContent: 'space-between'\r\n        }\r\n    },\r\n    indicator: {\r\n        height: 3,\r\n        backgroundColor: 'white'\r\n    },\r\n    wrapper: {\r\n        fontSize: 12,\r\n        color: 'white',\r\n        textTransform: 'none',\r\n        '& > *:first-child': {\r\n            marginBottom: '0!important'\r\n        }\r\n    },\r\n    selected: {\r\n        color: 'white'\r\n    },\r\n    tabRoot: {\r\n        flexGrow: 1,\r\n        marginLeft: 0,\r\n        color: 'white',\r\n        maxWidth: 'auto',\r\n        minWidth: 'auto',\r\n        padding: 5,\r\n        minHeight: 0\r\n    },\r\n}));","import React, {ReactElement} from \"react\";\r\nimport styled from 'styled-components';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {editorAC} from \"../../../../../../Store/reducers/editor-reducer\";\r\nimport {Tooltip} from \"@material-ui/core\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\n\r\nconst Div = styled.div`\r\n  background: ${(props) => props.color};\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n`;\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useSetColorButton = (color: string) => {\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = () => {\r\n        dispatch(editorAC.setBackgroundStyleColor({color}));\r\n        dispatch(editorAC.setBackgroundStyle('color'));\r\n    };\r\n    const classes = useStyles();\r\n    return {\r\n        onClickHandler, classes\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst SetColorButton: React.FC<PropsType> = (props): ReactElement => {\r\n    const { color, colorTitle } = props;\r\n    const {\r\n        onClickHandler, classes\r\n    } = useSetColorButton(color);\r\n    return (\r\n        <Tooltip title={colorTitle} placement=\"right\" arrow\r\n                 classes={{\r\n                     tooltip: classes.tooltip,\r\n                     arrow: classes.arrow\r\n                 }}>\r\n            <Div color={color}\r\n                 onClick={onClickHandler}\r\n            />\r\n        </Tooltip>\r\n    )\r\n};\r\nexport default SetColorButton;\r\n\r\n//========================== TYPE =======================\r\ntype PropsType = {\r\n    color: string\r\n    colorTitle: string\r\n}\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    tooltip: {\r\n        backgroundColor: '#000'\r\n    },\r\n    arrow: {\r\n        color: '#000'\r\n    }\r\n});\r\n","import React, {useState} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport {HexColorPicker} from \"react-colorful\";\r\nimport './../../css/styles.css'\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport styled from \"styled-components\";\r\n\r\n//===================== CUSTOM HOOK ===================\r\nconst useSelectColorPopover = (\r\n    onPickColor: (color: string) => void,\r\n    handleClose: () => void,\r\n    propsColor: string\r\n) => {\r\n    const [color, setColor] = useState(propsColor);\r\n    const onAcceptHandler = () => {\r\n        onPickColor(color);\r\n        handleClose();\r\n    };\r\n    const classes = useStyles();\r\n    return {\r\n        color, setColor,\r\n        onAcceptHandler, classes\r\n    }\r\n};\r\n\r\n//==================== STYLED =========================\r\nconst Div = styled.div`\r\n        width:  ${(props: {width: number}) => `${props.width}px`};\r\n        padding: 15px;\r\n`;\r\n\r\n//==================== COMPONENT ======================\r\nconst SelectColorPopover: React.FC<PropsType> = (props) => {\r\n    const {header, onPickColor, handleClose, propsColor, width = 230} = props;\r\n    const {\r\n        color, setColor,\r\n        onAcceptHandler, classes\r\n    } = useSelectColorPopover(onPickColor, handleClose, propsColor);\r\n    return (\r\n        <Div width={width}>\r\n            <Typography variant='subtitle2' className={classes.title}>\r\n                {header}\r\n            </Typography>\r\n\r\n            <HexColorPicker color={color} onChange={setColor}/>\r\n            <Button variant='contained'\r\n                    color='primary'\r\n                    fullWidth\r\n                    className={classes.button}\r\n                    onClick={onAcceptHandler}\r\n            >\r\n                Select\r\n            </Button>\r\n\r\n        </Div>\r\n    )\r\n};\r\nexport default SelectColorPopover;\r\n\r\n//=========================== TYPE =======================\r\ntype PropsType = {\r\n    header: string\r\n    onPickColor: (color: string) => void\r\n    handleClose: () => void\r\n    propsColor: string\r\n    width?: number\r\n}\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        marginTop: 10,\r\n        textTransform: 'none'\r\n    },\r\n    title: {\r\n        marginBottom: 10\r\n    }\r\n});","import makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport React from \"react\";\r\nimport styled from 'styled-components';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {editorAC} from \"../../../../../../Store/reducers/editor-reducer\";\r\nimport {Tooltip} from \"@material-ui/core\";\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport {getLang} from \"../../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../../Utils/lang\";\r\nimport SelectColorPopover from \"../../../../../common/SelectColorPopover\";\r\nimport Popover from \"@material-ui/core/Popover/Popover\";\r\n\r\nconst Div = styled.div`\r\n  background: #fff;\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content:center;\r\n  align-items: center;\r\n`;\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useSelectColorButton = () => {\r\n    const lang = useSelector(getLang);\r\n    const title = translate(lang, 'Select color');\r\n    const header = translate(lang, 'Select background color');\r\n    const dispatch = useDispatch();\r\n    const onPickColorHandler = (color: string) => {\r\n        dispatch(editorAC.setBackgroundStyleColor({color}))\r\n    };\r\n    const [anchorEl, setAnchorEl] = React.useState<HTMLElement | null>(null);\r\n    const open = Boolean(anchorEl);\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    const onClickHandler = (event: React.MouseEvent<HTMLElement>) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const classes = useStyles();\r\n    return {\r\n        title, onPickColorHandler, header,\r\n        onClickHandler, open, anchorEl,\r\n        handleClose, classes\r\n    }\r\n}\r\n\r\n//============== COMPONENT =================\r\nconst SelectColorButton: React.FC<{}> = () => {\r\n    const {\r\n        title, onPickColorHandler, header,\r\n        onClickHandler, open, anchorEl,\r\n        handleClose, classes\r\n    } = useSelectColorButton();\r\n    return (\r\n        <>\r\n            <Tooltip title={title} placement=\"right\" arrow\r\n                     classes={{\r\n                         tooltip: classes.tooltip,\r\n                         arrow: classes.arrow\r\n                     }}>\r\n                <Div onClick={onClickHandler}\r\n                >\r\n                    <AddIcon fontSize='large'/>\r\n                </Div>\r\n            </Tooltip>\r\n            <Popover\r\n                open={open}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'left',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'left',\r\n                }}\r\n            >\r\n                <SelectColorPopover header={header}\r\n                                    onPickColor={onPickColorHandler}\r\n                                    handleClose={handleClose}\r\n                                    propsColor='#FFF'\r\n                />\r\n            </Popover>\r\n\r\n        </>\r\n    )\r\n};\r\nexport default SelectColorButton;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    tooltip: {\r\n        backgroundColor: '#000'\r\n    },\r\n    arrow: {\r\n        color: '#000'\r\n    }\r\n});\r\n\r\n\r\n\r\n\r\n\r\n","export type LangType = 'eng' | 'rus'\r\nexport type SizeType = {\r\n    width: number | null\r\n    height: number | null\r\n}\r\n\r\nexport enum MainSidebarItemEnum {\r\n    background = 0,\r\n    text = 1,\r\n}\r\n\r\nexport type BackgroundStyleType = 'color' | 'gradient' | 'texture' | 'image'\r\n\r\nexport enum BackgroundTabIndexEnum {\r\n    color = 0,\r\n    gradient = 1,\r\n    image = 2\r\n}\r\n\r\nexport type BackgroundStyleColorType = {\r\n    color: string\r\n}\r\nexport type GradientStyleType = 'horizontal' | 'vertical' | 'radial'\r\nexport type ScaleModeType = 'Exact fit' | 'Scale crop' | 'No scale' | 'Maintain aspect'\r\nexport type AlignType = 'left-top' | 'center-top' | 'right-top' |\r\n    'left-center' | 'center' | 'right-center' |\r\n    'left-bottom' | 'center-bottom' | 'right-bottom'\r\n\r\nexport enum ImageTabIndexEnum {\r\n    myImage = 0,\r\n    imageSetting = 1\r\n}\r\n\r\nexport type ImageType = {\r\n    id: number\r\n    src: string\r\n    name: string\r\n}\r\nexport type ImageItemType = {\r\n    src: string\r\n    name: string\r\n}\r\nexport type ZoomType = 10 | 25 | 50 | 75 | 100 | 150 | 200 | 300 | 400\r\nexport type DownloadCaseType = 'PNG' | 'JPEG' | 'HTML'\r\nexport type elementType = 'header' | 'subheader' | 'body'\r\nexport type TextType = {\r\n    id: number\r\n    content: string\r\n    position: {\r\n        top: number\r\n        left: number\r\n    }\r\n    fontSize: number\r\n    fontStyle: 'normal' | 'italic'\r\n    fontFamily: string\r\n    color: string\r\n    lowerCase: boolean\r\n    upperCase: boolean\r\n    hover: boolean\r\n    selected: boolean\r\n    editParameters: boolean\r\n    editText: boolean\r\n\r\n}","import makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport React, {ReactElement} from \"react\";\r\nimport SetColorButton from \"./SetColorButton\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getLang} from \"../../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../../Utils/lang\";\r\nimport {Typography} from \"@material-ui/core\";\r\nimport SelectColorButton from \"./SelectColorButton\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useColor = () => {\r\n    const classes = useStyles();\r\n    const colors = [\r\n        {color: '#f44336', colorTitle: 'Red'},\r\n        {color: '#e91e63', colorTitle: 'Pink'},\r\n        {color: '#9c27b0', colorTitle: 'Purple'},\r\n        {color: '#673ab7', colorTitle: 'Deep Purple'},\r\n        {color: '#3f51b5', colorTitle: 'Indigo'},\r\n        {color: '#2196f3', colorTitle: 'Blue'},\r\n        {color: '#03a9f4', colorTitle: 'Light Blue'},\r\n        {color: '#00bcd4', colorTitle: 'Cyan'},\r\n        {color: '#009688', colorTitle: 'Teal'},\r\n        {color: '#4caf50', colorTitle: 'Green'},\r\n        {color: '#8bc34a', colorTitle: 'Light Green'},\r\n        {color: '#cddc39', colorTitle: 'Lime'},\r\n        {color: '#ffeb3b', colorTitle: 'Yellow'},\r\n        {color: '#ffc107', colorTitle: 'Amber'},\r\n        {color: '#ff9800', colorTitle: 'Orange'},\r\n        {color: '#ff5722', colorTitle: 'Deep Orange'},\r\n        {color: '#795548', colorTitle: 'Brown'},\r\n        {color: '#9e9e9e', colorTitle: 'Grey'},\r\n        {color: '#607d8b', colorTitle: 'Blue Grey'},\r\n    ];\r\n    const lang = useSelector(getLang);\r\n    const defaultPresetsLabel = translate(lang, 'Default presets');\r\n\r\n    return {\r\n        classes, colors, defaultPresetsLabel,\r\n\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst Color: React.FC<{}> = (): ReactElement => {\r\n    const {\r\n        classes, colors, defaultPresetsLabel,\r\n    } = useColor();\r\n    const pickColorButtonElements = colors.map(\r\n        el => <SetColorButton key={el.color}\r\n                              color={el.color}\r\n                              colorTitle={el.colorTitle}\r\n        />\r\n    );\r\n    return (\r\n        <div className={classes.scndSdbrBckgrndColor}>\r\n            <div className={classes.colorsBlock}>\r\n                <SelectColorButton />\r\n                <SetColorButton color='#fff' colorTitle='White'/>\r\n                <SetColorButton color='#858585' colorTitle='Grey'/>\r\n                <SetColorButton color='#000' colorTitle='Black' />\r\n            </div>\r\n            <Typography variant='body2' className={classes.typography}>\r\n                {defaultPresetsLabel}\r\n            </Typography>\r\n            <div className={classes.colorsBlock}>\r\n                {pickColorButtonElements}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\nexport default Color;\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    scndSdbrBckgrndColor: {\r\n        margin: '20px 10px',\r\n        flexGrow: 1\r\n    },\r\n    colorsBlock: {\r\n        display: 'grid',\r\n        gridGap: 10,\r\n        gridTemplateColumns: 'repeat(4, 1fr)'\r\n    },\r\n    typography: {\r\n        color: '#fff',\r\n        margin: '20px 0 10px'\r\n    }\r\n});\r\n\r\n","import makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport React from \"react\";\r\nimport {GradientStyleType} from \"../../../../../../Types/types\";\r\nimport clsx from \"clsx\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {editorAC} from \"../../../../../../Store/reducers/editor-reducer\";\r\nimport {getBackgroundStyle, getGradientStyle} from \"../../../../../../Store/selectors/editor-selectors\";\r\nimport {Tooltip} from \"@material-ui/core\";\r\nimport {getLang} from \"../../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../../Utils/lang\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useGradientStyleButton = (gradientStyle: GradientStyleType, tip: string) => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const gradientStyleFromState = useSelector(getGradientStyle);\r\n    const backgroundStyle = useSelector(getBackgroundStyle);\r\n    const lang = useSelector(getLang);\r\n    const tipLabel = translate(lang, tip)\r\n\r\n    const onClickHandler = () => {\r\n        dispatch(editorAC.setBackgroundStyle('gradient'));\r\n        dispatch(editorAC.setGradientStyle(gradientStyle));\r\n    };\r\n    return {\r\n        classes, onClickHandler, gradientStyleFromState,\r\n        backgroundStyle, tipLabel\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst GradientStyleButton: React.FC<PropsType> = (props) => {\r\n    const {\r\n        gradientStyle, tip\r\n    } = props;\r\n    const {\r\n        classes, onClickHandler, gradientStyleFromState,\r\n        backgroundStyle, tipLabel\r\n    } = useGradientStyleButton(gradientStyle, tip);\r\n\r\n    return (\r\n        <Tooltip title={tipLabel} placement=\"right\" arrow\r\n                 classes={{\r\n                     tooltip: classes.tooltip,\r\n                     arrow: classes.arrow\r\n                 }}>\r\n        <div onClick={onClickHandler}\r\n             className={clsx(\r\n                 classes.gradientStyleButton,\r\n                 gradientStyle === 'horizontal' && classes.horizontal,\r\n                 gradientStyle === 'vertical' && classes.vertical,\r\n                 gradientStyle === 'radial' && classes.radial,\r\n                 backgroundStyle === 'gradient' && gradientStyleFromState === gradientStyle && classes.selected\r\n             )}/>\r\n        </Tooltip>\r\n    )\r\n};\r\nexport default GradientStyleButton;\r\n\r\n//================= TYPE =============\r\ntype PropsType = {\r\n    gradientStyle: GradientStyleType\r\n    tip: string\r\n}\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    gradientStyleButton: {\r\n        width: 50,\r\n        height: 50,\r\n        borderRadius: 10,\r\n        border: '2px solid black',\r\n        boxSizing: 'border-box',\r\n    },\r\n    horizontal: {\r\n        background: 'linear-gradient(90deg, rgba(0,0,0,1) 0%, rgba(255,255,255,1) 100%)'\r\n    },\r\n    vertical: {\r\n        background: 'linear-gradient(0deg, rgba(255,255,255,1) 0%, rgba(0,0,0,1) 100%)'\r\n    },\r\n    radial: {\r\n        background: 'radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(0,0,0,1) 100%)'\r\n    },\r\n    selected: {\r\n        outline: '2px solid #FFF'\r\n    },\r\n    tooltip: {\r\n        backgroundColor: '#000'\r\n    },\r\n    arrow: {\r\n        color: '#000'\r\n    }\r\n});\r\n\r\n","import makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport React, {ReactElement} from \"react\";\r\nimport GradientStyleButton from \"./GradientStyleButton\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useGradientStyle = () => {\r\n    const classes = useStyles();\r\n    return {\r\n        classes\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst GradientStyle: React.FC<{}> = (): ReactElement => {\r\n    const {\r\n        classes\r\n    } = useGradientStyle()\r\n    return (\r\n        <div className={classes.gradientStyle}>\r\n            <GradientStyleButton gradientStyle='horizontal' tip='Horizontal gradient'/>\r\n            <GradientStyleButton gradientStyle='vertical' tip='Vertical gradient'/>\r\n            <GradientStyleButton gradientStyle='radial' tip='Radial gradient'/>\r\n        </div>\r\n    )\r\n};\r\nexport default GradientStyle;\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    gradientStyle: {\r\n        margin: '20px 10px',\r\n        display: 'grid',\r\n        gridGap: 10,\r\n        gridTemplateColumns: 'repeat(4, 1fr)'\r\n    }\r\n});\r\n\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {Tooltip} from \"@material-ui/core\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport SelectColorPopover from \"./SelectColorPopover\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getLang} from \"../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../Utils/lang\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\n\r\nconst Div = styled.div`\r\n  background: ${(props: DivPropsType) => props.enable ? props.color : 'none'};;\r\n  width: ${(props: DivPropsType) => `${props.size}px`};\r\n  height: ${(props: DivPropsType) => `${props.size}px`};\r\n  border-radius: 2px;\r\n  border: 2px solid #fff;\r\n  cursor: ${(props: DivPropsType) => props.enable ? 'pointer' : 'auto'};\r\n  display: flex;\r\n  justify-content:center;\r\n  align-items: center;\r\n`;\r\n\r\n//==================== CUSTOM HOOK ==========================\r\nconst useSelectColorButtonCustom = (\r\n    enable: boolean, header: string, tipTitle: string | undefined\r\n) => {\r\n    const onClickHandler = (event: React.MouseEvent<HTMLElement>) => {\r\n        if (enable) {\r\n            setAnchorEl(event.currentTarget);\r\n        }\r\n    };\r\n    const [anchorEl, setAnchorEl] = React.useState<HTMLElement | null>(null);\r\n    const open = Boolean(anchorEl);\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    const lang = useSelector(getLang);\r\n    const headerLabel = translate(lang, header);\r\n    const tipTitleLabel = tipTitle ? translate(lang, tipTitle) : '';\r\n    const classes = useStyles();\r\n    return {\r\n        onClickHandler, open, anchorEl, classes,\r\n        handleClose, headerLabel, tipTitleLabel,\r\n    }\r\n};\r\n\r\n//===================== COMPONENT ===========================\r\nconst SelectColorButtonCustom: React.FC<PropsType> = (props) => {\r\n    const {\r\n        color, enable, onPickColorHandler, size = 50, tipTitle, header,\r\n        anchorOriginVertical = 'top', anchorOriginHorizontal = 'left',\r\n        transformOriginVertical = 'top', transformOriginHorizontal = 'left'\r\n    } = props;\r\n\r\n    const {\r\n        onClickHandler, open, anchorEl, classes,\r\n        handleClose, headerLabel, tipTitleLabel,\r\n    } = useSelectColorButtonCustom(enable, header, tipTitle);\r\n\r\n    return (\r\n        <>\r\n            <>\r\n                {\r\n                    tipTitle\r\n                        ? <Tooltip title={tipTitleLabel} placement=\"right\" arrow\r\n                                   classes={{\r\n                                       tooltip: classes.tooltip,\r\n                                       arrow: classes.arrow\r\n                                   }}>\r\n                            <Div size={size}\r\n                                 enable={enable}\r\n                                 color={color}\r\n                                 onClick={onClickHandler}\r\n                            />\r\n                        </Tooltip>\r\n                        : <Div size={size}\r\n                               enable={enable}\r\n                               color={color}\r\n                               onClick={onClickHandler}\r\n                        />\r\n                }\r\n            </>\r\n            <Popover\r\n                open={open}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: anchorOriginVertical,\r\n                    horizontal: anchorOriginHorizontal,\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: transformOriginVertical,\r\n                    horizontal: transformOriginHorizontal,\r\n                }}\r\n            >\r\n                <SelectColorPopover header={headerLabel}\r\n                                    onPickColor={onPickColorHandler}\r\n                                    handleClose={handleClose}\r\n                                    propsColor={color}\r\n                />\r\n            </Popover>\r\n        </>\r\n    )\r\n};\r\nexport default SelectColorButtonCustom;\r\n\r\n//==================== TYPE ===================\r\ntype PropsType = {\r\n    tipTitle?: string | undefined\r\n    color: string\r\n    enable: boolean\r\n    onPickColorHandler: (color: string) => void\r\n    size?: number\r\n    header: string\r\n    anchorOriginVertical?: 'top' | 'center' | 'bottom' | number\r\n    anchorOriginHorizontal?: 'left' | 'center' | 'right' | number\r\n    transformOriginVertical?: 'top' | 'center' | 'bottom' | number\r\n    transformOriginHorizontal?: 'left' | 'center' | 'right' | number\r\n};\r\ntype DivPropsType = {\r\n    size: number\r\n    color: string\r\n    enable: boolean\r\n}\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    tooltip: {\r\n        backgroundColor: '#000'\r\n    },\r\n    arrow: {\r\n        color: '#000'\r\n    }\r\n});\r\n\r\n","import IconButton from \"@material-ui/core/IconButton\";\r\nimport CachedIcon from '@material-ui/icons/Cached';\r\nimport {Tooltip} from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {editorAC} from \"../../../../../../Store/reducers/editor-reducer\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getLang} from \"../../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../../Utils/lang\";\r\n\r\n//==================== CUSTOM HOOK ==========================\r\nconst useGradientColorInvert = () => {\r\n    const classes = useStyles();\r\n    const lang = useSelector(getLang);\r\n    const tipLabel = translate(lang, 'Invert colors');\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = () => {\r\n        dispatch(editorAC.replaceColor())\r\n    };\r\n    return {\r\n        classes, onClickHandler, tipLabel\r\n    }\r\n}\r\n\r\n//===================== COMPONENT ===========================\r\nconst GradientColorInvert: React.FC<{}> = () => {\r\n    const {\r\n        classes, onClickHandler, tipLabel\r\n    } = useGradientColorInvert();\r\n    return (\r\n        <Tooltip title={tipLabel} placement=\"right\" arrow\r\n                 classes={{\r\n                     tooltip: classes.tooltip,\r\n                     arrow: classes.arrow\r\n                 }}>\r\n            <IconButton size='small' onClick={onClickHandler}>\r\n                <CachedIcon className={classes.icon}/>\r\n            </IconButton>\r\n        </Tooltip>\r\n    )\r\n};\r\nexport default GradientColorInvert;\r\n\r\n//==================== STYLES ===============\r\nconst useStyles = makeStyles({\r\n    tooltip: {\r\n        backgroundColor: '#000'\r\n    },\r\n    arrow: {\r\n        color: '#000'\r\n    },\r\n    icon: {\r\n        color: 'white'\r\n    },\r\n});","import React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport SelectColorButtonCustom from \"../../../../../common/SelectColorButtonCustom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getColorEnd, getColorStart} from \"../../../../../../Store/selectors/editor-selectors\";\r\nimport {editorAC} from \"../../../../../../Store/reducers/editor-reducer\";\r\nimport styled from \"styled-components\";\r\nimport GradientColorInvert from \"./GradientColorInvert\";\r\n\r\n//===================== CUSTOM HOOK ===================\r\nconst useGradientColor = () => {\r\n    const classes = useStyles();\r\n    const colorStart = useSelector(getColorStart);\r\n    const colorEnd = useSelector(getColorEnd);\r\n    const dispatch = useDispatch()\r\n    const onSelectColorStartHandler = (color: string) => {\r\n        dispatch(editorAC.setColorStart(color))\r\n    };\r\n    const onSelectColorEndHandler = (color: string) => {\r\n        dispatch(editorAC.setColorEnd(color))\r\n    };\r\n    return {\r\n        classes, colorStart, colorEnd,\r\n        onSelectColorStartHandler, onSelectColorEndHandler\r\n    }\r\n};\r\n\r\n//==================== STYLED ====================\r\nconst GradientDiv = styled.div`\r\n    height: 25px;\r\n    margin-top: 5px;\r\n    background: ${\r\n    (props: PropsType) => `linear-gradient(90deg, ${props.colorStart} 0%, ${props.colorEnd} 100%)`\r\n};\r\n`\r\n\r\n//==================== COMPONENT ======================\r\nconst GradientColor: React.FC<{}> = () => {\r\n    const {\r\n        classes, colorStart, colorEnd,\r\n        onSelectColorStartHandler, onSelectColorEndHandler,\r\n    } = useGradientColor();\r\n\r\n    return (\r\n        <div className={classes.gradientColor}>\r\n            <div className={classes.buttons}>\r\n                <SelectColorButtonCustom\r\n                    color={colorStart}\r\n                    enable={true}\r\n                    onPickColorHandler={onSelectColorStartHandler}\r\n                    size={25}\r\n                    tipTitle='Select start color'\r\n                    header='Select start color'\r\n                    anchorOriginVertical='top'\r\n                    anchorOriginHorizontal='left'\r\n                    transformOriginVertical='top'\r\n                    transformOriginHorizontal='left'\r\n                />\r\n                <GradientColorInvert/>\r\n                <SelectColorButtonCustom\r\n                    color={colorEnd}\r\n                    enable={true}\r\n                    onPickColorHandler={onSelectColorEndHandler}\r\n                    size={25}\r\n                    tipTitle='Select end color'\r\n                    header='Select end color'\r\n                    anchorOriginVertical='top'\r\n                    anchorOriginHorizontal='right'\r\n                    transformOriginVertical='top'\r\n                    transformOriginHorizontal='right'\r\n                />\r\n            </div>\r\n            <GradientDiv colorStart={colorStart}\r\n                         colorEnd={colorEnd}\r\n            />\r\n        </div>\r\n    )\r\n};\r\nexport default GradientColor;\r\n\r\n//==================== TYPE ===================\r\ntype PropsType = {\r\n    colorStart: string\r\n    colorEnd: string\r\n}\r\n\r\n//==================== STYLES ===============\r\nconst useStyles = makeStyles({\r\n    gradientColor: {\r\n        padding: '0 10px',\r\n        marginBottom: 10\r\n    },\r\n    buttons: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n    },\r\n});","import makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport React, {ReactElement} from \"react\";\r\nimport GradientStyle from \"./GradientStyle\";\r\nimport GradientColor from \"./GradientColor\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useGradient = () => {\r\n    const classes = useStyles();\r\n    return {\r\n        classes\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst Gradient: React.FC<{}> = (): ReactElement => {\r\n    const {\r\n        classes\r\n    } = useGradient();\r\n    return (\r\n        <div className={classes.gradient}>\r\n            <GradientStyle/>\r\n            <GradientColor/>\r\n        </div>\r\n    )\r\n};\r\nexport default Gradient;\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    gradient: {\r\n        flexGrow: 1\r\n    }\r\n});\r\n\r\n","import {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    getImageTabIndex,\r\n} from \"../../../../../../Store/selectors/editor-selectors\";\r\nimport React from \"react\";\r\nimport {editorAC} from \"../../../../../../Store/reducers/editor-reducer\";\r\nimport {getLang} from \"../../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../../Utils/lang\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {Tabs, Theme} from \"@material-ui/core\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\n\r\n//====================== CUSTOM HOOK ====================\r\nconst useImageTabs = () => {\r\n    const imageTabIndex = useSelector(getImageTabIndex);\r\n    const dispatch = useDispatch();\r\n    const onChangeHandler = (event: React.ChangeEvent<{}>, newValue: number) => {\r\n        dispatch(editorAC.setImageTabIndex(newValue));\r\n    };\r\n    const lang = useSelector(getLang);\r\n    const labels = [];\r\n    labels[0] = translate(lang, 'My images');\r\n    labels[1] = translate(lang, 'Settings');\r\n    const classes = useStyles();\r\n    return {\r\n        imageTabIndex, onChangeHandler, classes,\r\n        labels\r\n    }\r\n};\r\n\r\n//======================= COMPONENT ====================\r\nconst ImageTabs: React.FC<{}> = () => {\r\n    const {\r\n        imageTabIndex, onChangeHandler, classes,\r\n        labels\r\n    } = useImageTabs();\r\n    return (\r\n        <Tabs\r\n            value={imageTabIndex}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            onChange={onChangeHandler}\r\n            classes={{\r\n                indicator: classes.indicator\r\n            }}\r\n            className={classes.tabs}\r\n        >\r\n            <Tab label={labels[0]}\r\n                 classes={{\r\n                     wrapper: classes.wrapper,\r\n                     selected: classes.selected,\r\n                     root: classes.tabRoot,\r\n                 }}\r\n            />\r\n            <Tab label={labels[1]}\r\n                 classes={{\r\n                     wrapper: classes.wrapper,\r\n                     selected: classes.selected,\r\n                     root: classes.tabRoot,\r\n                 }}\r\n            />\r\n        </Tabs>\r\n    )\r\n};\r\nexport default ImageTabs;\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    tabs: {\r\n        minHeight: 0,\r\n        borderBottom: `1px solid #aaa`,\r\n        '& .MuiTabs-flexContainer': {\r\n            justifyContent: 'space-between'\r\n        }\r\n    },\r\n    indicator: {\r\n        height: 3,\r\n        backgroundColor: 'white'\r\n    },\r\n    wrapper: {\r\n        fontSize: 12,\r\n        color: 'white',\r\n        textTransform: 'none',\r\n        '& > *:first-child': {\r\n            marginBottom: '0!important'\r\n        }\r\n    },\r\n    selected: {\r\n        color: 'white'\r\n    },\r\n    tabRoot: {\r\n        flexGrow: 1,\r\n        marginLeft: 0,\r\n        color: 'white',\r\n        maxWidth: 'auto',\r\n        minWidth: 'auto',\r\n        padding: 5,\r\n        minHeight: 0\r\n    },\r\n}));","import React from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {Card} from \"@material-ui/core\";\r\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\r\nimport {ImageType} from \"../../../../../../../Types/types\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {editorAC} from \"../../../../../../../Store/reducers/editor-reducer\";\r\n\r\n//================== CUSTOM HOOK ================\r\nconst useMyImagesItem = (image: ImageType) => {\r\n    const classes = useStylesForm();\r\n    const imgSrc = image.src as string;\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = () => {\r\n        dispatch(editorAC.setBackgroundStyle('image'));\r\n        dispatch(editorAC.setCurrentImage(image.id));\r\n    };\r\n    return {\r\n        classes, imgSrc, onClickHandler\r\n    }\r\n};\r\n\r\n//================== COMPONENT =================\r\nconst MyImagesItem: React.FC<PropsType> = ({image}) => {\r\n    const {\r\n        classes, imgSrc, onClickHandler\r\n    } = useMyImagesItem(image);\r\n\r\n    return (\r\n        <Card elevation={6}>\r\n            <CardActionArea onClick={onClickHandler}>\r\n                <img src={imgSrc} alt=\"\" className={classes.img}/>\r\n            </CardActionArea>\r\n        </Card>\r\n    )\r\n};\r\nexport default MyImagesItem\r\n//=============== TYPE ===============\r\ntype PropsType = {\r\n   image: ImageType\r\n}\r\n\r\n//================= STYLES ================\r\nconst useStylesForm = makeStyles({\r\n    img: {\r\n        width: 110,\r\n        display: 'block'\r\n    }\r\n})","import BackupIcon from '@material-ui/icons/Backup';\r\nimport React, {\r\n    //ChangeEvent, useRef\r\n} from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    //loadImage,\r\n    loadImages\r\n} from \"../../../../../../../Store/reducers/editor-reducer\";\r\nimport {getImages} from \"../../../../../../../Store/selectors/editor-selectors\";\r\nimport MyImagesItem from \"./MyImagesItem\";\r\nimport {DropzoneRootProps, useDropzone} from \"react-dropzone\";\r\nimport styled from \"styled-components\";\r\nimport {getLang} from \"../../../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../../../Utils/lang\";\r\n\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useImageMyImages = () => {\r\n    const classes = useStyles();\r\n    //const ref = useRef<HTMLInputElement>(null);\r\n    const dispatch = useDispatch();\r\n    const images = useSelector(getImages);\r\n    const lang = useSelector(getLang);\r\n    const label1 = translate(lang, 'Drag and drop some files here,');\r\n    const label2 = translate(lang, 'or click to select files');\r\n\r\n    const imgCardElements = images.map(\r\n        el => <MyImagesItem key={el.id} image={el}/>\r\n    );\r\n\r\n    // const onChangeHandle = (e: ChangeEvent<HTMLInputElement>) => {\r\n    //     if (e.target.files) {\r\n    //         const file = e.target.files[0];\r\n    //         dispatch(loadImage(file))\r\n    //     }\r\n    // };\r\n    // const onClickHandler = () => {\r\n    //     if (ref && ref.current) {\r\n    //         ref.current.click()\r\n    //     }\r\n    // };\r\n\r\n    const {\r\n        getRootProps,\r\n        getInputProps,\r\n        isDragActive,\r\n        isDragAccept,\r\n        isDragReject,\r\n    } = useDropzone({\r\n        accept: 'image/*',\r\n        onDrop: files => dispatch(loadImages(files))\r\n    });\r\n\r\n\r\n    return {\r\n        //ref, onChangeHandle, onClickHandler,\r\n        classes, imgCardElements, getRootProps,\r\n        getInputProps, isDragActive, isDragAccept,\r\n        isDragReject, label1, label2\r\n    }\r\n};\r\n\r\n//=================== STYLED ======================\r\nconst getColor = (props: DropzoneRootProps) => {\r\n    if (props.isDragAccept) {\r\n        return '#00e676';\r\n    }\r\n    if (props.isDragReject) {\r\n        return '#ff1744';\r\n    }\r\n    if (props.isDragActive) {\r\n        return '#2196f3';\r\n    }\r\n    return '#eeeeee';\r\n};\r\n\r\nconst Container = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 0 10px;\r\n  border-width: 2px;\r\n  border-radius: 2px;\r\n  border-color: ${props => getColor(props)};\r\n  border-style: dashed;\r\n  cursor: pointer;\r\n  background-color: #8d6e63;\r\n  color: #FFF;\r\n  outline: none;\r\n  transition: border .24s ease-in-out;\r\n  transition: background-color 0.3s;\r\n  margin-bottom: 10px;\r\n  height: 148px;\r\n  &:hover {\r\n    background-color: #a1887f;\r\n  } \r\n`;\r\n\r\n//================= COMPONENT ========================\r\nconst MyImages: React.FC<{}> = () => {\r\n    const {\r\n        //ref, onChangeHandle, onClickHandler,\r\n        classes, imgCardElements, getRootProps,\r\n        getInputProps, isDragActive, isDragAccept,\r\n        isDragReject, label1, label2\r\n    } = useImageMyImages();\r\n\r\n    return (\r\n        <div className={classes.imageMyImages}>\r\n            {/*<div>*/}\r\n            {/*    <input*/}\r\n            {/*        ref={ref}*/}\r\n            {/*        accept=\"image/*\"*/}\r\n            {/*        onChange={onChangeHandle}*/}\r\n            {/*        className={classes.input}*/}\r\n            {/*        id=\"12345\"*/}\r\n            {/*        multiple*/}\r\n            {/*        type=\"file\"*/}\r\n            {/*    />*/}\r\n            {/*    <label htmlFor=\"12345\"*/}\r\n            {/*           className={classes.label}*/}\r\n            {/*    >*/}\r\n            {/*        <Button*/}\r\n            {/*            variant='contained'*/}\r\n            {/*            fullWidth*/}\r\n            {/*            startIcon={<BackupIcon/>}*/}\r\n            {/*            className={classes.button}*/}\r\n            {/*            onClick={onClickHandler}*/}\r\n            {/*        >*/}\r\n            {/*            Upload image*/}\r\n            {/*        </Button>*/}\r\n            {/*    </label>*/}\r\n            {/*</div>*/}\r\n\r\n            <div>\r\n                <Container {...getRootProps({isDragActive, isDragAccept, isDragReject})}\r\n                >\r\n                    <input {...getInputProps()} />\r\n                    <p>{label1}</p>\r\n                    <div className={classes.fakeButton}>\r\n                        <BackupIcon style={{\r\n                            marginRight: 10\r\n                        }}/>\r\n                        <p>Upload file(s)</p>\r\n                    </div>\r\n                    <p>{label2}</p>\r\n                </Container>\r\n            </div>\r\n\r\n            <div className={classes.imagesWrapper}>\r\n                <div className={classes.subWrapper}>\r\n                    {imgCardElements}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\nexport default MyImages\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n        imageMyImages: {\r\n            boxSizing: 'border-box',\r\n            padding: '10px 0',\r\n            height: 'calc(100vh - 64px - 117px - 140px)'\r\n        },\r\n        input: {\r\n            display: 'none'\r\n        },\r\n        label: {\r\n            display: 'block'\r\n        },\r\n        button: {\r\n            textTransform: 'none',\r\n            backgroundColor:\r\n                'white',\r\n            marginBottom: 20\r\n        },\r\n        img: {\r\n            width: 110,\r\n            borderRadius: 5,\r\n            '&:not(:last-child)': {\r\n                marginBottom: 20\r\n            }\r\n        },\r\n        imagesWrapper: {\r\n            width: 230,\r\n            height: 'calc(100vh - 64px - 117px - 140px - 56px)',\r\n            overflow: 'auto',\r\n        },\r\n        subWrapper: {\r\n            maxHeight: '100%',\r\n            display: 'grid',\r\n            gridTemplateColumns: '1fr 1fr',\r\n            gridGap: 10,\r\n            gridRowGap: 10,\r\n            alignItems: 'start',\r\n        },\r\n        fakeButton: {\r\n            display: 'flex',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            padding: '0px 20px',\r\n            backgroundColor: '#FFF',\r\n            borderRadius: 5,\r\n            color: '#000'\r\n        },\r\n    });","import React from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getAlign} from \"../../../../../../../Store/selectors/editor-selectors\";\r\nimport {AlignType} from \"../../../../../../../Types/types\";\r\nimport clsx from \"clsx\";\r\nimport {editorAC} from \"../../../../../../../Store/reducers/editor-reducer\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useAlignButton = (ownAlign: AlignType) => {\r\n    const classes = useStyles();\r\n    const align = useSelector(getAlign);\r\n    const dispatch = useDispatch();\r\n    const onClickHandle = () => {\r\n        dispatch(editorAC.setAlign(ownAlign))\r\n    };\r\n    return {\r\n        classes, align, onClickHandle\r\n    }\r\n};\r\n\r\n//================= COMPONENT ========================\r\nconst SettingsAlignButton: React.FC<PropsType> = ({ownAlign}) => {\r\n    const {\r\n        classes, align, onClickHandle\r\n    } = useAlignButton(ownAlign);\r\n\r\n    return (\r\n        <div className={clsx(classes.alignButton, align === ownAlign && classes.selected)}\r\n             onClick={onClickHandle}\r\n        />\r\n    )\r\n};\r\nexport default SettingsAlignButton\r\n\r\n//====================== TYPE =====================\r\ntype PropsType = {\r\n    ownAlign: AlignType\r\n}\r\n\r\n//===================== STYLES ====================\r\nconst useStyles = makeStyles({\r\n    alignButton: {\r\n        width: 12,\r\n        height: 12,\r\n        boxSizing: 'border-box',\r\n        border: '2px solid #ccc',\r\n        cursor: 'pointer'\r\n    },\r\n    selected: {\r\n        backgroundColor: 'white',\r\n        border: '2px solid #FFF'\r\n    }\r\n});","import React from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport SettingsAlignButton from \"./SettingsAlignButton\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getLang} from \"../../../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../../../Utils/lang\";\r\nimport {Typography} from \"@material-ui/core\";\r\nimport {AlignType} from \"../../../../../../../Types/types\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useAlign = () => {\r\n    const classes = useStyles();\r\n    const lang = useSelector(getLang);\r\n    const alignLabel = translate(lang, 'Align');\r\n    const aligns = [\r\n        'left-top',\r\n        'center-top',\r\n        'right-top',\r\n        'left-center',\r\n        'center',\r\n        'right-center',\r\n        'left-bottom',\r\n        'center-bottom',\r\n        'right-bottom'\r\n    ] as Array<AlignType>;\r\n    const alignButtonsElements = aligns.map(\r\n        el => <SettingsAlignButton key={el} ownAlign={el}/>\r\n    );\r\n\r\n    return {\r\n        classes, alignLabel, alignButtonsElements\r\n    }\r\n};\r\n\r\n//================= COMPONENT ========================\r\nconst SettingsAlign: React.FC<{}> = () => {\r\n    const {\r\n        classes, alignLabel, alignButtonsElements\r\n    } = useAlign();\r\n\r\n    return (\r\n        <div className={classes.align}>\r\n            <Typography className={classes.typography}\r\n                        variant='body2'\r\n            >\r\n                {alignLabel}\r\n            </Typography>\r\n            <div className={classes.alignButtonWrapper}>\r\n                {alignButtonsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\nexport default SettingsAlign\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    align: {\r\n        display: 'flex',\r\n        alignItems: 'center'\r\n    },\r\n    typography: {\r\n        color: '#fff',\r\n        marginRight: 20\r\n    },\r\n    alignButtonWrapper: {\r\n        display: 'grid',\r\n        gridTemplateColumns: '1fr 1fr 1fr',\r\n        gridGap: 12,\r\n        width: 60\r\n    }\r\n\r\n});","import React from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {Select, Typography} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getScaleMode} from \"../../../../../../../Store/selectors/editor-selectors\";\r\nimport {getLang} from \"../../../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../../../Utils/lang\";\r\nimport {ScaleModeType} from \"../../../../../../../Types/types\";\r\nimport {editorAC} from \"../../../../../../../Store/reducers/editor-reducer\";\r\nimport brown from \"@material-ui/core/colors/brown\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useScaleMode = () => {\r\n    const classes = useStyles();\r\n    const scaleMode = useSelector(getScaleMode);\r\n    const lang = useSelector(getLang);\r\n    const labels = ['Maintain aspect', 'Exact fit', 'Scale crop', 'No scale'];\r\n    const optionElements = labels.map(\r\n        el => <option key={el} value={el}>{translate(lang, el)}</option>\r\n    );\r\n    const scaleModeLabel = translate(lang, 'Scale mode');\r\n    const dispatch = useDispatch()\r\n    const onChangeHandler = (event: React.ChangeEvent<{name?: string; value: unknown }>) => {\r\n        const value = event.target.value as ScaleModeType\r\n        dispatch(editorAC.setScaleMode(value))\r\n    };\r\n    return {\r\n        classes, scaleMode, onChangeHandler, optionElements,\r\n        scaleModeLabel\r\n    }\r\n};\r\n\r\n//================= COMPONENT ========================\r\nconst SettingsScaleMode: React.FC<{}> = () => {\r\n    const {\r\n        classes, scaleMode, onChangeHandler, optionElements,\r\n        scaleModeLabel\r\n    } = useScaleMode();\r\n\r\n    return (\r\n        <div className={classes.scaleMode}>\r\n            <Typography className={classes.typography}\r\n                        variant='body2'\r\n            >\r\n                {scaleModeLabel}\r\n            </Typography>\r\n            <Select\r\n                native\r\n                value={scaleMode}\r\n                onChange={onChangeHandler}\r\n                className={classes.select}\r\n                inputProps={{\r\n                    name: 'scale-mode',\r\n                    id: 'scale-mode-native-simple',\r\n                }}\r\n            >\r\n                {optionElements}\r\n            </Select>\r\n        </div>\r\n    )\r\n};\r\nexport default SettingsScaleMode\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    scaleMode: {\r\n        margin: '10px 0 20px'\r\n    },\r\n    select: {\r\n        backgroundColor: brown[100]\r\n    },\r\n    typography: {\r\n        color: '#fff',\r\n        marginBottom: 5\r\n    },\r\n});","import React from \"react\";\r\nimport SettingsAlign from \"./SettingsAlign\";\r\nimport SettingsScaleMode from \"./SettingsScaleMode\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getScaleMode} from \"../../../../../../../Store/selectors/editor-selectors\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useImageSettings = () => {\r\n    const scaleMode = useSelector(getScaleMode);\r\n    return {\r\n        scaleMode\r\n    }\r\n};\r\n\r\n//================= COMPONENT ========================\r\nconst Settings: React.FC<{}> = () => {\r\n    const {\r\n        scaleMode\r\n    } = useImageSettings();\r\n\r\n    return (\r\n        <div>\r\n            <SettingsScaleMode/>\r\n            {\r\n                scaleMode !== 'Exact fit' &&\r\n                <SettingsAlign/>\r\n            }\r\n        </div>\r\n    )\r\n};\r\nexport default Settings;","import makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport React from \"react\";\r\nimport ImageTabs from \"./ImageTabs\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getImageTabIndex} from \"../../../../../../Store/selectors/editor-selectors\";\r\nimport {ImageTabIndexEnum} from \"../../../../../../Types/types\";\r\nimport MyImages from \"./MyImages/MyImages\";\r\nimport Settings from \"./Settings/Settings\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useImage = () => {\r\n    const classes = useStyles();\r\n    const imageTabIndex = useSelector(getImageTabIndex);\r\n    return {\r\n        classes, imageTabIndex,\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst Image: React.FC<{}> = () => {\r\n    const {\r\n        classes, imageTabIndex,\r\n    } = useImage();\r\n\r\n    return (\r\n        <div className={classes.image}>\r\n            <ImageTabs/>\r\n            {\r\n                imageTabIndex === ImageTabIndexEnum.myImage &&\r\n                    <MyImages/>\r\n            }\r\n            {\r\n                imageTabIndex === ImageTabIndexEnum.imageSetting &&\r\n                <Settings/>\r\n            }\r\n        </div>\r\n    )\r\n};\r\nexport default Image;\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    image: {\r\n        flexGrow: 1,\r\n        padding: '0 10px',\r\n        marginBottom: 10,\r\n        height: 'calc(100vh - 64px - 117px)'\r\n    },\r\n    buttonWrapper: {\r\n        marginTop: 20\r\n    },\r\n    input: {\r\n        display: 'none'\r\n    },\r\n    label: {\r\n        display: 'block'\r\n    },\r\n    button: {\r\n        textTransform: 'none',\r\n        backgroundColor: 'white'\r\n    }\r\n});\r\n\r\n","import React from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getLang} from \"../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../Utils/lang\";\r\nimport {CheckboxProps, FormControlLabel} from \"@material-ui/core\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport SelectColorButtonCustom from \"../../../../common/SelectColorButtonCustom\";\r\nimport {getBorderColor, getUseBorder} from \"../../../../../Store/selectors/editor-selectors\";\r\nimport {editorAC} from \"../../../../../Store/reducers/editor-reducer\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nconst WhiteCheckbox = withStyles({\r\n    root: {\r\n        color: 'white',\r\n        // '&$checked': {\r\n        //     color: 'white',\r\n        // },\r\n    }\r\n})((props: CheckboxProps) => <Checkbox color=\"default\" {...props} />);\r\n\r\n//===================== CUSTOM HOOK ===================\r\nconst useBackgroundBorder = () => {\r\n    const classes = useStyles();\r\n    const lang = useSelector(getLang);\r\n    const useBorder = useSelector(getUseBorder);\r\n    const borderColor = useSelector(getBorderColor);\r\n    const borderLabel = translate(lang, 'Border');\r\n    const useBorderLabel = translate(lang, 'Use border');\r\n    const dispatch = useDispatch();\r\n    const onChangeHandler = () => {\r\n        if (useBorder) {\r\n            dispatch(editorAC.setCanvasUrl('border', null))\r\n            dispatch(editorAC.setBorderColor('#000'));\r\n        }\r\n        dispatch(editorAC.setUseBorder(!useBorder))\r\n    };\r\n    const onSelectHandler = (color: string) => {\r\n        dispatch(editorAC.setBorderColor(color))\r\n    };\r\n    return {\r\n        classes, borderLabel, useBorderLabel,\r\n        useBorder, onChangeHandler, onSelectHandler,\r\n        borderColor\r\n    }\r\n};\r\n\r\n//==================== COMPONENT ======================\r\nconst BackgroundBorder: React.FC<{}> = () => {\r\n    const {\r\n        classes, borderLabel, useBorderLabel,\r\n        useBorder, onChangeHandler, onSelectHandler,\r\n        borderColor\r\n    } = useBackgroundBorder();\r\n\r\n    return (\r\n        <div className={classes.border}>\r\n            <Typography variant='h6'\r\n                        className={classes.typography}\r\n            >\r\n                {borderLabel}\r\n            </Typography>\r\n            <div className={classes.selectColorBlock}>\r\n                <FormControlLabel\r\n                    control={\r\n                        <WhiteCheckbox\r\n                            checked={useBorder}\r\n                            onChange={onChangeHandler}\r\n                        />\r\n                    }\r\n                    label={useBorderLabel}\r\n                    className={classes.formControlLabel}\r\n                />\r\n                <SelectColorButtonCustom\r\n                    color={borderColor}\r\n                    enable={useBorder}\r\n                    onPickColorHandler={onSelectHandler}\r\n                    size={25}\r\n                    tipTitle='Select color'\r\n                    header='Select border color'\r\n                    anchorOriginVertical='bottom'\r\n                    anchorOriginHorizontal='right'\r\n                    transformOriginVertical='bottom'\r\n                    transformOriginHorizontal='right'\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\nexport default BackgroundBorder;\r\n\r\n//============ STYLES =================\r\nconst useStyles = makeStyles({\r\n    border: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        margin: '0 10px',\r\n        borderTop: '1px solid #ccc'\r\n    },\r\n    typography: {\r\n        color: 'white'\r\n    },\r\n    selectColorBlock: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n    },\r\n    formControlLabel: {\r\n        color: 'white'\r\n    },\r\n    checkbox: {\r\n        color: 'white',\r\n        // '&$checked': {\r\n        //     color: 'white'\r\n        // }\r\n    },\r\n});","import React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport SecondarySidebarTitle from \"../SecondarySidebarTitle\";\r\nimport BackgroundTabs from \"./BackgroundTabs\";\r\nimport Color from \"./Color/Color\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getSecondarySidebarBackgroundTabIndex} from \"../../../../../Store/selectors/editor-selectors\";\r\nimport {BackgroundTabIndexEnum} from \"../../../../../Types/types\";\r\nimport Gradient from \"./Gradient/Gradient\";\r\nimport Image from \"./Image/Image\";\r\nimport BackgroundBorder from \"./BackgroundBorder\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useBackground = () => {\r\n    const classes = useStyles();\r\n    const secondarySidebarBackgroundTabIndex = useSelector(getSecondarySidebarBackgroundTabIndex)\r\n    return {\r\n        classes, secondarySidebarBackgroundTabIndex\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst Background: React.FC<{}> = () => {\r\n    const {\r\n        classes, secondarySidebarBackgroundTabIndex\r\n    } = useBackground();\r\n\r\n    return (\r\n        <div className={classes.Background}>\r\n            <SecondarySidebarTitle title='Background'/>\r\n            <BackgroundTabs/>\r\n            {\r\n                secondarySidebarBackgroundTabIndex === BackgroundTabIndexEnum.color &&\r\n                <Color/>\r\n            }\r\n            {\r\n                secondarySidebarBackgroundTabIndex === BackgroundTabIndexEnum.gradient &&\r\n                <Gradient/>\r\n            }\r\n            {\r\n                secondarySidebarBackgroundTabIndex === BackgroundTabIndexEnum.image &&\r\n                <Image/>\r\n            }\r\n            <BackgroundBorder/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Background;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    title: {\r\n        backgroundColor: 'red'\r\n    },\r\n    Background: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        height: 'calc(100vh - 64px)',\r\n    }\r\n});","import React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport SecondarySidebarTitle from \"../SecondarySidebarTitle\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {getLang} from \"../../../../../Store/selectors/app-selectors\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {translate} from \"../../../../../Utils/lang\";\r\nimport {textAC} from \"../../../../../Store/reducers/text-reducer\";\r\nimport brown from \"@material-ui/core/colors/brown\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useSecondSidebarText = () => {\r\n    const classes = useStyles();\r\n    const lang = useSelector(getLang);\r\n    const labels = [];\r\n    labels[0] = translate(lang, 'Add header');\r\n    labels[1] = translate(lang, 'Add subheader');\r\n    labels[2] = translate(lang, 'Add body text');\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = [];\r\n    onClickHandler[0] = () => {\r\n        dispatch(textAC.addText('header'));\r\n    };\r\n    onClickHandler[1] = () => {\r\n        dispatch(textAC.addText('subheader'));\r\n    };\r\n    onClickHandler[2] = () => {\r\n        dispatch(textAC.addText('body'));\r\n    };\r\n    return {classes, labels, onClickHandler}\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst Text: React.FC<{}> = () => {\r\n    const {classes, labels, onClickHandler} = useSecondSidebarText();\r\n    return (\r\n        <div>\r\n            <SecondarySidebarTitle title='Add text' />\r\n            <div className={classes.buttons}>\r\n                <Button variant='outlined'\r\n                        onClick={onClickHandler[0]}\r\n                        fullWidth\r\n                        className={classes.button}\r\n                        classes={{\r\n                            label: classes.label1\r\n                        }}\r\n                >\r\n                    {labels[0]}\r\n                </Button>\r\n                <Button variant='outlined'\r\n                        onClick={onClickHandler[1]}\r\n                        fullWidth\r\n                        className={classes.button}\r\n                        classes={{\r\n                            label: classes.label2\r\n                        }}\r\n                >\r\n                    {labels[1]}\r\n                </Button>\r\n                <Button variant='outlined'\r\n                        onClick={onClickHandler[2]}\r\n                        fullWidth\r\n                        className={classes.button}\r\n                        classes={{\r\n                            label: classes.label3\r\n                        }}\r\n                >\r\n                    {labels[2]}\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\nexport default Text;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    buttons: {\r\n        margin: 10\r\n    },\r\n    button: {\r\n        height: 40,\r\n        textTransform: 'none',\r\n        color: '#eee',\r\n        backgroundColor: brown[400],\r\n        //border: '1px solid #ccc',\r\n        border: 'none',\r\n        '&:not(:last-child)': {\r\n            marginBottom: 10,\r\n        },\r\n        '&:hover': {\r\n            backgroundColor: brown[300],\r\n            color: '#fff'\r\n        }\r\n    },\r\n    label1: {\r\n        fontSize: '32px',\r\n        lineHeight: '32px'\r\n    },\r\n    label2: {\r\n        fontSize: '24px',\r\n        lineHeight: '24px'\r\n    },\r\n    label3: {\r\n        fontSize: '16px',\r\n        lineHeight: '16px'\r\n    },\r\n});","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getMainSidebarItem} from \"../../../../Store/selectors/editor-selectors\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport Background from \"./SecondarySidebarBackground/Background\";\r\nimport {MainSidebarItemEnum} from \"../../../../Types/types\";\r\nimport Text from \"./SecondarySidebarText/Text\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useSecondarySidebar = () => {\r\n    const classes = useStyles();\r\n    const mainSidebarItem = useSelector(getMainSidebarItem);\r\n    return {\r\n        classes, mainSidebarItem\r\n    }\r\n}\r\n\r\n//============== COMPONENT =================\r\nconst SecondarySidebar: React.FC<{}> = () => {\r\n    const {\r\n        classes, mainSidebarItem\r\n    } = useSecondarySidebar();\r\n    return (\r\n        <div className={classes.secondarySidebar}>\r\n            {\r\n                mainSidebarItem === MainSidebarItemEnum.background\r\n                && <Background/>\r\n            }\r\n            {\r\n                mainSidebarItem === MainSidebarItemEnum.text\r\n                && <Text/>\r\n            }\r\n        </div>\r\n    )\r\n};\r\nexport default SecondarySidebar;\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    secondarySidebar: {\r\n        height: 'calc(100vh - 64px)',\r\n    }\r\n})","import {StateType} from \"../store\";\r\n\r\nexport const getZoom = (state: StateType) => state.workspace.zoom;\r\nexport const getDownloadCase = (state: StateType) => state.workspace.downloadCase;\r\nexport const getRefLeftPanel = (state: StateType) => state.workspace.refLeftPanel;\r\nexport const getIsDownloadDialogOpen = (state: StateType) => state.workspace.isDownloadDialogOpen;\r\nexport const getFileName = (state: StateType) => state.workspace.fileName;\r\nexport const getFileNameFormIsValid = (state: StateType) => state.workspace.fileNameFormIsValid;\r\nexport const getJpegQuality = (state: StateType) => state.workspace.jpegQuality;\r\nexport const getLink = (state: StateType) => state.workspace.link;\r\nexport const getLinkFormIsValid = (state: StateType) => state.workspace.linkFormIsValid;\r\n\r\n\r\n","import React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getZoom} from \"../../../../Store/selectors/workspace-selectors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Popover from \"@material-ui/core/Popover/Popover\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport {workspaceAC} from \"../../../../Store/reducers/workspace-reducer\";\r\nimport {ZoomType} from \"../../../../Types/types\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useToolbarZoom = () => {\r\n    const classes = useStyles();\r\n    const zoom = useSelector(getZoom);\r\n    const zoomlabel = `${zoom}%`;\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = (event: React.MouseEvent<HTMLElement>) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const [anchorEl, setAnchorEl] = React.useState<HTMLElement | null>(null);\r\n    const open = Boolean(anchorEl);\r\n    const zoomArray = [10, 25, 50, 75, 100, 150, 200, 300, 400];\r\n    const listItemElements = zoomArray.map(\r\n        el => {\r\n            const onClickListItemHandler = () => {\r\n                dispatch(workspaceAC.setZoom(el as ZoomType));\r\n                handleClose();\r\n            };\r\n            return (\r\n                <ListItem key={el}\r\n                          button\r\n                          onClick={onClickListItemHandler}\r\n                >\r\n                    {el}\r\n                </ListItem>\r\n            )\r\n        }\r\n    )\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    return {\r\n        classes, zoomlabel, anchorEl, open,\r\n        onClickHandler, handleClose, listItemElements\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst ToolbarZoom: React.FC<{}> = () => {\r\n    const {\r\n        classes, zoomlabel, anchorEl, open,\r\n        onClickHandler, handleClose, listItemElements\r\n    } = useToolbarZoom();\r\n    return (\r\n        <>\r\n            <Button className={classes.button}\r\n                    onClick={onClickHandler}\r\n                    variant='outlined'\r\n            >\r\n                {zoomlabel}\r\n            </Button>\r\n            <Popover\r\n                open={open}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'center',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'center',\r\n                }}\r\n            >\r\n                <List>\r\n                    {listItemElements}\r\n                </List>\r\n            </Popover>\r\n        </>\r\n    )\r\n};\r\nexport default ToolbarZoom;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        minWidth: 36,\r\n        width: 50\r\n    }\r\n});","import React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getZoom} from \"../../../../Store/selectors/workspace-selectors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {workspaceAC} from \"../../../../Store/reducers/workspace-reducer\";\r\nimport {ZoomType} from \"../../../../Types/types\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useToolbarZoomPlus = () => {\r\n    const classes = useStyles();\r\n    const zoom = useSelector(getZoom);\r\n    const zoomArray = [10 , 25 , 50 , 75 , 100 , 150 , 200 , 300 , 400];\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = () => {\r\n        let index = zoomArray.findIndex(el => el === zoom);\r\n        if (index === zoomArray.length - 1) {\r\n            index = 0;\r\n        } else {\r\n            index += 1;\r\n        }\r\n        dispatch(workspaceAC.setZoom(zoomArray[index] as ZoomType))\r\n    };\r\n    const disabled = zoom === zoomArray[zoomArray.length - 1];\r\n    return {\r\n        classes, onClickHandler, disabled\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst ToolbarZoomPlus:React.FC<{}> = () => {\r\n    const {\r\n        classes, onClickHandler, disabled\r\n    } = useToolbarZoomPlus();\r\n    return (\r\n        <>\r\n            <Button className={classes.button}\r\n                    disabled={disabled}\r\n                    onClick={onClickHandler}\r\n            >\r\n                <Typography variant='h6'>\r\n                    +\r\n                </Typography>\r\n\r\n            </Button>\r\n\r\n        </>\r\n    )\r\n};\r\nexport default ToolbarZoomPlus;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        minWidth: 44\r\n    }\r\n});","import React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getZoom} from \"../../../../Store/selectors/workspace-selectors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {workspaceAC} from \"../../../../Store/reducers/workspace-reducer\";\r\nimport {ZoomType} from \"../../../../Types/types\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useToolbarZoomMinus = () => {\r\n    const classes = useStyles();\r\n    const zoom = useSelector(getZoom);\r\n    const zoomArray = [10, 25, 50, 75, 100, 150, 200, 300, 400];\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = () => {\r\n        let index = zoomArray.findIndex(el => el === zoom);\r\n        if (index === 0) {\r\n            index = zoomArray.length - 1;\r\n        } else {\r\n            index -= 1;\r\n        }\r\n        dispatch(workspaceAC.setZoom(zoomArray[index] as ZoomType))\r\n    };\r\n    const disabled = zoom === zoomArray[0];\r\n    return {\r\n        classes, onClickHandler, disabled\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst ToolbarZoomMinus: React.FC<{}> = () => {\r\n    const {\r\n        classes, onClickHandler, disabled\r\n    } = useToolbarZoomMinus();\r\n    return (\r\n        <>\r\n            <Button className={classes.button}\r\n                    disabled={disabled}\r\n                    onClick={onClickHandler}\r\n            >\r\n                <Typography variant='h6'>\r\n                    -\r\n                </Typography>\r\n\r\n            </Button>\r\n\r\n        </>\r\n    )\r\n};\r\nexport default ToolbarZoomMinus;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        minWidth: 44\r\n    }\r\n});","import React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Popover from \"@material-ui/core/Popover/Popover\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport {workspaceAC} from \"../../../../Store/reducers/workspace-reducer\";\r\nimport {DownloadCaseType} from \"../../../../Types/types\";\r\nimport {getIsCreated, getLang} from \"../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../Utils/lang\";\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport indigo from \"@material-ui/core/colors/indigo\";\r\nimport LanguageIcon from '@material-ui/icons/Language';\r\nimport CropOriginalIcon from '@material-ui/icons/CropOriginal';\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useToolbarDownload = () => {\r\n    const classes = useStyles();\r\n    const lang = useSelector(getLang);\r\n    const isCreated = useSelector(getIsCreated)\r\n    const downloadLabel = translate(lang, 'Download')\r\n\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = (event: React.MouseEvent<HTMLElement>) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const [anchorEl, setAnchorEl] = React.useState<HTMLElement | null>(null);\r\n    const open = Boolean(anchorEl);\r\n    const downloadCaseArray = ['PNG', 'JPEG', 'HTML'];\r\n    const icons = [\r\n        <CropOriginalIcon/>,\r\n        <ImageIcon/>,\r\n        <LanguageIcon/>\r\n    ];\r\n    const listItemElements = downloadCaseArray.map(\r\n        (el, i) => {\r\n            const onClickListItemHandler = () => {\r\n                dispatch(workspaceAC.setDownloadCase(el as DownloadCaseType));\r\n                dispatch(workspaceAC.setIsDownloadDialogOpen(true));\r\n                handleClose();\r\n            };\r\n            return (\r\n                <ListItem key={el}\r\n                          button\r\n                          onClick={onClickListItemHandler}\r\n                          className={classes.listItem}\r\n                >\r\n                    <ListItemIcon className={classes.listItemIcon}>\r\n                        {icons[i]}\r\n                    </ListItemIcon>\r\n                    <ListItemText primary={el}\r\n                                  classes={{\r\n                                      primary: classes.listItemText\r\n                                  }}\r\n                    />\r\n                </ListItem>\r\n            )\r\n        }\r\n    );\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    return {\r\n        classes, downloadLabel, anchorEl,\r\n        open, onClickHandler, handleClose,\r\n        listItemElements, isCreated\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst ToolbarDownload: React.FC<{}> = () => {\r\n    const {\r\n        classes, downloadLabel, anchorEl,\r\n        open, onClickHandler, handleClose,\r\n        listItemElements, isCreated\r\n\r\n    } = useToolbarDownload();\r\n    return (\r\n        <>\r\n            <Button className={classes.button}\r\n                    color='primary'\r\n                    disabled={!isCreated}\r\n                    startIcon={<GetAppIcon/>}\r\n                    onClick={onClickHandler}\r\n                    variant='contained'\r\n            >\r\n                {downloadLabel}\r\n            </Button>\r\n            <Popover\r\n                open={open}\r\n                className={classes.popover}\r\n                anchorEl={anchorEl}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'right',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'right',\r\n                }}\r\n            >\r\n                <List>\r\n                    {listItemElements}\r\n                </List>\r\n            </Popover>\r\n        </>\r\n    )\r\n};\r\nexport default ToolbarDownload;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        textTransform: 'none'\r\n    },\r\n    popover: {\r\n        paddingLeft: 5,\r\n        paddingRight: 5\r\n    },\r\n    listItem: {\r\n        paddingTop: 0,\r\n        paddingBottom: 0,\r\n        '&:hover': {\r\n            backgroundColor: '#ccc'\r\n        }\r\n    },\r\n    listItemText: {\r\n        fontWeight: 700\r\n    },\r\n    listItemIcon: {\r\n        color: indigo[600],\r\n        minWidth: 30\r\n    }\r\n});","export const required: FieldValidatorType = (value) =>\r\n    value ? undefined : 'Field is required';\r\n\r\nexport const empty: EmptyType = (str: string): boolean => /^\\s+$/.test(str);\r\n\r\nexport const shouldNotBeEmpty: FieldValidatorType = (value) =>\r\n    empty(value) && value !== ''\r\n        ? 'Field should not be empty'\r\n        : undefined;\r\n\r\n//=========================== TYPES =====================================\r\ntype EmptyType = (str: string) => boolean\r\nexport type FieldValidatorType = (value: string) => string | undefined","import React, {useEffect} from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm, submit} from \"redux-form\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {workspaceAC} from \"../../../../../Store/reducers/workspace-reducer\";\r\nimport RenderTextField from \"../../../../common/RenderTextField\";\r\nimport {getFileName} from \"../../../../../Store/selectors/workspace-selectors\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {required, shouldNotBeEmpty} from \"../../../../../Utils/validators\";\r\n\r\n//================= CUSTOM FORM HOOK =========================\r\nconst useForm = (valid: boolean) => {\r\n    const dispatch = useDispatch();\r\n    const onChangeHandler = () => {\r\n        setTimeout(() => dispatch(submit('fileName-form')));\r\n    };\r\n    const classes = useStyles();\r\n    useEffect(() => {\r\n        dispatch(workspaceAC.setFileNameFormIsValid(valid));\r\n    }, [valid]);\r\n    return {\r\n        onChangeHandler, classes\r\n    }\r\n};\r\n\r\n//========================== FORM =======================================\r\nconst Form: React.FC<FormPropsType> = ({handleSubmit, valid}) => {\r\n    const {\r\n        onChangeHandler, classes\r\n    } = useForm(valid);\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <Field name='fileName'\r\n                   autoFocus={true}\r\n                   component={RenderTextField}\r\n                   type=\"text\"\r\n                   size='small'\r\n                   className={classes.field}\r\n                   onChange={onChangeHandler}\r\n                   validate={[required, shouldNotBeEmpty]}\r\n            />\r\n        </form>\r\n    )\r\n};\r\n\r\n//================================== REDUX-FORM ======================================\r\nconst ReduxForm = reduxForm<FormParamsType, FormOwnPropsType>({\r\n    form: 'fileName-form',\r\n})(Form);\r\n\r\n//=========== CUSTOM COMPONENT HOOK =================\r\nconst useFileNameForm = () => {\r\n    const dispatch = useDispatch();\r\n    const onSubmitHandler = (value: FormParamsType) => {\r\n        dispatch(workspaceAC.setFileName(value.fileName))\r\n    };\r\n    const fileName = useSelector(getFileName)\r\n    const initialValues = {\r\n        fileName: fileName\r\n    };\r\n    return {\r\n        onSubmitHandler, initialValues\r\n    }\r\n};\r\n\r\n//================ COMPONENT =======================\r\nconst FileNameForm: React.FC<{}> = () => {\r\n    const {\r\n        onSubmitHandler, initialValues\r\n    } = useFileNameForm();\r\n    return (\r\n        <ReduxForm onSubmit={onSubmitHandler}\r\n                   initialValues={initialValues}\r\n        />\r\n    )\r\n};\r\nexport default FileNameForm;\r\n\r\n//=================== TYPE ==============\r\ntype FormPropsType =\r\n    InjectedFormProps<FormParamsType, FormOwnPropsType>\r\n    & FormOwnPropsType;\r\ntype FormParamsType = {\r\n    fileName: string\r\n}\r\ntype FormOwnPropsType = {};\r\n\r\n//================= STYLES ================\r\nconst useStyles = makeStyles({\r\n    field: {\r\n        width: '100%'\r\n    }\r\n});","import React from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getJpegQuality} from \"../../../../../Store/selectors/workspace-selectors\";\r\nimport {workspaceAC} from \"../../../../../Store/reducers/workspace-reducer\";\r\nimport {Typography} from \"@material-ui/core\";\r\nimport {translate} from \"../../../../../Utils/lang\";\r\nimport {getLang} from \"../../../../../Store/selectors/app-selectors\";\r\n\r\n//============ CUSTOM HOOK ===============\r\nconst useJpegQuality = () => {\r\n    const jpegQuality = useSelector(getJpegQuality);\r\n    const lang = useSelector(getLang);\r\n    const label =  translate(lang, 'Quality of jpeg')\r\n\r\n    const dispatch = useDispatch();\r\n    const onChangeHandler = (e: any, value: number | number[]) => {\r\n        dispatch(workspaceAC.setJpegQuality(value as number))\r\n    };\r\n    const classes = useStyles();\r\n    const marks = [\r\n        {\r\n            value: 0.1,\r\n            label: '0.1',\r\n        },\r\n        {\r\n            value: 0.8,\r\n            label: '0.8',\r\n        },\r\n        {\r\n            value: 1,\r\n            label: '1.0',\r\n        },\r\n    ];\r\n    return {\r\n        classes, jpegQuality, onChangeHandler,\r\n        marks, label\r\n    }\r\n};\r\n\r\n//============= COMPONENT =================\r\nconst JpegQuality: React.FC<{}> = () => {\r\n    const {\r\n        classes, jpegQuality, onChangeHandler,\r\n        marks, label\r\n    } = useJpegQuality();\r\n    return (\r\n        <div className={classes.jpegQuality}>\r\n            <Typography>{label}</Typography>\r\n            <Slider className={classes.slider}\r\n                    min={.1}\r\n                    max={1}\r\n                    step={.1}\r\n                    value={jpegQuality}\r\n                    onChange={onChangeHandler}\r\n                    marks={marks}\r\n                    valueLabelDisplay=\"auto\"\r\n            />\r\n        </div>\r\n    )\r\n};\r\nexport default JpegQuality;\r\n\r\n//============== STYLES ===================\r\nconst useStyles = makeStyles({\r\n    slider: {\r\n        margin: '10px 0',\r\n    },\r\n    jpegQuality: {\r\n        marginTop: 10\r\n    }\r\n});","import {TextField} from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nconst RenderTextFieldStartAdornment: React.FC<PropsType> = (props) => {\r\n    const {icon, label, input, meta: {touched, invalid, error}, classes, ...custom} = props;\r\n    const styles = useStyles();\r\n\r\n    return (\r\n        <div className={styles.root}>\r\n            {icon &&\r\n            <div className={styles.iconLeft}>\r\n                {icon}\r\n            </div>}\r\n            <TextField\r\n                InputProps={{\r\n                    startAdornment: <InputAdornment position=\"start\">http://</InputAdornment>,\r\n                }}\r\n                variant=\"outlined\"\r\n                label={label}\r\n                placeholder={label}\r\n                error={touched && invalid}\r\n                helperText={touched && error}\r\n                {...input}\r\n                {...custom}/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RenderTextFieldStartAdornment;\r\n\r\n//======================= TYPES ======================================================\r\ntype PropsType = {\r\n    icon: React.ReactElement\r\n    label: string\r\n    input: any\r\n    meta: {\r\n        touched: boolean\r\n        invalid: boolean\r\n        error: string\r\n    }\r\n    classes?: any\r\n}\r\n//========================= STYLES =============================================================\r\nconst useStyles = makeStyles({\r\n        root: {\r\n            position: 'relative',\r\n            width: '100%',\r\n            '& .MuiFormLabel-root': {\r\n                backgroundColor: 'white',\r\n            }\r\n        },\r\n        label: {\r\n            backgroundColor: 'white'\r\n        },\r\n        iconLeft: {\r\n            position: 'absolute',\r\n            left: -5,\r\n            top: '50%',\r\n            transform: 'translate(-100%, -50%)'\r\n        }\r\n    }\r\n);\r\n\r\n\r\n","import React, {useEffect} from \"react\";\r\nimport {Field, InjectedFormProps, reduxForm, submit} from \"redux-form\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {workspaceAC} from \"../../../../../Store/reducers/workspace-reducer\";\r\nimport {getLink} from \"../../../../../Store/selectors/workspace-selectors\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {required, shouldNotBeEmpty} from \"../../../../../Utils/validators\";\r\nimport RenderTextFieldStartAdornment from \"../../../../common/RenderTextFieldStartAdornment\";\r\n\r\n//================= CUSTOM FORM HOOK =========================\r\nconst useForm = (valid: boolean) => {\r\n    const dispatch = useDispatch();\r\n    const onChangeHandler = () => {\r\n        setTimeout(() => dispatch(submit('link-form')));\r\n    };\r\n    const classes = useStyles();\r\n    useEffect(() => {\r\n        dispatch(workspaceAC.setLinkFormIsValid(valid));\r\n    }, [valid, dispatch]);\r\n    return {\r\n        onChangeHandler, classes\r\n    }\r\n};\r\n\r\n//========================== FORM =======================================\r\nconst Form: React.FC<FormPropsType> = ({handleSubmit, valid}) => {\r\n    const {\r\n        onChangeHandler, classes\r\n    } = useForm(valid);\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <Field name='link'\r\n                   autoFocus={true}\r\n                   component={RenderTextFieldStartAdornment}\r\n                   type=\"text\"\r\n                   size='small'\r\n                   className={classes.field}\r\n                   onChange={onChangeHandler}\r\n                   validate={[required, shouldNotBeEmpty]}\r\n            />\r\n        </form>\r\n    )\r\n};\r\n\r\n//================================== REDUX-FORM ======================================\r\nconst ReduxForm = reduxForm<FormParamsType, FormOwnPropsType>({\r\n    form: 'link-form',\r\n})(Form);\r\n\r\n//=========== CUSTOM COMPONENT HOOK =================\r\nconst useFileNameForm = () => {\r\n    const dispatch = useDispatch();\r\n    const onSubmitHandler = (value: FormParamsType) => {\r\n        dispatch(workspaceAC.setLink(value.link))\r\n    };\r\n    const link = useSelector(getLink)\r\n    const initialValues = {\r\n        link: link\r\n    };\r\n    return {\r\n        onSubmitHandler, initialValues\r\n    }\r\n};\r\n\r\n//================ COMPONENT =======================\r\nconst LinkForm: React.FC<{}> = () => {\r\n    const {\r\n        onSubmitHandler, initialValues\r\n    } = useFileNameForm();\r\n    return (\r\n        <ReduxForm onSubmit={onSubmitHandler}\r\n                   initialValues={initialValues}\r\n        />\r\n    )\r\n};\r\nexport default LinkForm;\r\n\r\n//=================== TYPE ==============\r\ntype FormPropsType =\r\n    InjectedFormProps<FormParamsType, FormOwnPropsType>\r\n    & FormOwnPropsType;\r\ntype FormParamsType = {\r\n    link: string\r\n}\r\ntype FormOwnPropsType = {};\r\n\r\n//================= STYLES ================\r\nconst useStyles = makeStyles({\r\n    field: {\r\n        width: '100%'\r\n    }\r\n});","import {Dialog, makeStyles} from \"@material-ui/core\";\r\nimport React, {useRef} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    getDownloadCase,\r\n    getFileName,\r\n    getFileNameFormIsValid,\r\n    getIsDownloadDialogOpen, getJpegQuality, getLink, getLinkFormIsValid\r\n} from \"../../../../../Store/selectors/workspace-selectors\";\r\nimport {workspaceAC} from \"../../../../../Store/reducers/workspace-reducer\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport {getLang} from \"../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../Utils/lang\";\r\nimport indigo from \"@material-ui/core/colors/indigo\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport FileNameForm from \"./FileNameForm\";\r\nimport {getCanvasUrl, getSize} from \"../../../../../Store/selectors/editor-selectors\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport JpegQuality from \"./JpegQuality\";\r\nimport LinkForm from \"./LinkForm\";\r\n\r\n//============= CUSTOM HOOK ================\r\nconst useDownloadDialog = () => {\r\n    const classes = useStyles();\r\n    const lang = useSelector(getLang);\r\n    const downloadCase = useSelector(getDownloadCase);\r\n    const contentLabel = translate(lang, 'Download created banner as');\r\n    const titleLabel = translate(lang, 'Download');\r\n    const nameLabel = translate(lang, 'Enter a file name:');\r\n    const cancelLabel = translate(lang, 'Cancel');\r\n    const isDownloadDialogOpen = useSelector(getIsDownloadDialogOpen);\r\n    const canvasUrl = useSelector(getCanvasUrl);\r\n    const fileName = useSelector(getFileName);\r\n    const size = useSelector(getSize);\r\n    const fileNameFormIsValid = useSelector(getFileNameFormIsValid);\r\n    const link = useSelector(getLink);\r\n    const linkFormIsValid = useSelector(getLinkFormIsValid);\r\n    const jpegQuality = useSelector(getJpegQuality);\r\n    const dispatch = useDispatch();\r\n    const onCloseHandler = () => {\r\n        dispatch(workspaceAC.setIsDownloadDialogOpen(false));\r\n    };\r\n    let canvasAllUrl = '';\r\n    let download = '';\r\n    const linkLabel = translate(lang, 'Enter a link:');\r\n    const copyLabel = translate(lang, 'Copy');\r\n\r\n    const canvasAll = document.createElement('canvas');\r\n    canvasAll.width = size.width as number;\r\n    canvasAll.height = size.height as number;\r\n    const ctxAll = canvasAll.getContext('2d');\r\n\r\n    const imgBackground = new Image();\r\n    // imgBackground.onload = () => {\r\n    //     ctxAll!.drawImage(imgBackground, 0, 0);\r\n    // };\r\n    imgBackground.src = canvasUrl.background as string;\r\n    ctxAll!.drawImage(imgBackground, 0, 0);\r\n\r\n    if (canvasUrl.border) {\r\n        const imgBorder = new Image();\r\n        // imgBorder.onload = () => {\r\n        //     ctxAll!.drawImage(imgBorder, 0, 0);\r\n        // };\r\n        imgBorder.src = canvasUrl.border as string;\r\n        ctxAll!.drawImage(imgBorder, 0, 0);\r\n    }\r\n\r\n    const imgText = new Image();\r\n    // imgText.onload = () => {\r\n    //     ctxAll!.drawImage(imgText, 0, 0);\r\n    // };\r\n    imgText.src = canvasUrl.text as string;\r\n    ctxAll!.drawImage(imgText, 0, 0);\r\n\r\n    //if (downloadCase === 'PNG') {\r\n    canvasAllUrl = canvasAll.toDataURL();\r\n    download = `${fileName}.png`;\r\n    //}\r\n    if (downloadCase === 'JPEG') {\r\n        canvasAllUrl = canvasAll.toDataURL('image/jpeg', jpegQuality);\r\n        download = `${fileName}.jpg`\r\n    }\r\n    const html = `<a href=\"http://${link}\"><img src=${canvasAllUrl} width=\"${size.width}\" height=\"${size.height}\">`\r\n\r\n    const textareaRef = useRef(null);\r\n    const onCopyHandler = () => {\r\n        if (textareaRef !== null) {\r\n            // @ts-ignore\r\n            textareaRef.current.select();\r\n            document.execCommand('copy');\r\n        }\r\n    };\r\n\r\n    return {\r\n        isDownloadDialogOpen, onCloseHandler, titleLabel, classes,\r\n        downloadCase, contentLabel, nameLabel, canvasAllUrl, html,\r\n        fileNameFormIsValid, download, linkLabel, cancelLabel,\r\n        linkFormIsValid, textareaRef, copyLabel, onCopyHandler,\r\n    }\r\n};\r\n\r\n\r\n//============= COMPONENT ==================\r\nconst DownloadDialog: React.FC<{}> = () => {\r\n    const {\r\n        isDownloadDialogOpen, onCloseHandler, titleLabel, classes,\r\n        downloadCase, contentLabel, nameLabel, canvasAllUrl, html,\r\n        fileNameFormIsValid, download, linkLabel, cancelLabel,\r\n        linkFormIsValid, textareaRef, copyLabel, onCopyHandler\r\n    } = useDownloadDialog();\r\n\r\n    return (\r\n        <Dialog\r\n            open={isDownloadDialogOpen}\r\n            onClose={onCloseHandler}\r\n        >\r\n            <DialogTitle className={classes.dialogTitle}>\r\n                {`${contentLabel} ${downloadCase}`}\r\n            </DialogTitle>\r\n            <DialogContent>\r\n\r\n                {\r\n                    (downloadCase === 'PNG' || downloadCase === 'JPEG') &&\r\n                    <>\r\n                        <DialogContentText className={classes.dialogContentText}>\r\n                            {nameLabel}\r\n                        </DialogContentText>\r\n                        <FileNameForm/>\r\n                    </>\r\n                }\r\n\r\n                {\r\n                    downloadCase === 'HTML' &&\r\n                    <>\r\n                        <DialogContentText className={classes.dialogContentText}>\r\n                            {linkLabel}\r\n                        </DialogContentText>\r\n                        <LinkForm/>\r\n                        {\r\n                            linkFormIsValid &&\r\n                            <textarea ref={textareaRef}\r\n                                      readOnly\r\n                                      className={classes.textarea}\r\n                                      rows={4}\r\n                                      value={html}\r\n\r\n                            />\r\n                        }\r\n                    </>\r\n                }\r\n\r\n                {\r\n                    downloadCase === 'JPEG' &&\r\n                    <JpegQuality/>\r\n                }\r\n            </DialogContent>\r\n\r\n            <DialogActions>\r\n                {\r\n                    fileNameFormIsValid ?\r\n                        <>\r\n                            {\r\n                                (downloadCase === 'PNG' || downloadCase === 'JPEG') &&\r\n                                <Link variant='subtitle2'\r\n                                      underline='none'\r\n                                      href={canvasAllUrl as string}\r\n                                      onClick={onCloseHandler}\r\n                                      download={download}\r\n                                      className={classes.link}\r\n                                >\r\n                                    {titleLabel}\r\n                                </Link>\r\n                            }\r\n                        </>\r\n                        : <Typography variant='subtitle2'\r\n                                      color='textSecondary'\r\n                                      className={classes.typography}\r\n                        >\r\n                            {titleLabel}\r\n                        </Typography>\r\n                }\r\n                {\r\n                    downloadCase === 'HTML' && linkFormIsValid &&\r\n                    <Button onClick={onCopyHandler}\r\n                            className={classes.button}\r\n                            color=\"primary\"\r\n                            variant='outlined'\r\n                    >\r\n                        {copyLabel}\r\n                    </Button>\r\n                }\r\n                <Button onClick={onCloseHandler}\r\n                        variant='outlined'\r\n                        className={classes.button}\r\n                        color=\"primary\">\r\n                    {cancelLabel}\r\n                </Button>\r\n            </DialogActions>\r\n\r\n        </Dialog>\r\n    )\r\n};\r\nexport default DownloadDialog;\r\n\r\n//=================== STYLES ===================\r\nconst useStyles = makeStyles({\r\n    dialogTitle: {\r\n        backgroundColor: indigo[600],\r\n        color: '#fff',\r\n        paddingTop: 5,\r\n        paddingBottom: 5\r\n    },\r\n    button: {\r\n        textTransform: 'none'\r\n    },\r\n    dialogContentText: {\r\n        color: '#000'\r\n    },\r\n    textarea: {\r\n        marginTop: 20,\r\n        width: '100%',\r\n        resize: 'none',\r\n        borderRadius: 5,\r\n        border: '1px solid #ccc',\r\n        '&:focus': {\r\n            border: '1px solid red'\r\n        }\r\n    },\r\n    link: {\r\n        border: '1px solid rgba(63, 81, 181, 0.5)',\r\n        borderRadius: 4,\r\n        padding: '6px 15px',\r\n        '&:hover': {\r\n            border: '1px solid rgba(63, 81, 181, 1)',\r\n        }\r\n    },\r\n    typography: {\r\n        border: '1px solid #ccc',\r\n        borderRadius: 4,\r\n        padding: '6px 15px',\r\n    }\r\n})\r\n","import React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport {editorToolbarHeight} from \"../../../../Utils/CONST\";\r\nimport ToolbarZoom from \"./ToolbarZoom\";\r\nimport ToolbarZoomPlus from \"./ToolbarZoomPlus\";\r\nimport ToolbarZoomMinus from \"./ToolbarZoomMinus\";\r\nimport ToolbarDownload from \"./ToolbarDownload\";\r\nimport DownloadDialog from \"./DownloadDialog/DownloadDialog\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useEditorToolbar = () => {\r\n    const classes = useStyles();\r\n    return {classes}\r\n\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst Toolbar: React.FC<{}> = () => {\r\n    const {classes} = useEditorToolbar();\r\n    return (\r\n        <div className={classes.editorToolbar}>\r\n            <div/>\r\n            <div className={classes.centerBlock}>\r\n                <ToolbarZoomMinus />\r\n                <ToolbarZoom />\r\n                <ToolbarZoomPlus />\r\n            </div>\r\n            <div className={classes.rightBlock}>\r\n                <ToolbarDownload/>\r\n            </div>\r\n            <DownloadDialog/>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Toolbar;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    editorToolbar: {\r\n        height: editorToolbarHeight,\r\n        boxSizing: 'border-box',\r\n        padding: '0 10px',\r\n        borderBottom: '1px solid #ccc',\r\n        display: 'grid',\r\n        gridTemplateColumns: '1fr 1fr 1fr',\r\n        gridColumnGap: 10,\r\n        alignItems: 'center'\r\n    },\r\n    centerBlock: {\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n    },\r\n    rightBlock: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-end'\r\n    },\r\n    checked: {\r\n\r\n    }\r\n});","import {StateType} from \"../store\";\r\n\r\nexport const getTexts = (state: StateType) => state.text.texts;\r\nexport const getSelectedTextId = (state: StateType) => state.text.selectedTextId;\r\nexport const getShowAlarm = (state: StateType) => state.text.showAlarm;\r\n\r\n","import React from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {Field, InjectedFormProps, reduxForm, submit} from \"redux-form\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {textAC} from \"../../../../../Store/reducers/text-reducer\";\r\nimport {TextType} from \"../../../../../Types/types\";\r\nimport blue from \"@material-ui/core/colors/blue\";\r\n\r\n//================= CUSTOM FORM HOOK =========================\r\nconst useForm = (text: TextType) => {\r\n    const dispatch = useDispatch();\r\n    const onChangeHandler = () => {\r\n        setTimeout(() => dispatch(submit('text-form')));\r\n    };\r\n    const onBlurHandler = () => {\r\n        dispatch(textAC.setEditText(text.id, false));\r\n    };\r\n    const props = {\r\n        text: text\r\n    };\r\n    const classes = useStylesForm(props);\r\n    return {\r\n        onChangeHandler, classes, onBlurHandler,\r\n    }\r\n};\r\n\r\n//========================== FORM =======================================\r\nconst Form: React.FC<FormPropsType> = ({handleSubmit, text}) => {\r\n    const {\r\n        onChangeHandler, classes, onBlurHandler,\r\n    } = useForm(text);\r\n    return (\r\n        <form onSubmit={handleSubmit}\r\n              className={classes.form}\r\n        >\r\n            <Field name='text'\r\n                   component='input'\r\n                   type=\"text\"\r\n                   autoFocus={true}\r\n                   className={classes.field}\r\n                   onChange={onChangeHandler}\r\n                   onBlur={onBlurHandler}\r\n            />\r\n        </form>\r\n    )\r\n};\r\n\r\n//================================== REDUX-FORM ======================================\r\nconst ReduxForm = reduxForm<FormParamsType, FormOwnPropsType>({\r\n    form: 'text-form',\r\n})(Form);\r\n\r\n//======================== CUSTOM COMPONENT HOOK =========================\r\nconst useBannerTextForm = (id: number, content: string) => {\r\n    const dispatch = useDispatch();\r\n    const onSubmitHandler = (value: FormParamsType) => {\r\n        dispatch(textAC.setContent(id, value.text));\r\n    };\r\n    const initialValues = {\r\n        text: content\r\n    };\r\n    return {\r\n        onSubmitHandler, initialValues\r\n    }\r\n};\r\n\r\n//========================= COMPONENT =======================\r\nconst BannerTextForm: React.FC<ComponentPropsType> = ({text}) => {\r\n    const {\r\n        onSubmitHandler, initialValues\r\n    } = useBannerTextForm(text.id, text.content);\r\n    return (\r\n        <>\r\n            <ReduxForm onSubmit={onSubmitHandler}\r\n                       text={text}\r\n                       initialValues={initialValues}\r\n            />\r\n        </>\r\n    )\r\n};\r\nexport default BannerTextForm;\r\n\r\n//=================== TYPE ==============\r\ntype FormPropsType =\r\n    InjectedFormProps<FormParamsType, FormOwnPropsType>\r\n    & FormOwnPropsType;\r\ntype FormParamsType = {\r\n    text: string\r\n}\r\ntype FormOwnPropsType = {\r\n    text: TextType\r\n};\r\ntype ComponentPropsType = {\r\n    text: TextType\r\n}\r\n\r\n//================= STYLES ================\r\nconst useStylesForm = makeStyles({\r\n    form: (props: FormOwnPropsType) => ({\r\n        zIndex: 10,\r\n        position: 'absolute',\r\n        top: props.text.position.top,\r\n        left: props.text.position.left,\r\n    }),\r\n    field: (props: FormOwnPropsType) => ({\r\n        position: 'absolute',\r\n        fontSize: props.text.fontSize,\r\n        fontFamily: props.text.fontFamily,\r\n        lineHeight: `${props.text.fontSize}px`,\r\n        color: props.text.color,\r\n        top: 0,\r\n        left: 0,\r\n        backgroundColor: blue[50],\r\n        padding: 0,\r\n    }),\r\n    hide: {\r\n        display: 'none'\r\n    }\r\n});\r\n","export const ItemTypes = {\r\n    TEXT: 'text'\r\n};\r\nexport type ItemType = {\r\n    type: string\r\n    id: number\r\n    x: number\r\n    y: number\r\n}","import {TextType} from \"../../../../../Types/types\";\r\nimport styled from \"styled-components\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {textAC} from \"../../../../../Store/reducers/text-reducer\";\r\nimport clsx from \"clsx\";\r\nimport React, {useEffect, useRef} from \"react\";\r\nimport {getRefLeftPanel, getZoom} from \"../../../../../Store/selectors/workspace-selectors\";\r\nimport BannerTextForm from \"./BannerTextForm\";\r\nimport {useDrag} from \"react-dnd\";\r\nimport {ItemTypes} from \"../../../../../DragAndDrop/Dnd\";\r\n\r\n//==================== STYLED ===================\r\nconst Span = styled.span`\r\n    position: absolute;\r\n    top: ${(props: PropsSpanType) => `${props.top * props.zoom / 100}px`};\r\n    left: ${(props: PropsSpanType) => `${props.left * props.zoom / 100}px`};\r\n    color: ${(props: PropsSpanType) => props.color};\r\n    font-size: ${(props: PropsSpanType) => `${props.fontSize * props.zoom / 100}px`};\r\n    line-height: ${(props: PropsSpanType) => `${props.fontSize * props.zoom / 100}px`};\r\n    font-family: ${(props: PropsSpanType) => props.fontFamily};\r\n    font-style: ${(props: PropsSpanType) => props.fontStyle};\r\n    user-select: none;\r\n`;\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useBannerText = (text: TextType) => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch();\r\n    const wrapperRef = useRef(null);\r\n    const zoom = useSelector(getZoom);\r\n\r\n    const onMouseEnterHandler = () => {\r\n        dispatch(textAC.setHover(text.id, true))\r\n    };\r\n    const onMouseLeaveHandler = () => {\r\n        dispatch(textAC.setHover(text.id, false))\r\n    };\r\n\r\n    const onMouseDownHandler = () => {\r\n        dispatch(textAC.setSelected(text.id, true));\r\n\r\n    };\r\n    const onMouseUpHandler = () => {\r\n        dispatch(textAC.setSelected(text.id, false))\r\n    };\r\n\r\n    const onClickHandler = () => {\r\n        dispatch(textAC.setEditParameters(text.id, true));\r\n        dispatch(textAC.setSelectedTextId(text.id))\r\n    };\r\n    const cb = () => {\r\n        dispatch(textAC.setEditParameters(text.id, false));\r\n    };\r\n    const onDoubleClickHandler = () => {\r\n        dispatch(textAC.setEditText(text.id, true));\r\n    };\r\n    const refLeftPanel = useSelector(getRefLeftPanel) as React.MutableRefObject<null>;\r\n    const onOutsideClickHandler = (event: MouseEvent): void => {\r\n        if (\r\n            // @ts-ignore\r\n            !wrapperRef.current.contains(event.target) &&\r\n            // @ts-ignore\r\n            !refLeftPanel.current.contains(event.target)\r\n        ) {\r\n            cb();\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (text.editParameters) {\r\n            document.addEventListener(\"mousedown\", onOutsideClickHandler);\r\n        }\r\n\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\", onOutsideClickHandler);\r\n        };\r\n    }, [onOutsideClickHandler, text.editParameters]);\r\n\r\n    const [{isDragging}, dragRef] = useDrag({\r\n        item: {\r\n            id: text.id,\r\n            x: text.position.left,\r\n            y: text.position.top,\r\n            type: ItemTypes.TEXT\r\n        },\r\n        collect: (monitor) => ({\r\n            isDragging: monitor.isDragging()\r\n        })\r\n    });\r\n\r\n    let content = text.content;\r\n    if (text.lowerCase) {\r\n        content = content.toLowerCase();\r\n    }\r\n    if (text.upperCase) {\r\n        content = content.toUpperCase();\r\n    }\r\n\r\n    return {\r\n        classes, onMouseEnterHandler, onMouseLeaveHandler,\r\n        onMouseDownHandler, onMouseUpHandler, wrapperRef,\r\n        onClickHandler, onDoubleClickHandler,\r\n        isDragging, dragRef, content, zoom\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst BannerCSSText: React.FC<PropsType> = ({text}) => {\r\n    const {\r\n        classes, onMouseEnterHandler, onMouseLeaveHandler,\r\n        onMouseDownHandler, onMouseUpHandler, wrapperRef,\r\n        onClickHandler, onDoubleClickHandler,\r\n        isDragging, dragRef, content, zoom\r\n    } = useBannerText(text);\r\n\r\n    if (isDragging) {\r\n        return <div ref={dragRef}/>\r\n    }\r\n\r\n    return (\r\n        <div ref={wrapperRef}>\r\n            {\r\n                text.editText &&\r\n                <BannerTextForm text={text}/>\r\n            }\r\n            <Span fontSize={text.fontSize}\r\n                  fontFamily={text.fontFamily}\r\n                  fontStyle={text.fontStyle}\r\n                  color={text.color}\r\n                  ref={dragRef}\r\n                  top={text.position.top}\r\n                  left={text.position.left}\r\n                  zoom={zoom}\r\n                  onMouseEnter={onMouseEnterHandler}\r\n                  onMouseLeave={onMouseLeaveHandler}\r\n                  onMouseDown={onMouseDownHandler}\r\n                  onMouseUp={onMouseUpHandler}\r\n                  onClick={onClickHandler}\r\n                  onDoubleClick={onDoubleClickHandler}\r\n                  className={clsx(\r\n                      text.hover && classes.hover,\r\n                      text.editParameters && classes.clicked,\r\n                      text.editText && classes.hide\r\n                  )}\r\n            >\r\n                {content}\r\n            </Span>\r\n        </div>\r\n    )\r\n};\r\nexport default BannerCSSText;\r\n\r\n//============== TYPE ================\r\ntype PropsType = {\r\n    text: TextType\r\n}\r\ntype PropsSpanType = {\r\n    top: number\r\n    left: number\r\n    fontSize: number\r\n    fontFamily: string\r\n    fontStyle: string\r\n    color: string\r\n    zoom: number\r\n}\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    hover: {\r\n        outline: '1px solid #ccc',\r\n        cursor: 'move'\r\n    },\r\n    clicked: {\r\n        outline: '2px solid black',\r\n    },\r\n    protect: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        width: '100%',\r\n        height: '100%',\r\n        backgroundColor: 'rgba(0,0,0,0.5)'\r\n    },\r\n    hide: {\r\n        display: 'none'\r\n    }\r\n});\r\n\r\n","import React, {ReactElement} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getTexts} from \"../../../../../Store/selectors/text-selectors\";\r\nimport BannerCSSText from \"./BannerCSSText\";\r\n\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useBannerTexts = () => {\r\n    const texts = useSelector(getTexts);\r\n    const textElements = texts.map(\r\n        el => <BannerCSSText key={el.id} text={el}/>\r\n    );\r\n    return {\r\n        textElements\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst BannerCSSTexts: React.FC<{}> = (): ReactElement => {\r\n    const {\r\n        textElements\r\n    } = useBannerTexts();\r\n    return (\r\n        <>\r\n            {textElements}\r\n        </>\r\n    )\r\n};\r\nexport default BannerCSSTexts;","import React, {ReactElement, useEffect, useRef} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    getAlign,\r\n    getBackgroundStyle,\r\n    getBackgroundStyleColor, getColorEnd, getColorStart, getCurrentImage,\r\n    getGradientStyle, getScaleMode,\r\n    getSize\r\n} from \"../../../../../Store/selectors/editor-selectors\";\r\nimport {getZoom} from \"../../../../../Store/selectors/workspace-selectors\";\r\nimport {editorAC} from \"../../../../../Store/reducers/editor-reducer\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useBannerCanvasBackground = () => {\r\n    const classes = useStyles();\r\n    const size = useSelector(getSize);\r\n    const backgroundStyle = useSelector(getBackgroundStyle);\r\n    const backgroundStyleColor = useSelector(getBackgroundStyleColor);\r\n    const gradientStyle = useSelector(getGradientStyle);\r\n    const colorStart = useSelector(getColorStart);\r\n    const colorEnd = useSelector(getColorEnd);\r\n    const currentImage = useSelector(getCurrentImage);\r\n    const scaleMode = useSelector(getScaleMode);\r\n    const align = useSelector(getAlign);\r\n    const zoom = useSelector(getZoom);\r\n    let canvasRef = useRef<HTMLCanvasElement | null>(null);\r\n    let canvasCtxRef = React.useRef<CanvasRenderingContext2D | null>(null);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if (canvasRef.current && size.width && size.height) {\r\n            canvasCtxRef.current = canvasRef.current.getContext('2d');\r\n            let ctx = canvasCtxRef.current;\r\n            //========== COLOR ============\r\n            if (backgroundStyle === 'color') {\r\n                ctx!.fillStyle = backgroundStyleColor.color;\r\n                ctx!.fillRect(0, 0, size.width, size.height);\r\n                dispatch(editorAC.setCanvasUrl('background', canvasRef.current.toDataURL()))\r\n            }\r\n            //========== GRADIENT ==========\r\n            if (backgroundStyle === 'gradient') {\r\n                let gradient: CanvasGradient;\r\n                if (gradientStyle === 'horizontal') {\r\n                    gradient = ctx!.createLinearGradient(0, 0, size.width, 0);\r\n                } else if (gradientStyle === 'vertical') {\r\n                    gradient = ctx!.createLinearGradient(0, 0, 0, size.height);\r\n                } else {\r\n                    gradient = ctx!.createRadialGradient(\r\n                        size.width / 2, size.height / 2, 0,\r\n                        size.width / 2, size.height / 2, Math.sqrt((size.width * size.width) + (size.height * size.height)) / 2\r\n                    );\r\n                };\r\n                ctx!.clearRect(0, 0, size.width, size.height);\r\n                gradient.addColorStop(0, colorStart);\r\n                gradient.addColorStop(1, colorEnd);\r\n                ctx!.fillStyle = gradient;\r\n                ctx!.fillRect(0, 0, size.width, size.height);\r\n                dispatch(editorAC.setCanvasUrl('background', canvasRef.current.toDataURL()))\r\n            }\r\n            //============ IMAGE ===========\r\n            if (backgroundStyle === 'image') {\r\n                if (currentImage) {\r\n                    const cw = size.width as number;\r\n                    const ch = size.height as number;\r\n                    dispatch(editorAC.setIsLoading(true));\r\n                    const image = new Image();\r\n                    image.onload = () => {\r\n                        dispatch(editorAC.setIsLoading(false));\r\n                        const iw = image.width;\r\n                        const ih = image.height;\r\n\r\n                        let cx, cy, ix, iy;\r\n                        ctx!.clearRect(0, 0, cw, ch);\r\n                        ctx!.fillStyle = '#FFF';\r\n                        ctx!.fillRect(0, 0, cw, ch);\r\n                        //================= NO SCALE ================\r\n                        if (scaleMode === 'No scale') {\r\n                            cx = 0;\r\n                            cy = 0;\r\n                            ix = 0;\r\n                            iy = 0;\r\n                            switch (align) {\r\n                                case 'left-top': {\r\n                                    ix = 0;\r\n                                    iy = 0;\r\n                                    break\r\n                                }\r\n                                case 'center-top': {\r\n                                    ix = iw / 2 - cw / 2;\r\n                                    iy = 0;\r\n                                    break\r\n                                }\r\n                                case 'right-top': {\r\n                                    ix = iw - cw;\r\n                                    iy = 0;\r\n                                    break\r\n                                }\r\n                                case 'left-center': {\r\n                                    ix = 0;\r\n                                    iy = ih / 2 - ch / 2;\r\n                                    break\r\n                                }\r\n                                case 'center': {\r\n                                    ix = iw / 2 - cw / 2;\r\n                                    iy = ih / 2 - ch / 2;\r\n                                    break\r\n                                }\r\n                                case 'right-center': {\r\n                                    ix = iw - cw;\r\n                                    iy = ih / 2 - ch / 2;\r\n                                    break\r\n                                }\r\n                                case 'left-bottom': {\r\n                                    ix = 0;\r\n                                    iy = ih - ch;\r\n                                    break\r\n                                }\r\n                                case 'center-bottom': {\r\n                                    ix = iw / 2 - cw / 2;\r\n                                    iy = ih - ch;\r\n                                    break\r\n                                }\r\n                                case 'right-bottom': {\r\n                                    ix = iw - cw;\r\n                                    iy = ih - ch;\r\n                                    break\r\n                                }\r\n                            }\r\n                            ctx!.drawImage(image, ix, iy, cw, ch, cx, cy, cw, ch);\r\n                            //================= EXACT FIT ================\r\n                        } else if (scaleMode === 'Exact fit') {\r\n                            ctx!.drawImage(image, 0, 0, iw, ih, 0, 0, cw, ch);\r\n                            //================= MAINTAIN ASPECT ================\r\n                        } else if (scaleMode === 'Maintain aspect') {\r\n                            if (iw / ih > cw / ch) { // изображение длиннее канваса\r\n                                const ch1 = cw * ih / iw;\r\n                                switch (align) {\r\n                                    case 'left-top':\r\n                                    case 'center-top':\r\n                                    case 'right-top': {\r\n                                        cy = 0;\r\n                                        break\r\n                                    }\r\n                                    case 'left-center':\r\n                                    case 'center':\r\n                                    case 'right-center': {\r\n                                        cy = (ch - ch1) / 2;\r\n                                        break\r\n                                    }\r\n                                    case 'left-bottom':\r\n                                    case 'center-bottom':\r\n                                    case 'right-bottom': {\r\n                                        cy = ch - ch1;\r\n                                        break\r\n                                    }\r\n                                }\r\n                                ctx!.drawImage(image, 0, 0, iw, ih, 0, cy, cw, ch1);\r\n                            } else if (iw / ih < cw / ch) {\r\n                                const cw1 = iw * ch / ih;\r\n                                switch (align) {\r\n                                    case 'left-top':\r\n                                    case 'left-center':\r\n                                    case 'left-bottom': {\r\n                                        cx = 0;\r\n                                        break\r\n                                    }\r\n                                    case 'center-top':\r\n                                    case 'center':\r\n                                    case 'center-bottom': {\r\n                                        cx = (cw - cw1) / 2;\r\n                                        break\r\n                                    }\r\n                                    case 'right-top':\r\n                                    case 'right-center':\r\n                                    case 'right-bottom': {\r\n                                        cx = cw - cw1;\r\n                                        break\r\n                                    }\r\n                                    default:\r\n                                        cx = 0;\r\n                                }\r\n                                ctx!.drawImage(image, 0, 0, iw, ih, cx, 0, cw1, ch);\r\n                            } else { // iw / ih = cw / ch\r\n                                ctx!.drawImage(image, 0, 0, iw, ih, 0, 0, cw, ch);\r\n                            }\r\n                        } else if (scaleMode === 'Scale crop') {\r\n                            if (iw / ih > cw / ch) {\r\n                                const iw1 = ih * cw / ch;\r\n                                switch (align) {\r\n                                    case 'left-top':\r\n                                    case 'left-center':\r\n                                    case 'left-bottom': {\r\n                                        ix = 0;\r\n                                        break\r\n                                    }\r\n                                    case 'center-top':\r\n                                    case 'center':\r\n                                    case 'center-bottom': {\r\n                                        ix = (iw - iw1) / 2;\r\n                                        break\r\n                                    }\r\n                                    case 'right-top':\r\n                                    case 'right-center':\r\n                                    case 'right-bottom': {\r\n                                        ix = iw - iw1;\r\n                                        break\r\n                                    }\r\n                                    default:\r\n                                        ix = 0;\r\n                                }\r\n                                ctx!.drawImage(image, ix, 0, iw1, ih, 0, 0, cw, ch);\r\n                            } else if (iw / ih < cw / ch) {\r\n                                const ih1 = iw * ch / cw;\r\n                                switch (align) {\r\n                                    case 'left-top':\r\n                                    case 'center-top':\r\n                                    case 'right-top': {\r\n                                        iy = 0;\r\n                                        break\r\n                                    }\r\n                                    case 'left-center':\r\n                                    case 'center':\r\n                                    case 'right-center': {\r\n                                        iy = (ih - ih1) / 2;\r\n                                        break\r\n                                    }\r\n                                    case 'left-bottom':\r\n                                    case 'center-bottom':\r\n                                    case 'right-bottom': {\r\n                                        iy = ih - ih1;\r\n                                        break\r\n                                    }\r\n                                }\r\n                                ctx!.drawImage(image, 0, iy, iw, ih1, 0, 0, cw, ch);\r\n                            } else { //iw / ih = cw / ch\r\n                                ctx!.drawImage(image, 0, 0, iw, ih, 0, 0, cw, ch);\r\n                            }\r\n                        }\r\n\r\n                        // @ts-ignore\r\n                        dispatch(editorAC.setCanvasUrl('background', canvasRef.current.toDataURL()))\r\n                    };\r\n                    image.src = currentImage.src;\r\n\r\n                }\r\n            }\r\n            //dispatch(editorAC.setCanvasUrl('background', canvasRef.current.toDataURL()))\r\n            //console.log(canvasRef.current.toDataURL())\r\n        }\r\n    }, [\r\n        size, backgroundStyle, backgroundStyleColor,\r\n        gradientStyle, colorStart, colorEnd, currentImage,\r\n        scaleMode, align, dispatch\r\n    ]);\r\n    return {\r\n        classes, size, canvasRef, zoom\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst BannerCanvasBackground: React.FC<{}> = (): ReactElement => {\r\n    const {\r\n        classes, size, canvasRef, zoom\r\n    } = useBannerCanvasBackground();\r\n\r\n    return (\r\n        <>\r\n            {\r\n                size.width && size.height &&\r\n                <canvas\r\n                    className={classes.bannerCanvasBackground}\r\n                    ref={canvasRef}\r\n                    width={size.width}\r\n                    height={size.height}\r\n                    style={{\r\n                        transform: `scale(${zoom / 100})`,\r\n                        transformOrigin: 'left top'\r\n                    }}\r\n                />\r\n            }\r\n        </>\r\n    )\r\n};\r\n\r\nconst BannerCanvasBackgroundMemo = React.memo(BannerCanvasBackground);\r\nexport default BannerCanvasBackgroundMemo;\r\n\r\n//======================== STYLES ========================\r\nconst useStyles = makeStyles({\r\n    bannerCanvasBackground: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0\r\n    }\r\n});","import React, {ReactElement, useEffect, useRef} from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getSize} from \"../../../../../Store/selectors/editor-selectors\";\r\nimport {getTexts} from \"../../../../../Store/selectors/text-selectors\";\r\nimport {editorAC} from \"../../../../../Store/reducers/editor-reducer\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useBannerCanvasTexts = () => {\r\n    const classes = useStyles();\r\n    const size = useSelector(getSize);\r\n    const texts = useSelector(getTexts);\r\n    let canvasRef = useRef<HTMLCanvasElement | null>(null);\r\n    let canvasCtxRef = React.useRef<CanvasRenderingContext2D | null>(null);\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if (canvasRef.current && size.width && size.height) {\r\n            canvasCtxRef.current = canvasRef.current.getContext('2d');\r\n            let ctx = canvasCtxRef.current;\r\n            ctx!.clearRect(0, 0, size.width, size.height);\r\n\r\n            for (let i = 0; i < texts.length; i++) {\r\n                let content = texts[i].content;\r\n                if (texts[i].lowerCase) {\r\n                    content = content.toLowerCase();\r\n                }\r\n                if (texts[i].upperCase) {\r\n                    content = content.toUpperCase();\r\n                }\r\n\r\n                ctx!.fillStyle = texts[i].color;\r\n                ctx!.font = `${texts[i].fontStyle} ${texts[i].fontSize}px ${texts[i].fontFamily}`;\r\n                ctx!.textBaseline = 'top';\r\n                ctx!.fillText(content, texts[i].position.left, texts[i].position.top);\r\n\r\n            }\r\n\r\n            dispatch(editorAC.setCanvasUrl('text', canvasRef.current.toDataURL()))\r\n        }\r\n    }, [texts, dispatch]);\r\n\r\n    return {\r\n        classes, size, canvasRef\r\n    }\r\n}\r\n\r\n\r\n//============== COMPONENT =================\r\nconst BannerCanvasTexts: React.FC<{}> = (): ReactElement => {\r\n    const {\r\n        classes, size, canvasRef\r\n    } = useBannerCanvasTexts();\r\n    return (\r\n        <>\r\n            {\r\n                size.width && size.height &&\r\n                <canvas\r\n                    className={classes.bannerCanvasTexts}\r\n                    ref={canvasRef}\r\n                    width={size.width}\r\n                    height={size.height}\r\n                />\r\n            }\r\n        </>\r\n    )\r\n};\r\n\r\nconst BannerCanvasTextsMemo = React.memo(BannerCanvasTexts);\r\nexport default BannerCanvasTextsMemo;\r\n\r\n//======================== STYLES ========================\r\nconst useStyles = makeStyles({\r\n    bannerCanvasTexts: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        display: 'none'\r\n    }\r\n});","import {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    getBorderColor,\r\n    getSize\r\n} from \"../../../../../Store/selectors/editor-selectors\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport React, {ReactElement, useEffect, useRef} from \"react\";\r\nimport {getZoom} from \"../../../../../Store/selectors/workspace-selectors\";\r\nimport {editorAC} from \"../../../../../Store/reducers/editor-reducer\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useBannerCanvasBackground = () => {\r\n    const classes = useStyles();\r\n    const size = useSelector(getSize);\r\n    const zoom = useSelector(getZoom);\r\n    const dispatch = useDispatch();\r\n    const borderColor = useSelector(getBorderColor);\r\n    let canvasRef = useRef<HTMLCanvasElement | null>(null);\r\n    let canvasCtxRef = React.useRef<CanvasRenderingContext2D | null>(null);\r\n\r\n    useEffect(() => {\r\n        if (canvasRef.current && size.width && size.height) {\r\n            canvasCtxRef.current = canvasRef.current.getContext('2d');\r\n            let ctx = canvasCtxRef.current;\r\n            ctx!.clearRect(0, 0, size.width, size.height);\r\n            ctx!.strokeStyle = borderColor;\r\n            ctx!.lineWidth = 4;\r\n            ctx!.strokeRect(0, 0, size.width, size.height);\r\n            dispatch(editorAC.setCanvasUrl('border', canvasRef.current.toDataURL()))\r\n        }\r\n    }, [size, borderColor, dispatch]);\r\n\r\n    return {\r\n        classes, size, canvasRef, zoom\r\n    }\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst BannerCanvasBorder: React.FC<{}> = (): ReactElement => {\r\n    const {\r\n        classes, size, canvasRef, zoom\r\n    } = useBannerCanvasBackground();\r\n\r\n    return (\r\n        <>\r\n            {\r\n                size.width && size.height &&\r\n                <canvas\r\n                    className={classes.bannerCanvasBorder}\r\n                    ref={canvasRef}\r\n                    width={size.width}\r\n                    height={size.height}\r\n                    style={{\r\n                        transform: `scale(${zoom/100})`,\r\n                        transformOrigin: 'left top'\r\n                    }}\r\n                />\r\n            }\r\n        </>\r\n    )\r\n};\r\nconst BannerCanvasBorderMemo = React.memo(BannerCanvasBorder);\r\nexport default BannerCanvasBorderMemo;\r\n\r\n//======================== STYLES ========================\r\nconst useStyles = makeStyles({\r\n    bannerCanvasBorder: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0\r\n    }\r\n});","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getSize, getUseBorder} from \"../../../../../Store/selectors/editor-selectors\";\r\nimport {getZoom} from \"../../../../../Store/selectors/workspace-selectors\";\r\nimport {ZoomType} from \"../../../../../Types/types\";\r\nimport BannerCSSTexts from \"../BannerCSS/BannerCSSTexts\";\r\nimport BannerCanvasBackgroundMemo from \"./BannerCanvasBackground\";\r\nimport {useDrop, XYCoord} from \"react-dnd\";\r\nimport {ItemType, ItemTypes} from \"../../../../../DragAndDrop/Dnd\";\r\nimport {textAC} from \"../../../../../Store/reducers/text-reducer\";\r\nimport BannerCanvasTextsMemo from \"./BannerCanvasTexts\";\r\nimport BannerCanvasBorderMemo from \"./BannerCanvasBorder\";\r\n\r\nconst Div = styled.div`\r\n  width: ${(props: PropsType) => props.width ? `${props.width * props.zoom / 100}px` : '0px'};\r\n  height: ${(props: PropsType) => props.height ? `${props.height * props.zoom / 100}px` : '0px'};\r\n  position: relative;  \r\n`;\r\n\r\n//=================== CUSTOM HOOK =======================\r\nconst useBannerCanvasWrapper = () => {\r\n    const size = useSelector(getSize);\r\n    const useBorder = useSelector(getUseBorder);\r\n    const zoom = useSelector(getZoom);\r\n    const dispatch = useDispatch();\r\n    const [, dropRef] = useDrop({\r\n        accept: ItemTypes.TEXT,\r\n        drop(item: ItemType, monitor) {\r\n            const positionCursorDifference = monitor.getDifferenceFromInitialOffset() as XYCoord;\r\n            const posDiffZoom = {\r\n                x: positionCursorDifference.x * 100 / zoom,\r\n                y: positionCursorDifference.y * 100 / zoom,\r\n            };\r\n            dispatch(textAC.setPosition(item.id, posDiffZoom as XYCoord))\r\n        }\r\n    });\r\n    return {\r\n        size, useBorder, zoom, dropRef\r\n    }\r\n};\r\n\r\n//==================== COMPONENT ==========================\r\nconst BannerCanvasWrapper: React.FC<{}> = () => {\r\n    const {\r\n        size, useBorder, zoom, dropRef\r\n    } = useBannerCanvasWrapper();\r\n    return (\r\n        <Div width={size.width}\r\n             height={size.height}\r\n             zoom={zoom}\r\n             ref={dropRef}\r\n        >\r\n            <BannerCanvasBackgroundMemo/>\r\n            {\r\n                useBorder &&\r\n                <BannerCanvasBorderMemo/>\r\n            }\r\n            <BannerCanvasTextsMemo />\r\n            <BannerCSSTexts/>\r\n        </Div>\r\n    )\r\n};\r\nexport default BannerCanvasWrapper;\r\n\r\n//================= TYPE ==================\r\ntype PropsType = {\r\n    width: number | null\r\n    height: number | null\r\n    zoom: ZoomType\r\n}","import makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport React from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {textAC} from \"../../../../../../Store/reducers/text-reducer\";\r\n\r\n//======================== CUSTOM HOOK ============================\r\nconst useButtonFontStyle = (selectedTextId: number, fontStyle: 'normal' | 'italic') => {\r\n    const classes = useStyles();\r\n    const variant = (fontStyle === 'italic' ? 'outlined' : 'text') as 'outlined' | 'text';\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = () => {\r\n        dispatch(textAC.setFontStyle(selectedTextId, fontStyle === 'italic' ? 'normal' : 'italic'))\r\n    };\r\n\r\n    return {\r\n        classes, onClickHandler, variant\r\n    }\r\n}\r\n\r\n\r\n//======================== COMPONENT ==============================\r\nconst ButtonFontStyle: React.FC<PropsType> = ({selectedTextId, fontStyle}) => {\r\n    const {\r\n        classes, onClickHandler, variant\r\n    } = useButtonFontStyle(selectedTextId, fontStyle);\r\n\r\n    return (\r\n        <Button size='small'\r\n                variant={variant}\r\n                className={classes.button}\r\n                onClick={onClickHandler}\r\n        >\r\n            <Typography variant='h6'\r\n                        className={classes.typography}\r\n            >\r\n                T\r\n            </Typography>\r\n        </Button>\r\n\r\n    )\r\n};\r\nexport default ButtonFontStyle\r\n\r\n//======================== TYPE =========================\r\ntype PropsType = {\r\n    selectedTextId: number\r\n    fontStyle: 'normal' | 'italic'\r\n}\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        minWidth: 42\r\n    },\r\n    typography: {\r\n        fontStyle: 'italic'\r\n    }\r\n});\r\n","import makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport React from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {textAC} from \"../../../../../../Store/reducers/text-reducer\";\r\n\r\n//======================== CUSTOM HOOK ============================\r\nconst useButtonFontStyle = (selectedTextId: number, lowerCase: boolean) => {\r\n    const classes = useStyles();\r\n    const variant = (lowerCase ? 'outlined' : 'text') as 'outlined' | 'text';\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = () => {\r\n        dispatch(textAC.setLowerCase(selectedTextId, lowerCase ? false : true));\r\n        if (!lowerCase) {\r\n            dispatch(textAC.setUpperCase(selectedTextId, false))\r\n        }\r\n    };\r\n\r\n    return {\r\n        classes, onClickHandler, variant\r\n    }\r\n};\r\n\r\n//======================== COMPONENT ==============================\r\nconst ButtonLowerCase: React.FC<PropsType> = ({selectedTextId, lowerCase}) => {\r\n    const {\r\n        classes, onClickHandler, variant\r\n    } = useButtonFontStyle(selectedTextId, lowerCase);\r\n\r\n    return (\r\n        <Button size='small'\r\n                variant={variant}\r\n                className={classes.button}\r\n                onClick={onClickHandler}\r\n        >\r\n            <Typography variant='h6'\r\n                        className={classes.typography}\r\n\r\n            >\r\n                t\r\n            </Typography>\r\n        </Button>\r\n\r\n    )\r\n};\r\nexport default ButtonLowerCase\r\n\r\n//======================== TYPE =========================\r\ntype PropsType = {\r\n    selectedTextId: number\r\n    lowerCase: boolean\r\n}\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        minWidth: 42\r\n    },\r\n    typography: {\r\n        textTransform: 'none'\r\n    }\r\n});\r\n","import makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport React from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {textAC} from \"../../../../../../Store/reducers/text-reducer\";\r\n\r\n//======================== CUSTOM HOOK ============================\r\nconst useButtonUpperCase = (selectedTextId: number, upperCase: boolean) => {\r\n    const classes = useStyles();\r\n    const variant = (upperCase ? 'outlined' : 'text') as 'outlined' | 'text';\r\n    const dispatch = useDispatch();\r\n    const onClickHandler = () => {\r\n        dispatch(textAC.setUpperCase(selectedTextId, upperCase ? false : true));\r\n        if (!upperCase) {\r\n            dispatch(textAC.setLowerCase(selectedTextId, false))\r\n        }\r\n    };\r\n\r\n    return {\r\n        classes, onClickHandler, variant\r\n    }\r\n};\r\n\r\n//======================== COMPONENT ==============================\r\nconst ButtonUpperCase: React.FC<PropsType> = ({selectedTextId, upperCase}) => {\r\n    const {\r\n        classes, onClickHandler, variant\r\n    } = useButtonUpperCase(selectedTextId, upperCase);\r\n\r\n    return (\r\n        <Button size='small'\r\n                variant={variant}\r\n                className={classes.button}\r\n                onClick={onClickHandler}\r\n        >\r\n            <Typography variant='h6'\r\n                        className={classes.typography}\r\n\r\n            >\r\n                T\r\n            </Typography>\r\n        </Button>\r\n\r\n    )\r\n};\r\nexport default ButtonUpperCase\r\n\r\n//======================== TYPE =========================\r\ntype PropsType = {\r\n    selectedTextId: number\r\n    upperCase: boolean\r\n}\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    button: {\r\n        minWidth: 42\r\n    },\r\n    typography: {\r\n        textTransform: 'none'\r\n    }\r\n});\r\n","import React from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {Typography} from \"@material-ui/core\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\nimport grey from \"@material-ui/core/colors/grey\";\r\nimport {getLang} from \"../../../../../../Store/selectors/app-selectors\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {translate} from \"../../../../../../Utils/lang\";\r\nimport {getSelectedTextId, getTexts} from \"../../../../../../Store/selectors/text-selectors\";\r\nimport {TextType} from \"../../../../../../Types/types\";\r\nimport {textAC} from \"../../../../../../Store/reducers/text-reducer\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport ButtonFontStyle from \"./ButtonFontStyle\";\r\nimport ButtonLowerCase from \"./ButtonLowerCase\";\r\nimport ButtonUpperCase from \"./ButtonUpperCase\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useLeftPanelText = () => {\r\n    const classes = useStyles();\r\n    const lang = useSelector(getLang);\r\n    const textLabel = translate(lang, 'Text');\r\n    const fontSizeLabel = translate(lang, 'Font size (px)');\r\n    const texts = useSelector(getTexts);\r\n    const selectedTextId = useSelector(getSelectedTextId);\r\n    const value = (texts.find(el => el.id === selectedTextId) as TextType).fontSize;\r\n    const fontStyle = (texts.find(el => el.id === selectedTextId) as TextType).fontStyle;\r\n    const lowerCase = (texts.find(el => el.id === selectedTextId) as TextType).lowerCase;\r\n    const upperCase = (texts.find(el => el.id === selectedTextId) as TextType).upperCase;\r\n    const dispatch = useDispatch();\r\n    const handleChange = (e: any, value: number | number[]) => {\r\n        dispatch(textAC.setFontSize(selectedTextId as number, value as number));\r\n    };\r\n    const values = [] as Array<number>;\r\n    for (let i = 6; i <= 300; i = i + 2) {\r\n        values.push(i);\r\n    }\r\n    const optionElements = values.map(\r\n        el => <option key={el} value={el}>{el}</option>\r\n    );\r\n    const onChangeSelectHandle = (event: React.ChangeEvent<{ value: unknown }>) => {\r\n        dispatch(textAC.setFontSize(selectedTextId as number, event.target.value as number));\r\n    };\r\n    return {\r\n        classes, textLabel, fontSizeLabel, value,\r\n        handleChange, optionElements, fontStyle,\r\n        onChangeSelectHandle, selectedTextId,\r\n        lowerCase, upperCase\r\n    }\r\n};\r\n\r\n\r\n//============== COMPONENT =================\r\nconst LeftPanelText: React.FC<{}> = () => {\r\n    const {\r\n        classes, textLabel, fontSizeLabel,\r\n        value, handleChange, optionElements,\r\n        onChangeSelectHandle, selectedTextId,\r\n        fontStyle, lowerCase, upperCase\r\n    } = useLeftPanelText();\r\n    return (\r\n        <div className={classes.LeftPanelText}>\r\n            <Typography variant='subtitle2'\r\n                        className={classes.typography}\r\n            >\r\n                {textLabel}\r\n            </Typography>\r\n\r\n            <div className={classes.form}>\r\n                <Typography variant='body2'>\r\n                    {fontSizeLabel}\r\n                </Typography>\r\n                <Slider className={classes.slider}\r\n                        min={6}\r\n                        max={300}\r\n                        step={2}\r\n                        value={value}\r\n                        onChange={handleChange}\r\n                />\r\n\r\n                <div className={classes.formControlWrapper}>\r\n                    <FormControl variant=\"outlined\" className={classes.formControl} size='small'>\r\n                        <Select\r\n                            native\r\n                            value={value}\r\n                            onChange={onChangeSelectHandle}\r\n                        >\r\n                            {optionElements}\r\n                        </Select>\r\n                    </FormControl>\r\n                </div>\r\n\r\n                <div className={classes.fontStyleBlock}>\r\n                    <ButtonFontStyle selectedTextId={selectedTextId as number}\r\n                                     fontStyle={fontStyle}\r\n                    />\r\n                    <ButtonLowerCase selectedTextId={selectedTextId as number}\r\n                                     lowerCase={lowerCase}/>\r\n                    <ButtonUpperCase selectedTextId={selectedTextId as number}\r\n                                     upperCase={upperCase}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\nexport default LeftPanelText;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    LeftPanelText: {\r\n        width: 200,\r\n        border: '1px solid #ccc',\r\n        backgroundColor: '#FFF',\r\n        borderRadius: 5,\r\n        overflow: 'hidden'\r\n    },\r\n    typography: {\r\n        backgroundColor: grey[300],\r\n        padding: '10px 20px'\r\n    },\r\n    form: {\r\n        padding: '10px 20px'\r\n    },\r\n    slider: {\r\n        margin: '10px 0',\r\n    },\r\n    formControlWrapper: {\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n    },\r\n    formControl: {\r\n        margin: 5,\r\n        minWidth: 60,\r\n    },\r\n    fontStyleBlock: {\r\n        display: 'flex',\r\n        justifyContent: 'space-evenly'\r\n    }\r\n});","import React from \"react\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport {HexColorPicker} from \"react-colorful\";\r\nimport './../../../../../css/styles.css';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getSelectedTextId, getTexts} from \"../../../../../Store/selectors/text-selectors\";\r\nimport {TextType} from \"../../../../../Types/types\";\r\nimport {translate} from \"../../../../../Utils/lang\";\r\nimport {getLang} from \"../../../../../Store/selectors/app-selectors\";\r\nimport grey from \"@material-ui/core/colors/grey\";\r\nimport {textAC} from \"../../../../../Store/reducers/text-reducer\";\r\n\r\n//===================== CUSTOM HOOK ===================\r\nconst useLeftPanelColor = () => {\r\n    const lang = useSelector(getLang);\r\n    const titleLabel = translate(lang, 'Color')\r\n    const texts = useSelector(getTexts);\r\n    const selectedTextId = useSelector(getSelectedTextId);\r\n    const color = (texts.find(el => el.id === selectedTextId) as TextType).color;\r\n    const dispatch = useDispatch();\r\n    const onChangeHandler = (newColor: string) => {\r\n        dispatch(textAC.setColor(selectedTextId as number, newColor));\r\n    };\r\n    const classes = useStyles();\r\n    return {\r\n        color, classes, titleLabel, onChangeHandler\r\n    }\r\n};\r\n\r\n//==================== COMPONENT ======================\r\nconst LeftPanelColor: React.FC<{}> = () => {\r\n    const {\r\n        color, classes, titleLabel, onChangeHandler,\r\n    } = useLeftPanelColor();\r\n\r\n    return (\r\n        <div className={classes.leftPanelColor}>\r\n            <Typography variant='subtitle2'\r\n                        className={classes.typography}>\r\n                {titleLabel}\r\n            </Typography>\r\n            <div className={classes.form}>\r\n                <HexColorPicker color={color}\r\n                                onChange={onChangeHandler}\r\n                                className={classes.colorPicker}\r\n                />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n};\r\nexport default LeftPanelColor;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    leftPanelColor: {\r\n        width: 200,\r\n        border: '1px solid #ccc',\r\n        backgroundColor: '#FFF',\r\n        borderRadius: 5,\r\n        overflow: 'hidden'\r\n    },\r\n    typography: {\r\n        backgroundColor: grey[300],\r\n        padding: '10px 20px'\r\n    },\r\n    form: {\r\n        padding: '20px 20px'\r\n    },\r\n    colorPicker: {\r\n        width: 160,\r\n        height: 160\r\n    }\r\n});","import React, {useEffect, useRef, useState} from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {List} from \"@material-ui/core\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport TextFieldsIcon from '@material-ui/icons/TextFields';\r\nimport ColorLensIcon from '@material-ui/icons/ColorLens';\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\r\nimport grey from \"@material-ui/core/colors/grey\";\r\nimport indigo from \"@material-ui/core/colors/indigo\";\r\nimport clsx from \"clsx\";\r\nimport LeftPanelText from \"./LeftPanelText/LeftPanelText\";\r\nimport LeftPanelColor from \"./LeftPanelColor\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {workspaceAC} from \"../../../../../Store/reducers/workspace-reducer\";\r\nimport {textAC} from \"../../../../../Store/reducers/text-reducer\";\r\nimport {getSelectedTextId} from \"../../../../../Store/selectors/text-selectors\";\r\nimport Tooltip from \"@material-ui/core/Tooltip/Tooltip\";\r\nimport {getLang} from \"../../../../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../../../../Utils/lang\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useLeftPanel = () => {\r\n    const [leftPanelIndex, setLeftPanelIndex] = useState(-1)\r\n    const classes = useStyles();\r\n    const selectedTextId = useSelector(getSelectedTextId) as number;\r\n    const onClickHandler = [];\r\n    onClickHandler[0] = () => {\r\n        setLeftPanelIndex(0);\r\n    };\r\n    onClickHandler[1] = () => {\r\n        setLeftPanelIndex(1);\r\n    };\r\n    onClickHandler[2] = () => {\r\n        setLeftPanelIndex(2);\r\n        dispatch(textAC.removeText(selectedTextId))\r\n    };\r\n    const refLeftPanel = useRef(null);\r\n\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        dispatch(workspaceAC.setRefLeftPanel(refLeftPanel))\r\n    });\r\n    const lang = useSelector(getLang);\r\n    const textLabel = translate(lang, 'Text');\r\n    const colorLabel = translate(lang, 'Color');\r\n    const deleteLabel = translate(lang, 'Delete');\r\n    return {\r\n        classes, leftPanelIndex, onClickHandler,\r\n        refLeftPanel, textLabel, colorLabel,\r\n        deleteLabel\r\n    }\r\n}\r\n\r\n//============== COMPONENT =================\r\nconst LeftPanel: React.FC<{}> = () => {\r\n    const {\r\n        classes, leftPanelIndex, onClickHandler,\r\n        refLeftPanel, textLabel, colorLabel,\r\n        deleteLabel\r\n    } = useLeftPanel();\r\n\r\n    return (\r\n        <div className={classes.leftPanel} ref={refLeftPanel}>\r\n\r\n            <List className={classes.list}>\r\n\r\n                <Tooltip title={textLabel} placement=\"right\" arrow\r\n                         classes={{\r\n                             tooltip: classes.tooltip,\r\n                             arrow: classes.arrow\r\n                         }}>\r\n                    <ListItem button\r\n                              className={classes.listItem}\r\n                              onClick={onClickHandler[0]}\r\n                              selected={leftPanelIndex === 0}>\r\n                        <ListItemIcon>\r\n                            <TextFieldsIcon\r\n                                className={clsx(classes.icon, leftPanelIndex === 0 && classes.iconSelected)}/>\r\n                        </ListItemIcon>\r\n                    </ListItem>\r\n                </Tooltip>\r\n\r\n                <Tooltip title={colorLabel} placement=\"right\" arrow\r\n                         classes={{\r\n                             tooltip: classes.tooltip,\r\n                             arrow: classes.arrow\r\n                         }}>\r\n                    <ListItem button\r\n                              className={classes.listItem}\r\n                              onClick={onClickHandler[1]}\r\n                              selected={leftPanelIndex === 1}>\r\n                        <ListItemIcon>\r\n                            <ColorLensIcon\r\n                                className={clsx(classes.icon, leftPanelIndex === 1 && classes.iconSelected)}/>\r\n                        </ListItemIcon>\r\n                    </ListItem>\r\n                </Tooltip>\r\n\r\n                <Tooltip title={deleteLabel} placement=\"right\" arrow\r\n                         classes={{\r\n                             tooltip: classes.tooltip,\r\n                             arrow: classes.arrow\r\n                         }} >\r\n                    <ListItem button\r\n                              className={classes.listItem}\r\n                              onClick={onClickHandler[2]}\r\n                              selected={leftPanelIndex === 2}>\r\n                        <ListItemIcon>\r\n                            <DeleteForeverIcon\r\n                                className={clsx(classes.icon, leftPanelIndex === 2 && classes.iconSelected)}/>\r\n                        </ListItemIcon>\r\n                    </ListItem>\r\n                </Tooltip>\r\n\r\n            </List>\r\n\r\n            <div>\r\n                {\r\n                    leftPanelIndex === 0 && <LeftPanelText/>\r\n                }\r\n                {\r\n                    leftPanelIndex === 1 && <LeftPanelColor/>\r\n                }\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n};\r\nexport default LeftPanel;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    leftPanel: {\r\n        padding: 0,\r\n        position: 'absolute',\r\n        top: 10,\r\n        left: 10,\r\n        display: 'flex',\r\n        alignItems: 'flex-start'\r\n    },\r\n    list: {\r\n        width: 60,\r\n        border: '1px solid #ccc',\r\n        backgroundColor: '#FFF',\r\n        borderRadius: 5,\r\n        overflow: 'hidden',\r\n        marginRight: 5,\r\n        padding: 0\r\n    },\r\n    listItem: {\r\n        '&:hover': {\r\n            backgroundColor: grey[400]\r\n        },\r\n        '&.Mui-selected:hover': {\r\n            backgroundColor: indigo[500],\r\n        },\r\n        '&.Mui-selected': {\r\n            backgroundColor: indigo[500],\r\n        },\r\n    },\r\n    icon: {\r\n        color: grey[800]\r\n    },\r\n    iconSelected: {\r\n        color: '#FFF'\r\n    },\r\n    tooltip: {\r\n        backgroundColor: '#000'\r\n    },\r\n    arrow: {\r\n        color: '#000'\r\n    }\r\n});\r\n\r\n","import React from \"react\";\r\nimport BannerCanvasWrapper from \"../Banner/BannerCanvas/BannerCanvasWrapper\";\r\nimport {mainSidebarWidth, secondSidebarWidth} from \"../../../../Utils/CONST\";\r\nimport LeftPanel from \"./LeftPanel/LeftPanel\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getTexts} from \"../../../../Store/selectors/text-selectors\";\r\nimport styled from \"styled-components\";\r\nimport {getShowSecondSidebar, getSize} from \"../../../../Store/selectors/editor-selectors\";\r\nimport {getZoom} from \"../../../../Store/selectors/workspace-selectors\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useEditorWorkspace = () => {\r\n    const texts = useSelector(getTexts);\r\n    const leftPanelIsShow = !!texts.find(el => el.editParameters === true);\r\n    const showSecondSidebar = useSelector(getShowSecondSidebar);\r\n    const size = useSelector(getSize);\r\n    const zoom = useSelector(getZoom);\r\n    return {\r\n        leftPanelIsShow, size, zoom,\r\n        showSecondSidebar\r\n    }\r\n};\r\n\r\nconst Row1 = styled.div`\r\n    display: flex;\r\n    min-height: 50px;\r\n    flex-shrink: 0;\r\n    flex-grow: 1; \r\n`;\r\n\r\nconst Div1 = styled.div`\r\n    min-width: 50px;\r\n    min-height: 50px;\r\n    box-sizing: border-box;\r\n    //border: 5px solid red;\r\n    flex-shrink: 0;\r\n    flex-grow: 1;\r\n`;\r\n\r\nconst Div2 = styled.div`\r\n    width: ${(props: { width: number, zoom: number }) => `${props.width * props.zoom / 100}px`};\r\n    min-height: 50px;\r\n    box-sizing: border-box;\r\n    //border: 5px solid red;\r\n    flex-shrink: 0;\r\n`;\r\n\r\nconst Row2 = styled.div`\r\n    display: flex;\r\n    //height: 50px;\r\n    flex-shrink: 0; \r\n`;\r\n\r\nconst Div3 = styled.div`\r\n    height: ${(props: { height: number, zoom: number }) => `${props.height * props.zoom / 100}px`};\r\n    min-width: 50px;\r\n    box-sizing: border-box;\r\n    //border: 5px solid red;\r\n    flex-shrink: 0;\r\n    flex-grow: 1;\r\n`;\r\n\r\nconst WorkspaceDiv = styled.div`\r\n        flex-grow: 1;\r\n        display: flex;\r\n        flex-direction: column;\r\n        position: relative;\r\n        width: ${\r\n    (\r\n        props: { showSecondSidebar: boolean }\r\n    ) => `calc(100vw - ${mainSidebarWidth}px - ${secondSidebarWidth * (props.showSecondSidebar ? 1 : 0)}px)`\r\n};\r\n        box-sizing: border-box;\r\n        overflow: auto;\r\n`\r\n\r\n//============== COMPONENT =================\r\nconst Workspace: React.FC<{}> = () => {\r\n    const {\r\n        leftPanelIsShow, size,\r\n        zoom, showSecondSidebar\r\n    } = useEditorWorkspace();\r\n\r\n    return (\r\n        <WorkspaceDiv showSecondSidebar={showSecondSidebar}>\r\n            <Row1>\r\n                <Div1/>\r\n                <Div2 width={size.width as number} zoom={zoom}/>\r\n                <Div1/>\r\n            </Row1>\r\n            <Row2>\r\n                <Div3 height={size.height as number} zoom={zoom}/>\r\n                <BannerCanvasWrapper/>\r\n                <Div3 height={size.height as number} zoom={zoom}/>\r\n            </Row2>\r\n            <Row1>\r\n                <Div1/>\r\n                <Div2 width={size.width as number} zoom={zoom}/>\r\n                <Div1/>\r\n            </Row1>\r\n\r\n            {\r\n                leftPanelIsShow &&\r\n                <LeftPanel/>\r\n            }\r\n        </WorkspaceDiv>\r\n    )\r\n};\r\n\r\nexport default Workspace;","import {Dialog} from \"@material-ui/core\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getShowAlarm} from \"../../Store/selectors/text-selectors\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport React from \"react\";\r\nimport {textAC} from \"../../Store/reducers/text-reducer\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport {getLang} from \"../../Store/selectors/app-selectors\";\r\nimport {translate} from \"../../Utils/lang\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\n\r\n//========== CUSTOM HOOK ===========\r\nconst useAlarm = () => {\r\n    const showAlarm = useSelector(getShowAlarm);\r\n    const lang = useSelector(getLang);\r\n    const title = translate(lang, 'Maximum count of text');\r\n    const content = translate(lang, 'Maximum count of text in trial version of banner creator is 3.');\r\n    const dispatch = useDispatch();\r\n    const onCloseHandler = () => {\r\n        dispatch(textAC.setShowAlarm(false))\r\n    };\r\n    return {\r\n        showAlarm, onCloseHandler, title, content\r\n    }\r\n};\r\n\r\n//=========== COMPONENT ============\r\nconst Alarm: React.FC<{}> = () => {\r\n    const {\r\n        showAlarm, onCloseHandler, title, content\r\n    } = useAlarm();\r\n\r\n    return (\r\n        <Dialog open={showAlarm}\r\n                onClose={onCloseHandler}\r\n        >\r\n            <DialogTitle>{title}</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText>\r\n                    {content}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                  <Button onClick={onCloseHandler} color=\"primary\" autoFocus variant='outlined'>\r\n                    Ok\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n};\r\nexport default Alarm;","import React from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getShowSecondSidebar} from \"../../../Store/selectors/editor-selectors\";\r\nimport {makeStyles} from \"@material-ui/core\";\r\nimport brown from \"@material-ui/core/colors/brown\";\r\nimport MainSidebar from \"./MainSidebar/MainSidebar\";\r\nimport {mainSidebarWidth, secondSidebarWidth} from \"../../../Utils/CONST\";\r\nimport SecondarySidebar from \"./SecondarySidebar/SecondarySidebar\";\r\nimport clsx from \"clsx\";\r\nimport Toolbar from \"./Toolbar/Toolbar\";\r\nimport Workspace from \"./Workspace/Workspace\";\r\nimport grey from \"@material-ui/core/colors/grey\";\r\nimport Alarm from \"../../common/Alarm\";\r\n\r\n//============ CUSTOM HOOK ====================\r\nconst useEditor = () => {\r\n    const classes = useStyles();\r\n    const showSecondSidebar = useSelector(getShowSecondSidebar)\r\n    return {classes, showSecondSidebar}\r\n};\r\n\r\n//============== COMPONENT =================\r\nconst Editor:React.FC<{}> = () => {\r\n    const {\r\n        classes, showSecondSidebar\r\n    } = useEditor();\r\n    return (\r\n        <div className={classes.editor}>\r\n            <div className={classes.mainSidebar}>\r\n                <MainSidebar/>\r\n            </div>\r\n            <div className={clsx(classes.secondSidebarWrapper, !showSecondSidebar && classes.secondSidebarWrapperHide)}>\r\n                <div className={classes.secondSidebar}>\r\n                    <SecondarySidebar/>\r\n                </div>\r\n            </div>\r\n            <div className={classes.workspace} >\r\n                <Toolbar/>\r\n                <Workspace/>\r\n            </div>\r\n            <Alarm/>\r\n        </div>\r\n    )\r\n};\r\nexport default Editor;\r\n\r\n//================================ STYLES =======================================\r\nconst useStyles = makeStyles({\r\n    editor: {\r\n        display: 'flex',\r\n        height: 'calc(100vh - 64px)',\r\n        width: '100vw'\r\n    },\r\n    mainSidebar: {\r\n        width: mainSidebarWidth,\r\n        flexShrink: 0,\r\n        backgroundColor: brown[800],\r\n        height: 'calc(100vh - 64px)',\r\n    },\r\n    secondSidebarWrapper: {\r\n        width: secondSidebarWidth,\r\n        flexShrink: 0,\r\n        backgroundColor: brown[600],\r\n        position: 'relative',\r\n        transition: 'width .3s',\r\n        overflow: 'hidden',\r\n        height: 'calc(100vh - 64px)',\r\n    },\r\n    secondSidebarWrapperHide: {\r\n        width: 0,\r\n    },\r\n    secondSidebar: {\r\n        position: 'absolute',\r\n        width: secondSidebarWidth,\r\n        right: 0,\r\n        height: 'calc(100vh - 64px)',\r\n    },\r\n    workspace: {\r\n        flexGrow: 1,\r\n        width: `calc(100vw - ${mainSidebarWidth}px - ${secondSidebarWidth}px)`,\r\n        height: 'calc(100vh - 64px)',\r\n        backgroundColor: grey[200],\r\n        display: 'flex',\r\n        flexDirection: 'column'\r\n    }\r\n});\r\n","import {ReactElement} from \"react\";\r\nimport React from \"react\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport PageNotFound from \"../common/PageNotFound\";\r\nimport CreateNew from \"./CreateNew/CreateNew\";\r\nimport {Route, Switch} from \"react-router-dom\";\r\nimport Editor from \"./Editor/Editor\";\r\n\r\n//======================== CUSTOM HOOK =========================\r\nconst useMain = () => {\r\n    const classes = useStyles();\r\n    return {classes}\r\n};\r\n\r\n//======================= COMPONENT ===============================\r\nconst Main: React.FC<{}> = (): ReactElement => {\r\n    const {classes} = useMain();\r\n    return (\r\n        <main className={classes.main}>\r\n                <Switch>\r\n                    <Route exact path='/' render={() => <CreateNew/>}/>\r\n                    <Route path='/editor' render={() => <Editor/>}/>\r\n                    <Route path='*' render={() => <PageNotFound/>}/>\r\n                </Switch>\r\n        </main>\r\n    )\r\n};\r\nexport default Main;\r\n\r\n//========================== STYLES ================================================\r\nconst useStyles = makeStyles({\r\n    main: {\r\n        display: 'flex',\r\n        boxSizing: 'border-box',\r\n        height: 'calc(100vh - 64px)',\r\n        width: '100vw'\r\n    }\r\n});","import React, {ReactElement, useEffect} from 'react';\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport Header from \"./Components/Header/Header\";\nimport Main from \"./Components/Main/Main\";\n\n//======================== CUSTOM HOOK =========================\nconst useApp = () => {\n    const classes = useStyles();\n    const catchAllUnhandledErrors = (e: PromiseRejectionEvent) => {\n        alert(e);\n    };\n    useEffect(() => {\n        window.addEventListener('unhandledrejection', catchAllUnhandledErrors);\n        return () => {\n            window.removeEventListener('unhandledrejection', catchAllUnhandledErrors);\n        }\n    }, []);\n\n\n    return {\n        classes\n    }\n};\n\n\nconst App: React.FC<{}> = (): ReactElement => {\n    const {\n        classes\n    } = useApp();\n    return (\n        <div className={classes.app}>\n            <Header/>\n            <Main/>\n        </div>\n    );\n};\nexport default App;\n\n//============================= STYLE ==========================\nconst useStyles = makeStyles({\n    app: {\n        height: '100vh',\n        width: '100vw'\n    },\n});\n\n","import {Action, applyMiddleware, combineReducers, createStore, Middleware} from \"redux\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport {composeWithDevTools} from \"redux-devtools-extension\";\r\nimport appReducer from \"./reducers/app-reducer\";\r\nimport editorReducer from \"./reducers/editor-reducer\";\r\nimport thunkMiddleware, {ThunkAction} from \"redux-thunk\";\r\nimport workspaceReducer from \"./reducers/workspace-reducer\";\r\nimport textReducer from \"./reducers/text-reducer\";\r\n\r\nlet rootReducer = combineReducers({\r\n    app: appReducer,\r\n    editor: editorReducer,\r\n    workspace: workspaceReducer,\r\n    text: textReducer,\r\n    form: formReducer\r\n});\r\n\r\nconst middleware: Array<Middleware> = [thunkMiddleware];\r\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(...middleware)));\r\nexport default store;\r\n\r\n//======================== TYPE ==========================\r\nexport type StateType = ReturnType<typeof rootReducer>\r\nexport type GetActionsType<T> = T extends {[key: string]: (...args: any[]) => infer U } ? U : never\r\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, StateType, unknown, A>","import React from 'react';\r\nimport {ErrorInfo} from \"react\";\r\n\r\nclass ErrorBoundary extends React.Component<PropsType, StateType> {\r\n    constructor(props: PropsType) {\r\n        super(props);\r\n        this.state = {\r\n            error: null,\r\n            errorInfo: null\r\n        };\r\n    }\r\n\r\n    componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n        this.setState({\r\n            error: error,\r\n            errorInfo: errorInfo\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if (this.state.errorInfo) {\r\n            return (\r\n                <div>\r\n                    <h2>Something went wrong</h2>\r\n                    <details style={{whiteSpace: 'pre-wrap'}}>\r\n                        {this.state.error && this.state.error.toString()}\r\n                    </details>\r\n                </div>\r\n            )\r\n        }\r\n        return this.props.children;\r\n    }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n\r\n//==================== TYPES ========================\r\ntype PropsType = {};\r\ntype StateType = {\r\n    error: null | Error\r\n    errorInfo: null | ErrorInfo\r\n}","import {Provider} from \"react-redux\";\r\nimport {HashRouter} from \"react-router-dom\";\r\nimport React, {ReactElement} from \"react\";\r\nimport App from \"./App\";\r\nimport store from \"./Store/store\";\r\nimport ErrorBoundary from \"./Components/common/ErrorBoundary\";\r\nimport {CssBaseline} from \"@material-ui/core\";\r\nimport {DndProvider} from \"react-dnd\";\r\nimport {HTML5Backend} from \"react-dnd-html5-backend\";\r\n\r\nconst AppContainer: React.FC = (): ReactElement => {\r\n    return (\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <ErrorBoundary>\r\n                    <CssBaseline/>\r\n                    <DndProvider backend={HTML5Backend}>\r\n                        <App/>\r\n                    </DndProvider>\r\n                </ErrorBoundary>\r\n            </Provider>\r\n        </HashRouter>\r\n    )\r\n}\r\n\r\nexport default AppContainer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport AppContainer from \"./AppContainer\";\n\nReactDOM.render(<AppContainer />, document.getElementById('root'));\nreportWebVitals();\n"],"sourceRoot":""}